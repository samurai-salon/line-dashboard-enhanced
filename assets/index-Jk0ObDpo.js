(function(){const c=document.createElement("link").relList;if(c&&c.supports&&c.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))d(u);new MutationObserver(u=>{for(const m of u)if(m.type==="childList")for(const f of m.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&d(f)}).observe(document,{childList:!0,subtree:!0});function o(u){const m={};return u.integrity&&(m.integrity=u.integrity),u.referrerPolicy&&(m.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?m.credentials="include":u.crossOrigin==="anonymous"?m.credentials="omit":m.credentials="same-origin",m}function d(u){if(u.ep)return;u.ep=!0;const m=o(u);fetch(u.href,m)}})();function kg(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var wd={exports:{}},jn={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zx;function Tg(){if(Zx)return jn;Zx=1;var i=Symbol.for("react.transitional.element"),c=Symbol.for("react.fragment");function o(d,u,m){var f=null;if(m!==void 0&&(f=""+m),u.key!==void 0&&(f=""+u.key),"key"in u){m={};for(var b in u)b!=="key"&&(m[b]=u[b])}else m=u;return u=m.ref,{$$typeof:i,type:d,key:f,ref:u!==void 0?u:null,props:m}}return jn.Fragment=c,jn.jsx=o,jn.jsxs=o,jn}var Gx;function Eg(){return Gx||(Gx=1,wd.exports=Tg()),wd.exports}var e=Eg(),Sd={exports:{}},ge={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vx;function Ag(){if(Vx)return ge;Vx=1;var i=Symbol.for("react.transitional.element"),c=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),d=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),m=Symbol.for("react.consumer"),f=Symbol.for("react.context"),b=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),j=Symbol.for("react.lazy"),C=Symbol.iterator;function L(v){return v===null||typeof v!="object"?null:(v=C&&v[C]||v["@@iterator"],typeof v=="function"?v:null)}var $={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},O=Object.assign,_={};function N(v,G,X){this.props=v,this.context=G,this.refs=_,this.updater=X||$}N.prototype.isReactComponent={},N.prototype.setState=function(v,G){if(typeof v!="object"&&typeof v!="function"&&v!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,v,G,"setState")},N.prototype.forceUpdate=function(v){this.updater.enqueueForceUpdate(this,v,"forceUpdate")};function w(){}w.prototype=N.prototype;function E(v,G,X){this.props=v,this.context=G,this.refs=_,this.updater=X||$}var T=E.prototype=new w;T.constructor=E,O(T,N.prototype),T.isPureReactComponent=!0;var S=Array.isArray,M={H:null,A:null,T:null,S:null,V:null},H=Object.prototype.hasOwnProperty;function ee(v,G,X,se,ae,ue){return X=ue.ref,{$$typeof:i,type:v,key:G,ref:X!==void 0?X:null,props:ue}}function Y(v,G){return ee(v.type,G,void 0,void 0,void 0,v.props)}function le(v){return typeof v=="object"&&v!==null&&v.$$typeof===i}function F(v){var G={"=":"=0",":":"=2"};return"$"+v.replace(/[=:]/g,function(X){return G[X]})}var ce=/\/+/g;function J(v,G){return typeof v=="object"&&v!==null&&v.key!=null?F(""+v.key):G.toString(36)}function de(){}function pe(v){switch(v.status){case"fulfilled":return v.value;case"rejected":throw v.reason;default:switch(typeof v.status=="string"?v.then(de,de):(v.status="pending",v.then(function(G){v.status==="pending"&&(v.status="fulfilled",v.value=G)},function(G){v.status==="pending"&&(v.status="rejected",v.reason=G)})),v.status){case"fulfilled":return v.value;case"rejected":throw v.reason}}throw v}function Ce(v,G,X,se,ae){var ue=typeof v;(ue==="undefined"||ue==="boolean")&&(v=null);var U=!1;if(v===null)U=!0;else switch(ue){case"bigint":case"string":case"number":U=!0;break;case"object":switch(v.$$typeof){case i:case c:U=!0;break;case j:return U=v._init,Ce(U(v._payload),G,X,se,ae)}}if(U)return ae=ae(v),U=se===""?"."+J(v,0):se,S(ae)?(X="",U!=null&&(X=U.replace(ce,"$&/")+"/"),Ce(ae,G,X,"",function(fe){return fe})):ae!=null&&(le(ae)&&(ae=Y(ae,X+(ae.key==null||v&&v.key===ae.key?"":(""+ae.key).replace(ce,"$&/")+"/")+U)),G.push(ae)),1;U=0;var re=se===""?".":se+":";if(S(v))for(var ne=0;ne<v.length;ne++)se=v[ne],ue=re+J(se,ne),U+=Ce(se,G,X,ue,ae);else if(ne=L(v),typeof ne=="function")for(v=ne.call(v),ne=0;!(se=v.next()).done;)se=se.value,ue=re+J(se,ne++),U+=Ce(se,G,X,ue,ae);else if(ue==="object"){if(typeof v.then=="function")return Ce(pe(v),G,X,se,ae);throw G=String(v),Error("Objects are not valid as a React child (found: "+(G==="[object Object]"?"object with keys {"+Object.keys(v).join(", ")+"}":G)+"). If you meant to render a collection of children, use an array instead.")}return U}function A(v,G,X){if(v==null)return v;var se=[],ae=0;return Ce(v,se,"","",function(ue){return G.call(X,ue,ae++)}),se}function Q(v){if(v._status===-1){var G=v._result;G=G(),G.then(function(X){(v._status===0||v._status===-1)&&(v._status=1,v._result=X)},function(X){(v._status===0||v._status===-1)&&(v._status=2,v._result=X)}),v._status===-1&&(v._status=0,v._result=G)}if(v._status===1)return v._result.default;throw v._result}var te=typeof reportError=="function"?reportError:function(v){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var G=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof v=="object"&&v!==null&&typeof v.message=="string"?String(v.message):String(v),error:v});if(!window.dispatchEvent(G))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",v);return}console.error(v)};function R(){}return ge.Children={map:A,forEach:function(v,G,X){A(v,function(){G.apply(this,arguments)},X)},count:function(v){var G=0;return A(v,function(){G++}),G},toArray:function(v){return A(v,function(G){return G})||[]},only:function(v){if(!le(v))throw Error("React.Children.only expected to receive a single React element child.");return v}},ge.Component=N,ge.Fragment=o,ge.Profiler=u,ge.PureComponent=E,ge.StrictMode=d,ge.Suspense=g,ge.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=M,ge.__COMPILER_RUNTIME={__proto__:null,c:function(v){return M.H.useMemoCache(v)}},ge.cache=function(v){return function(){return v.apply(null,arguments)}},ge.cloneElement=function(v,G,X){if(v==null)throw Error("The argument must be a React element, but you passed "+v+".");var se=O({},v.props),ae=v.key,ue=void 0;if(G!=null)for(U in G.ref!==void 0&&(ue=void 0),G.key!==void 0&&(ae=""+G.key),G)!H.call(G,U)||U==="key"||U==="__self"||U==="__source"||U==="ref"&&G.ref===void 0||(se[U]=G[U]);var U=arguments.length-2;if(U===1)se.children=X;else if(1<U){for(var re=Array(U),ne=0;ne<U;ne++)re[ne]=arguments[ne+2];se.children=re}return ee(v.type,ae,void 0,void 0,ue,se)},ge.createContext=function(v){return v={$$typeof:f,_currentValue:v,_currentValue2:v,_threadCount:0,Provider:null,Consumer:null},v.Provider=v,v.Consumer={$$typeof:m,_context:v},v},ge.createElement=function(v,G,X){var se,ae={},ue=null;if(G!=null)for(se in G.key!==void 0&&(ue=""+G.key),G)H.call(G,se)&&se!=="key"&&se!=="__self"&&se!=="__source"&&(ae[se]=G[se]);var U=arguments.length-2;if(U===1)ae.children=X;else if(1<U){for(var re=Array(U),ne=0;ne<U;ne++)re[ne]=arguments[ne+2];ae.children=re}if(v&&v.defaultProps)for(se in U=v.defaultProps,U)ae[se]===void 0&&(ae[se]=U[se]);return ee(v,ue,void 0,void 0,null,ae)},ge.createRef=function(){return{current:null}},ge.forwardRef=function(v){return{$$typeof:b,render:v}},ge.isValidElement=le,ge.lazy=function(v){return{$$typeof:j,_payload:{_status:-1,_result:v},_init:Q}},ge.memo=function(v,G){return{$$typeof:h,type:v,compare:G===void 0?null:G}},ge.startTransition=function(v){var G=M.T,X={};M.T=X;try{var se=v(),ae=M.S;ae!==null&&ae(X,se),typeof se=="object"&&se!==null&&typeof se.then=="function"&&se.then(R,te)}catch(ue){te(ue)}finally{M.T=G}},ge.unstable_useCacheRefresh=function(){return M.H.useCacheRefresh()},ge.use=function(v){return M.H.use(v)},ge.useActionState=function(v,G,X){return M.H.useActionState(v,G,X)},ge.useCallback=function(v,G){return M.H.useCallback(v,G)},ge.useContext=function(v){return M.H.useContext(v)},ge.useDebugValue=function(){},ge.useDeferredValue=function(v,G){return M.H.useDeferredValue(v,G)},ge.useEffect=function(v,G,X){var se=M.H;if(typeof X=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return se.useEffect(v,G)},ge.useId=function(){return M.H.useId()},ge.useImperativeHandle=function(v,G,X){return M.H.useImperativeHandle(v,G,X)},ge.useInsertionEffect=function(v,G){return M.H.useInsertionEffect(v,G)},ge.useLayoutEffect=function(v,G){return M.H.useLayoutEffect(v,G)},ge.useMemo=function(v,G){return M.H.useMemo(v,G)},ge.useOptimistic=function(v,G){return M.H.useOptimistic(v,G)},ge.useReducer=function(v,G,X){return M.H.useReducer(v,G,X)},ge.useRef=function(v){return M.H.useRef(v)},ge.useState=function(v){return M.H.useState(v)},ge.useSyncExternalStore=function(v,G,X){return M.H.useSyncExternalStore(v,G,X)},ge.useTransition=function(){return M.H.useTransition()},ge.version="19.1.1",ge}var Yx;function qd(){return Yx||(Yx=1,Sd.exports=Ag()),Sd.exports}var y=qd();const h0=kg(y);var Cd={exports:{}},vn={},kd={exports:{}},Td={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qx;function Mg(){return Qx||(Qx=1,(function(i){function c(A,Q){var te=A.length;A.push(Q);e:for(;0<te;){var R=te-1>>>1,v=A[R];if(0<u(v,Q))A[R]=Q,A[te]=v,te=R;else break e}}function o(A){return A.length===0?null:A[0]}function d(A){if(A.length===0)return null;var Q=A[0],te=A.pop();if(te!==Q){A[0]=te;e:for(var R=0,v=A.length,G=v>>>1;R<G;){var X=2*(R+1)-1,se=A[X],ae=X+1,ue=A[ae];if(0>u(se,te))ae<v&&0>u(ue,se)?(A[R]=ue,A[ae]=te,R=ae):(A[R]=se,A[X]=te,R=X);else if(ae<v&&0>u(ue,te))A[R]=ue,A[ae]=te,R=ae;else break e}}return Q}function u(A,Q){var te=A.sortIndex-Q.sortIndex;return te!==0?te:A.id-Q.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var m=performance;i.unstable_now=function(){return m.now()}}else{var f=Date,b=f.now();i.unstable_now=function(){return f.now()-b}}var g=[],h=[],j=1,C=null,L=3,$=!1,O=!1,_=!1,N=!1,w=typeof setTimeout=="function"?setTimeout:null,E=typeof clearTimeout=="function"?clearTimeout:null,T=typeof setImmediate<"u"?setImmediate:null;function S(A){for(var Q=o(h);Q!==null;){if(Q.callback===null)d(h);else if(Q.startTime<=A)d(h),Q.sortIndex=Q.expirationTime,c(g,Q);else break;Q=o(h)}}function M(A){if(_=!1,S(A),!O)if(o(g)!==null)O=!0,H||(H=!0,J());else{var Q=o(h);Q!==null&&Ce(M,Q.startTime-A)}}var H=!1,ee=-1,Y=5,le=-1;function F(){return N?!0:!(i.unstable_now()-le<Y)}function ce(){if(N=!1,H){var A=i.unstable_now();le=A;var Q=!0;try{e:{O=!1,_&&(_=!1,E(ee),ee=-1),$=!0;var te=L;try{t:{for(S(A),C=o(g);C!==null&&!(C.expirationTime>A&&F());){var R=C.callback;if(typeof R=="function"){C.callback=null,L=C.priorityLevel;var v=R(C.expirationTime<=A);if(A=i.unstable_now(),typeof v=="function"){C.callback=v,S(A),Q=!0;break t}C===o(g)&&d(g),S(A)}else d(g);C=o(g)}if(C!==null)Q=!0;else{var G=o(h);G!==null&&Ce(M,G.startTime-A),Q=!1}}break e}finally{C=null,L=te,$=!1}Q=void 0}}finally{Q?J():H=!1}}}var J;if(typeof T=="function")J=function(){T(ce)};else if(typeof MessageChannel<"u"){var de=new MessageChannel,pe=de.port2;de.port1.onmessage=ce,J=function(){pe.postMessage(null)}}else J=function(){w(ce,0)};function Ce(A,Q){ee=w(function(){A(i.unstable_now())},Q)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(A){A.callback=null},i.unstable_forceFrameRate=function(A){0>A||125<A?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Y=0<A?Math.floor(1e3/A):5},i.unstable_getCurrentPriorityLevel=function(){return L},i.unstable_next=function(A){switch(L){case 1:case 2:case 3:var Q=3;break;default:Q=L}var te=L;L=Q;try{return A()}finally{L=te}},i.unstable_requestPaint=function(){N=!0},i.unstable_runWithPriority=function(A,Q){switch(A){case 1:case 2:case 3:case 4:case 5:break;default:A=3}var te=L;L=A;try{return Q()}finally{L=te}},i.unstable_scheduleCallback=function(A,Q,te){var R=i.unstable_now();switch(typeof te=="object"&&te!==null?(te=te.delay,te=typeof te=="number"&&0<te?R+te:R):te=R,A){case 1:var v=-1;break;case 2:v=250;break;case 5:v=1073741823;break;case 4:v=1e4;break;default:v=5e3}return v=te+v,A={id:j++,callback:Q,priorityLevel:A,startTime:te,expirationTime:v,sortIndex:-1},te>R?(A.sortIndex=te,c(h,A),o(g)===null&&A===o(h)&&(_?(E(ee),ee=-1):_=!0,Ce(M,te-R))):(A.sortIndex=v,c(g,A),O||$||(O=!0,H||(H=!0,J()))),A},i.unstable_shouldYield=F,i.unstable_wrapCallback=function(A){var Q=L;return function(){var te=L;L=Q;try{return A.apply(this,arguments)}finally{L=te}}}})(Td)),Td}var Xx;function Rg(){return Xx||(Xx=1,kd.exports=Mg()),kd.exports}var Ed={exports:{}},nt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Kx;function _g(){if(Kx)return nt;Kx=1;var i=qd();function c(g){var h="https://react.dev/errors/"+g;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var j=2;j<arguments.length;j++)h+="&args[]="+encodeURIComponent(arguments[j])}return"Minified React error #"+g+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(){}var d={d:{f:o,r:function(){throw Error(c(522))},D:o,C:o,L:o,m:o,X:o,S:o,M:o},p:0,findDOMNode:null},u=Symbol.for("react.portal");function m(g,h,j){var C=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:u,key:C==null?null:""+C,children:g,containerInfo:h,implementation:j}}var f=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function b(g,h){if(g==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return nt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=d,nt.createPortal=function(g,h){var j=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(c(299));return m(g,h,null,j)},nt.flushSync=function(g){var h=f.T,j=d.p;try{if(f.T=null,d.p=2,g)return g()}finally{f.T=h,d.p=j,d.d.f()}},nt.preconnect=function(g,h){typeof g=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,d.d.C(g,h))},nt.prefetchDNS=function(g){typeof g=="string"&&d.d.D(g)},nt.preinit=function(g,h){if(typeof g=="string"&&h&&typeof h.as=="string"){var j=h.as,C=b(j,h.crossOrigin),L=typeof h.integrity=="string"?h.integrity:void 0,$=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;j==="style"?d.d.S(g,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:C,integrity:L,fetchPriority:$}):j==="script"&&d.d.X(g,{crossOrigin:C,integrity:L,fetchPriority:$,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},nt.preinitModule=function(g,h){if(typeof g=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var j=b(h.as,h.crossOrigin);d.d.M(g,{crossOrigin:j,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&d.d.M(g)},nt.preload=function(g,h){if(typeof g=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var j=h.as,C=b(j,h.crossOrigin);d.d.L(g,j,{crossOrigin:C,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},nt.preloadModule=function(g,h){if(typeof g=="string")if(h){var j=b(h.as,h.crossOrigin);d.d.m(g,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:j,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else d.d.m(g)},nt.requestFormReset=function(g){d.d.r(g)},nt.unstable_batchedUpdates=function(g,h){return g(h)},nt.useFormState=function(g,h,j){return f.H.useFormState(g,h,j)},nt.useFormStatus=function(){return f.H.useHostTransitionStatus()},nt.version="19.1.1",nt}var Jx;function Dg(){if(Jx)return Ed.exports;Jx=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(c){console.error(c)}}return i(),Ed.exports=_g(),Ed.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ix;function Ug(){if(Ix)return vn;Ix=1;var i=Rg(),c=qd(),o=Dg();function d(t){var s="https://react.dev/errors/"+t;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)s+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function u(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function m(t){var s=t,a=t;if(t.alternate)for(;s.return;)s=s.return;else{t=s;do s=t,(s.flags&4098)!==0&&(a=s.return),t=s.return;while(t)}return s.tag===3?a:null}function f(t){if(t.tag===13){var s=t.memoizedState;if(s===null&&(t=t.alternate,t!==null&&(s=t.memoizedState)),s!==null)return s.dehydrated}return null}function b(t){if(m(t)!==t)throw Error(d(188))}function g(t){var s=t.alternate;if(!s){if(s=m(t),s===null)throw Error(d(188));return s!==t?null:t}for(var a=t,l=s;;){var n=a.return;if(n===null)break;var r=n.alternate;if(r===null){if(l=n.return,l!==null){a=l;continue}break}if(n.child===r.child){for(r=n.child;r;){if(r===a)return b(n),t;if(r===l)return b(n),s;r=r.sibling}throw Error(d(188))}if(a.return!==l.return)a=n,l=r;else{for(var x=!1,p=n.child;p;){if(p===a){x=!0,a=n,l=r;break}if(p===l){x=!0,l=n,a=r;break}p=p.sibling}if(!x){for(p=r.child;p;){if(p===a){x=!0,a=r,l=n;break}if(p===l){x=!0,l=r,a=n;break}p=p.sibling}if(!x)throw Error(d(189))}}if(a.alternate!==l)throw Error(d(190))}if(a.tag!==3)throw Error(d(188));return a.stateNode.current===a?t:s}function h(t){var s=t.tag;if(s===5||s===26||s===27||s===6)return t;for(t=t.child;t!==null;){if(s=h(t),s!==null)return s;t=t.sibling}return null}var j=Object.assign,C=Symbol.for("react.element"),L=Symbol.for("react.transitional.element"),$=Symbol.for("react.portal"),O=Symbol.for("react.fragment"),_=Symbol.for("react.strict_mode"),N=Symbol.for("react.profiler"),w=Symbol.for("react.provider"),E=Symbol.for("react.consumer"),T=Symbol.for("react.context"),S=Symbol.for("react.forward_ref"),M=Symbol.for("react.suspense"),H=Symbol.for("react.suspense_list"),ee=Symbol.for("react.memo"),Y=Symbol.for("react.lazy"),le=Symbol.for("react.activity"),F=Symbol.for("react.memo_cache_sentinel"),ce=Symbol.iterator;function J(t){return t===null||typeof t!="object"?null:(t=ce&&t[ce]||t["@@iterator"],typeof t=="function"?t:null)}var de=Symbol.for("react.client.reference");function pe(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===de?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case O:return"Fragment";case N:return"Profiler";case _:return"StrictMode";case M:return"Suspense";case H:return"SuspenseList";case le:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case $:return"Portal";case T:return(t.displayName||"Context")+".Provider";case E:return(t._context.displayName||"Context")+".Consumer";case S:var s=t.render;return t=t.displayName,t||(t=s.displayName||s.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case ee:return s=t.displayName||null,s!==null?s:pe(t.type)||"Memo";case Y:s=t._payload,t=t._init;try{return pe(t(s))}catch{}}return null}var Ce=Array.isArray,A=c.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Q=o.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,te={pending:!1,data:null,method:null,action:null},R=[],v=-1;function G(t){return{current:t}}function X(t){0>v||(t.current=R[v],R[v]=null,v--)}function se(t,s){v++,R[v]=t.current,t.current=s}var ae=G(null),ue=G(null),U=G(null),re=G(null);function ne(t,s){switch(se(U,s),se(ue,t),se(ae,null),s.nodeType){case 9:case 11:t=(t=s.documentElement)&&(t=t.namespaceURI)?gx(t):0;break;default:if(t=s.tagName,s=s.namespaceURI)s=gx(s),t=px(s,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}X(ae),se(ae,t)}function fe(){X(ae),X(ue),X(U)}function ht(t){t.memoizedState!==null&&se(re,t);var s=ae.current,a=px(s,t.type);s!==a&&(se(ue,t),se(ae,a))}function Nt(t){ue.current===t&&(X(ae),X(ue)),re.current===t&&(X(re),fn._currentValue=te)}var ra=Object.prototype.hasOwnProperty,jl=i.unstable_scheduleCallback,As=i.unstable_cancelCallback,ui=i.unstable_shouldYield,vl=i.unstable_requestPaint,Ft=i.unstable_now,nh=i.unstable_getCurrentPriorityLevel,Jd=i.unstable_ImmediatePriority,Id=i.unstable_UserBlockingPriority,On=i.unstable_NormalPriority,rh=i.unstable_LowPriority,Fd=i.unstable_IdlePriority,ih=i.log,ch=i.unstable_setDisableYieldValue,Nl=null,wt=null;function Ms(t){if(typeof ih=="function"&&ch(t),wt&&typeof wt.setStrictMode=="function")try{wt.setStrictMode(Nl,t)}catch{}}var St=Math.clz32?Math.clz32:uh,dh=Math.log,oh=Math.LN2;function uh(t){return t>>>=0,t===0?32:31-(dh(t)/oh|0)|0}var zn=256,qn=4194304;function ia(t){var s=t&42;if(s!==0)return s;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Hn(t,s,a){var l=t.pendingLanes;if(l===0)return 0;var n=0,r=t.suspendedLanes,x=t.pingedLanes;t=t.warmLanes;var p=l&134217727;return p!==0?(l=p&~r,l!==0?n=ia(l):(x&=p,x!==0?n=ia(x):a||(a=p&~t,a!==0&&(n=ia(a))))):(p=l&~r,p!==0?n=ia(p):x!==0?n=ia(x):a||(a=l&~t,a!==0&&(n=ia(a)))),n===0?0:s!==0&&s!==n&&(s&r)===0&&(r=n&-n,a=s&-s,r>=a||r===32&&(a&4194048)!==0)?s:n}function wl(t,s){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&s)===0}function mh(t,s){switch(t){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Wd(){var t=zn;return zn<<=1,(zn&4194048)===0&&(zn=256),t}function Pd(){var t=qn;return qn<<=1,(qn&62914560)===0&&(qn=4194304),t}function mi(t){for(var s=[],a=0;31>a;a++)s.push(t);return s}function Sl(t,s){t.pendingLanes|=s,s!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function xh(t,s,a,l,n,r){var x=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var p=t.entanglements,k=t.expirationTimes,B=t.hiddenUpdates;for(a=x&~a;0<a;){var K=31-St(a),W=1<<K;p[K]=0,k[K]=-1;var Z=B[K];if(Z!==null)for(B[K]=null,K=0;K<Z.length;K++){var V=Z[K];V!==null&&(V.lane&=-536870913)}a&=~W}l!==0&&eo(t,l,0),r!==0&&n===0&&t.tag!==0&&(t.suspendedLanes|=r&~(x&~s))}function eo(t,s,a){t.pendingLanes|=s,t.suspendedLanes&=~s;var l=31-St(s);t.entangledLanes|=s,t.entanglements[l]=t.entanglements[l]|1073741824|a&4194090}function to(t,s){var a=t.entangledLanes|=s;for(t=t.entanglements;a;){var l=31-St(a),n=1<<l;n&s|t[l]&s&&(t[l]|=s),a&=~n}}function xi(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function hi(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function so(){var t=Q.p;return t!==0?t:(t=window.event,t===void 0?32:Ox(t.type))}function hh(t,s){var a=Q.p;try{return Q.p=t,s()}finally{Q.p=a}}var Rs=Math.random().toString(36).slice(2),at="__reactFiber$"+Rs,ft="__reactProps$"+Rs,Ea="__reactContainer$"+Rs,fi="__reactEvents$"+Rs,fh="__reactListeners$"+Rs,gh="__reactHandles$"+Rs,ao="__reactResources$"+Rs,Cl="__reactMarker$"+Rs;function gi(t){delete t[at],delete t[ft],delete t[fi],delete t[fh],delete t[gh]}function Aa(t){var s=t[at];if(s)return s;for(var a=t.parentNode;a;){if(s=a[Ea]||a[at]){if(a=s.alternate,s.child!==null||a!==null&&a.child!==null)for(t=vx(t);t!==null;){if(a=t[at])return a;t=vx(t)}return s}t=a,a=t.parentNode}return null}function Ma(t){if(t=t[at]||t[Ea]){var s=t.tag;if(s===5||s===6||s===13||s===26||s===27||s===3)return t}return null}function kl(t){var s=t.tag;if(s===5||s===26||s===27||s===6)return t.stateNode;throw Error(d(33))}function Ra(t){var s=t[ao];return s||(s=t[ao]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function Ke(t){t[Cl]=!0}var lo=new Set,no={};function ca(t,s){_a(t,s),_a(t+"Capture",s)}function _a(t,s){for(no[t]=s,t=0;t<s.length;t++)lo.add(s[t])}var ph=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ro={},io={};function yh(t){return ra.call(io,t)?!0:ra.call(ro,t)?!1:ph.test(t)?io[t]=!0:(ro[t]=!0,!1)}function Bn(t,s,a){if(yh(s))if(a===null)t.removeAttribute(s);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(s);return;case"boolean":var l=s.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(s);return}}t.setAttribute(s,""+a)}}function $n(t,s,a){if(a===null)t.removeAttribute(s);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(s);return}t.setAttribute(s,""+a)}}function cs(t,s,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(s,a,""+l)}}var pi,co;function Da(t){if(pi===void 0)try{throw Error()}catch(a){var s=a.stack.trim().match(/\n( *(at )?)/);pi=s&&s[1]||"",co=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+pi+t+co}var yi=!1;function bi(t,s){if(!t||yi)return"";yi=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(s){var W=function(){throw Error()};if(Object.defineProperty(W.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(W,[])}catch(V){var Z=V}Reflect.construct(t,[],W)}else{try{W.call()}catch(V){Z=V}t.call(W.prototype)}}else{try{throw Error()}catch(V){Z=V}(W=t())&&typeof W.catch=="function"&&W.catch(function(){})}}catch(V){if(V&&Z&&typeof V.stack=="string")return[V.stack,Z.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var n=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");n&&n.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var r=l.DetermineComponentFrameRoot(),x=r[0],p=r[1];if(x&&p){var k=x.split(`
`),B=p.split(`
`);for(n=l=0;l<k.length&&!k[l].includes("DetermineComponentFrameRoot");)l++;for(;n<B.length&&!B[n].includes("DetermineComponentFrameRoot");)n++;if(l===k.length||n===B.length)for(l=k.length-1,n=B.length-1;1<=l&&0<=n&&k[l]!==B[n];)n--;for(;1<=l&&0<=n;l--,n--)if(k[l]!==B[n]){if(l!==1||n!==1)do if(l--,n--,0>n||k[l]!==B[n]){var K=`
`+k[l].replace(" at new "," at ");return t.displayName&&K.includes("<anonymous>")&&(K=K.replace("<anonymous>",t.displayName)),K}while(1<=l&&0<=n);break}}}finally{yi=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?Da(a):""}function bh(t){switch(t.tag){case 26:case 27:case 5:return Da(t.type);case 16:return Da("Lazy");case 13:return Da("Suspense");case 19:return Da("SuspenseList");case 0:case 15:return bi(t.type,!1);case 11:return bi(t.type.render,!1);case 1:return bi(t.type,!0);case 31:return Da("Activity");default:return""}}function oo(t){try{var s="";do s+=bh(t),t=t.return;while(t);return s}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function Dt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function uo(t){var s=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function jh(t){var s=uo(t)?"checked":"value",a=Object.getOwnPropertyDescriptor(t.constructor.prototype,s),l=""+t[s];if(!t.hasOwnProperty(s)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var n=a.get,r=a.set;return Object.defineProperty(t,s,{configurable:!0,get:function(){return n.call(this)},set:function(x){l=""+x,r.call(this,x)}}),Object.defineProperty(t,s,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(x){l=""+x},stopTracking:function(){t._valueTracker=null,delete t[s]}}}}function Zn(t){t._valueTracker||(t._valueTracker=jh(t))}function mo(t){if(!t)return!1;var s=t._valueTracker;if(!s)return!0;var a=s.getValue(),l="";return t&&(l=uo(t)?t.checked?"true":"false":t.value),t=l,t!==a?(s.setValue(t),!0):!1}function Gn(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var vh=/[\n"\\]/g;function Ut(t){return t.replace(vh,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function ji(t,s,a,l,n,r,x,p){t.name="",x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"?t.type=x:t.removeAttribute("type"),s!=null?x==="number"?(s===0&&t.value===""||t.value!=s)&&(t.value=""+Dt(s)):t.value!==""+Dt(s)&&(t.value=""+Dt(s)):x!=="submit"&&x!=="reset"||t.removeAttribute("value"),s!=null?vi(t,x,Dt(s)):a!=null?vi(t,x,Dt(a)):l!=null&&t.removeAttribute("value"),n==null&&r!=null&&(t.defaultChecked=!!r),n!=null&&(t.checked=n&&typeof n!="function"&&typeof n!="symbol"),p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"?t.name=""+Dt(p):t.removeAttribute("name")}function xo(t,s,a,l,n,r,x,p){if(r!=null&&typeof r!="function"&&typeof r!="symbol"&&typeof r!="boolean"&&(t.type=r),s!=null||a!=null){if(!(r!=="submit"&&r!=="reset"||s!=null))return;a=a!=null?""+Dt(a):"",s=s!=null?""+Dt(s):a,p||s===t.value||(t.value=s),t.defaultValue=s}l=l??n,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=p?t.checked:!!l,t.defaultChecked=!!l,x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"&&(t.name=x)}function vi(t,s,a){s==="number"&&Gn(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function Ua(t,s,a,l){if(t=t.options,s){s={};for(var n=0;n<a.length;n++)s["$"+a[n]]=!0;for(a=0;a<t.length;a++)n=s.hasOwnProperty("$"+t[a].value),t[a].selected!==n&&(t[a].selected=n),n&&l&&(t[a].defaultSelected=!0)}else{for(a=""+Dt(a),s=null,n=0;n<t.length;n++){if(t[n].value===a){t[n].selected=!0,l&&(t[n].defaultSelected=!0);return}s!==null||t[n].disabled||(s=t[n])}s!==null&&(s.selected=!0)}}function ho(t,s,a){if(s!=null&&(s=""+Dt(s),s!==t.value&&(t.value=s),a==null)){t.defaultValue!==s&&(t.defaultValue=s);return}t.defaultValue=a!=null?""+Dt(a):""}function fo(t,s,a,l){if(s==null){if(l!=null){if(a!=null)throw Error(d(92));if(Ce(l)){if(1<l.length)throw Error(d(93));l=l[0]}a=l}a==null&&(a=""),s=a}a=Dt(s),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l)}function La(t,s){if(s){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=s;return}}t.textContent=s}var Nh=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function go(t,s,a){var l=s.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(s,""):s==="float"?t.cssFloat="":t[s]="":l?t.setProperty(s,a):typeof a!="number"||a===0||Nh.has(s)?s==="float"?t.cssFloat=a:t[s]=(""+a).trim():t[s]=a+"px"}function po(t,s,a){if(s!=null&&typeof s!="object")throw Error(d(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||s!=null&&s.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var n in s)l=s[n],s.hasOwnProperty(n)&&a[n]!==l&&go(t,n,l)}else for(var r in s)s.hasOwnProperty(r)&&go(t,r,s[r])}function Ni(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wh=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Sh=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Vn(t){return Sh.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var wi=null;function Si(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Oa=null,za=null;function yo(t){var s=Ma(t);if(s&&(t=s.stateNode)){var a=t[ft]||null;e:switch(t=s.stateNode,s.type){case"input":if(ji(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),s=a.name,a.type==="radio"&&s!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Ut(""+s)+'"][type="radio"]'),s=0;s<a.length;s++){var l=a[s];if(l!==t&&l.form===t.form){var n=l[ft]||null;if(!n)throw Error(d(90));ji(l,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name)}}for(s=0;s<a.length;s++)l=a[s],l.form===t.form&&mo(l)}break e;case"textarea":ho(t,a.value,a.defaultValue);break e;case"select":s=a.value,s!=null&&Ua(t,!!a.multiple,s,!1)}}}var Ci=!1;function bo(t,s,a){if(Ci)return t(s,a);Ci=!0;try{var l=t(s);return l}finally{if(Ci=!1,(Oa!==null||za!==null)&&(Ar(),Oa&&(s=Oa,t=za,za=Oa=null,yo(s),t)))for(s=0;s<t.length;s++)yo(t[s])}}function Tl(t,s){var a=t.stateNode;if(a===null)return null;var l=a[ft]||null;if(l===null)return null;a=l[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(d(231,s,typeof a));return a}var ds=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ki=!1;if(ds)try{var El={};Object.defineProperty(El,"passive",{get:function(){ki=!0}}),window.addEventListener("test",El,El),window.removeEventListener("test",El,El)}catch{ki=!1}var _s=null,Ti=null,Yn=null;function jo(){if(Yn)return Yn;var t,s=Ti,a=s.length,l,n="value"in _s?_s.value:_s.textContent,r=n.length;for(t=0;t<a&&s[t]===n[t];t++);var x=a-t;for(l=1;l<=x&&s[a-l]===n[r-l];l++);return Yn=n.slice(t,1<l?1-l:void 0)}function Qn(t){var s=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&s===13&&(t=13)):t=s,t===10&&(t=13),32<=t||t===13?t:0}function Xn(){return!0}function vo(){return!1}function gt(t){function s(a,l,n,r,x){this._reactName=a,this._targetInst=n,this.type=l,this.nativeEvent=r,this.target=x,this.currentTarget=null;for(var p in t)t.hasOwnProperty(p)&&(a=t[p],this[p]=a?a(r):r[p]);return this.isDefaultPrevented=(r.defaultPrevented!=null?r.defaultPrevented:r.returnValue===!1)?Xn:vo,this.isPropagationStopped=vo,this}return j(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Xn)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Xn)},persist:function(){},isPersistent:Xn}),s}var da={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Kn=gt(da),Al=j({},da,{view:0,detail:0}),Ch=gt(Al),Ei,Ai,Ml,Jn=j({},Al,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ri,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ml&&(Ml&&t.type==="mousemove"?(Ei=t.screenX-Ml.screenX,Ai=t.screenY-Ml.screenY):Ai=Ei=0,Ml=t),Ei)},movementY:function(t){return"movementY"in t?t.movementY:Ai}}),No=gt(Jn),kh=j({},Jn,{dataTransfer:0}),Th=gt(kh),Eh=j({},Al,{relatedTarget:0}),Mi=gt(Eh),Ah=j({},da,{animationName:0,elapsedTime:0,pseudoElement:0}),Mh=gt(Ah),Rh=j({},da,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),_h=gt(Rh),Dh=j({},da,{data:0}),wo=gt(Dh),Uh={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Lh={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Oh={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function zh(t){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(t):(t=Oh[t])?!!s[t]:!1}function Ri(){return zh}var qh=j({},Al,{key:function(t){if(t.key){var s=Uh[t.key]||t.key;if(s!=="Unidentified")return s}return t.type==="keypress"?(t=Qn(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Lh[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ri,charCode:function(t){return t.type==="keypress"?Qn(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Qn(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Hh=gt(qh),Bh=j({},Jn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),So=gt(Bh),$h=j({},Al,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ri}),Zh=gt($h),Gh=j({},da,{propertyName:0,elapsedTime:0,pseudoElement:0}),Vh=gt(Gh),Yh=j({},Jn,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Qh=gt(Yh),Xh=j({},da,{newState:0,oldState:0}),Kh=gt(Xh),Jh=[9,13,27,32],_i=ds&&"CompositionEvent"in window,Rl=null;ds&&"documentMode"in document&&(Rl=document.documentMode);var Ih=ds&&"TextEvent"in window&&!Rl,Co=ds&&(!_i||Rl&&8<Rl&&11>=Rl),ko=" ",To=!1;function Eo(t,s){switch(t){case"keyup":return Jh.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ao(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var qa=!1;function Fh(t,s){switch(t){case"compositionend":return Ao(s);case"keypress":return s.which!==32?null:(To=!0,ko);case"textInput":return t=s.data,t===ko&&To?null:t;default:return null}}function Wh(t,s){if(qa)return t==="compositionend"||!_i&&Eo(t,s)?(t=jo(),Yn=Ti=_s=null,qa=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Co&&s.locale!=="ko"?null:s.data;default:return null}}var Ph={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Mo(t){var s=t&&t.nodeName&&t.nodeName.toLowerCase();return s==="input"?!!Ph[t.type]:s==="textarea"}function Ro(t,s,a,l){Oa?za?za.push(l):za=[l]:Oa=l,s=Lr(s,"onChange"),0<s.length&&(a=new Kn("onChange","change",null,a,l),t.push({event:a,listeners:s}))}var _l=null,Dl=null;function ef(t){ux(t,0)}function In(t){var s=kl(t);if(mo(s))return t}function _o(t,s){if(t==="change")return s}var Do=!1;if(ds){var Di;if(ds){var Ui="oninput"in document;if(!Ui){var Uo=document.createElement("div");Uo.setAttribute("oninput","return;"),Ui=typeof Uo.oninput=="function"}Di=Ui}else Di=!1;Do=Di&&(!document.documentMode||9<document.documentMode)}function Lo(){_l&&(_l.detachEvent("onpropertychange",Oo),Dl=_l=null)}function Oo(t){if(t.propertyName==="value"&&In(Dl)){var s=[];Ro(s,Dl,t,Si(t)),bo(ef,s)}}function tf(t,s,a){t==="focusin"?(Lo(),_l=s,Dl=a,_l.attachEvent("onpropertychange",Oo)):t==="focusout"&&Lo()}function sf(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return In(Dl)}function af(t,s){if(t==="click")return In(s)}function lf(t,s){if(t==="input"||t==="change")return In(s)}function nf(t,s){return t===s&&(t!==0||1/t===1/s)||t!==t&&s!==s}var Ct=typeof Object.is=="function"?Object.is:nf;function Ul(t,s){if(Ct(t,s))return!0;if(typeof t!="object"||t===null||typeof s!="object"||s===null)return!1;var a=Object.keys(t),l=Object.keys(s);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var n=a[l];if(!ra.call(s,n)||!Ct(t[n],s[n]))return!1}return!0}function zo(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function qo(t,s){var a=zo(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=s&&l>=s)return{node:a,offset:s-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=zo(a)}}function Ho(t,s){return t&&s?t===s?!0:t&&t.nodeType===3?!1:s&&s.nodeType===3?Ho(t,s.parentNode):"contains"in t?t.contains(s):t.compareDocumentPosition?!!(t.compareDocumentPosition(s)&16):!1:!1}function Bo(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var s=Gn(t.document);s instanceof t.HTMLIFrameElement;){try{var a=typeof s.contentWindow.location.href=="string"}catch{a=!1}if(a)t=s.contentWindow;else break;s=Gn(t.document)}return s}function Li(t){var s=t&&t.nodeName&&t.nodeName.toLowerCase();return s&&(s==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||s==="textarea"||t.contentEditable==="true")}var rf=ds&&"documentMode"in document&&11>=document.documentMode,Ha=null,Oi=null,Ll=null,zi=!1;function $o(t,s,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;zi||Ha==null||Ha!==Gn(l)||(l=Ha,"selectionStart"in l&&Li(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Ll&&Ul(Ll,l)||(Ll=l,l=Lr(Oi,"onSelect"),0<l.length&&(s=new Kn("onSelect","select",null,s,a),t.push({event:s,listeners:l}),s.target=Ha)))}function oa(t,s){var a={};return a[t.toLowerCase()]=s.toLowerCase(),a["Webkit"+t]="webkit"+s,a["Moz"+t]="moz"+s,a}var Ba={animationend:oa("Animation","AnimationEnd"),animationiteration:oa("Animation","AnimationIteration"),animationstart:oa("Animation","AnimationStart"),transitionrun:oa("Transition","TransitionRun"),transitionstart:oa("Transition","TransitionStart"),transitioncancel:oa("Transition","TransitionCancel"),transitionend:oa("Transition","TransitionEnd")},qi={},Zo={};ds&&(Zo=document.createElement("div").style,"AnimationEvent"in window||(delete Ba.animationend.animation,delete Ba.animationiteration.animation,delete Ba.animationstart.animation),"TransitionEvent"in window||delete Ba.transitionend.transition);function ua(t){if(qi[t])return qi[t];if(!Ba[t])return t;var s=Ba[t],a;for(a in s)if(s.hasOwnProperty(a)&&a in Zo)return qi[t]=s[a];return t}var Go=ua("animationend"),Vo=ua("animationiteration"),Yo=ua("animationstart"),cf=ua("transitionrun"),df=ua("transitionstart"),of=ua("transitioncancel"),Qo=ua("transitionend"),Xo=new Map,Hi="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Hi.push("scrollEnd");function Yt(t,s){Xo.set(t,s),ca(s,[t])}var Ko=new WeakMap;function Lt(t,s){if(typeof t=="object"&&t!==null){var a=Ko.get(t);return a!==void 0?a:(s={value:t,source:s,stack:oo(s)},Ko.set(t,s),s)}return{value:t,source:s,stack:oo(s)}}var Ot=[],$a=0,Bi=0;function Fn(){for(var t=$a,s=Bi=$a=0;s<t;){var a=Ot[s];Ot[s++]=null;var l=Ot[s];Ot[s++]=null;var n=Ot[s];Ot[s++]=null;var r=Ot[s];if(Ot[s++]=null,l!==null&&n!==null){var x=l.pending;x===null?n.next=n:(n.next=x.next,x.next=n),l.pending=n}r!==0&&Jo(a,n,r)}}function Wn(t,s,a,l){Ot[$a++]=t,Ot[$a++]=s,Ot[$a++]=a,Ot[$a++]=l,Bi|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function $i(t,s,a,l){return Wn(t,s,a,l),Pn(t)}function Za(t,s){return Wn(t,null,null,s),Pn(t)}function Jo(t,s,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var n=!1,r=t.return;r!==null;)r.childLanes|=a,l=r.alternate,l!==null&&(l.childLanes|=a),r.tag===22&&(t=r.stateNode,t===null||t._visibility&1||(n=!0)),t=r,r=r.return;return t.tag===3?(r=t.stateNode,n&&s!==null&&(n=31-St(a),t=r.hiddenUpdates,l=t[n],l===null?t[n]=[s]:l.push(s),s.lane=a|536870912),r):null}function Pn(t){if(50<rn)throw rn=0,Xc=null,Error(d(185));for(var s=t.return;s!==null;)t=s,s=t.return;return t.tag===3?t.stateNode:null}var Ga={};function uf(t,s,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function kt(t,s,a,l){return new uf(t,s,a,l)}function Zi(t){return t=t.prototype,!(!t||!t.isReactComponent)}function os(t,s){var a=t.alternate;return a===null?(a=kt(t.tag,s,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=s,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,s=t.dependencies,a.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function Io(t,s){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=s,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,s=a.dependencies,t.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),t}function er(t,s,a,l,n,r){var x=0;if(l=t,typeof t=="function")Zi(t)&&(x=1);else if(typeof t=="string")x=xg(t,a,ae.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case le:return t=kt(31,a,s,n),t.elementType=le,t.lanes=r,t;case O:return ma(a.children,n,r,s);case _:x=8,n|=24;break;case N:return t=kt(12,a,s,n|2),t.elementType=N,t.lanes=r,t;case M:return t=kt(13,a,s,n),t.elementType=M,t.lanes=r,t;case H:return t=kt(19,a,s,n),t.elementType=H,t.lanes=r,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case w:case T:x=10;break e;case E:x=9;break e;case S:x=11;break e;case ee:x=14;break e;case Y:x=16,l=null;break e}x=29,a=Error(d(130,t===null?"null":typeof t,"")),l=null}return s=kt(x,a,s,n),s.elementType=t,s.type=l,s.lanes=r,s}function ma(t,s,a,l){return t=kt(7,t,l,s),t.lanes=a,t}function Gi(t,s,a){return t=kt(6,t,null,s),t.lanes=a,t}function Vi(t,s,a){return s=kt(4,t.children!==null?t.children:[],t.key,s),s.lanes=a,s.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},s}var Va=[],Ya=0,tr=null,sr=0,zt=[],qt=0,xa=null,us=1,ms="";function ha(t,s){Va[Ya++]=sr,Va[Ya++]=tr,tr=t,sr=s}function Fo(t,s,a){zt[qt++]=us,zt[qt++]=ms,zt[qt++]=xa,xa=t;var l=us;t=ms;var n=32-St(l)-1;l&=~(1<<n),a+=1;var r=32-St(s)+n;if(30<r){var x=n-n%5;r=(l&(1<<x)-1).toString(32),l>>=x,n-=x,us=1<<32-St(s)+n|a<<n|l,ms=r+t}else us=1<<r|a<<n|l,ms=t}function Yi(t){t.return!==null&&(ha(t,1),Fo(t,1,0))}function Qi(t){for(;t===tr;)tr=Va[--Ya],Va[Ya]=null,sr=Va[--Ya],Va[Ya]=null;for(;t===xa;)xa=zt[--qt],zt[qt]=null,ms=zt[--qt],zt[qt]=null,us=zt[--qt],zt[qt]=null}var ct=null,Be=null,Se=!1,fa=null,Wt=!1,Xi=Error(d(519));function ga(t){var s=Error(d(418,""));throw ql(Lt(s,t)),Xi}function Wo(t){var s=t.stateNode,a=t.type,l=t.memoizedProps;switch(s[at]=t,s[ft]=l,a){case"dialog":ve("cancel",s),ve("close",s);break;case"iframe":case"object":case"embed":ve("load",s);break;case"video":case"audio":for(a=0;a<dn.length;a++)ve(dn[a],s);break;case"source":ve("error",s);break;case"img":case"image":case"link":ve("error",s),ve("load",s);break;case"details":ve("toggle",s);break;case"input":ve("invalid",s),xo(s,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),Zn(s);break;case"select":ve("invalid",s);break;case"textarea":ve("invalid",s),fo(s,l.value,l.defaultValue,l.children),Zn(s)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||s.textContent===""+a||l.suppressHydrationWarning===!0||fx(s.textContent,a)?(l.popover!=null&&(ve("beforetoggle",s),ve("toggle",s)),l.onScroll!=null&&ve("scroll",s),l.onScrollEnd!=null&&ve("scrollend",s),l.onClick!=null&&(s.onclick=Or),s=!0):s=!1,s||ga(t)}function Po(t){for(ct=t.return;ct;)switch(ct.tag){case 5:case 13:Wt=!1;return;case 27:case 3:Wt=!0;return;default:ct=ct.return}}function Ol(t){if(t!==ct)return!1;if(!Se)return Po(t),Se=!0,!1;var s=t.tag,a;if((a=s!==3&&s!==27)&&((a=s===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||dd(t.type,t.memoizedProps)),a=!a),a&&Be&&ga(t),Po(t),s===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(d(317));e:{for(t=t.nextSibling,s=0;t;){if(t.nodeType===8)if(a=t.data,a==="/$"){if(s===0){Be=Xt(t.nextSibling);break e}s--}else a!=="$"&&a!=="$!"&&a!=="$?"||s++;t=t.nextSibling}Be=null}}else s===27?(s=Be,Ks(t.type)?(t=xd,xd=null,Be=t):Be=s):Be=ct?Xt(t.stateNode.nextSibling):null;return!0}function zl(){Be=ct=null,Se=!1}function eu(){var t=fa;return t!==null&&(bt===null?bt=t:bt.push.apply(bt,t),fa=null),t}function ql(t){fa===null?fa=[t]:fa.push(t)}var Ki=G(null),pa=null,xs=null;function Ds(t,s,a){se(Ki,s._currentValue),s._currentValue=a}function hs(t){t._currentValue=Ki.current,X(Ki)}function Ji(t,s,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&s)!==s?(t.childLanes|=s,l!==null&&(l.childLanes|=s)):l!==null&&(l.childLanes&s)!==s&&(l.childLanes|=s),t===a)break;t=t.return}}function Ii(t,s,a,l){var n=t.child;for(n!==null&&(n.return=t);n!==null;){var r=n.dependencies;if(r!==null){var x=n.child;r=r.firstContext;e:for(;r!==null;){var p=r;r=n;for(var k=0;k<s.length;k++)if(p.context===s[k]){r.lanes|=a,p=r.alternate,p!==null&&(p.lanes|=a),Ji(r.return,a,t),l||(x=null);break e}r=p.next}}else if(n.tag===18){if(x=n.return,x===null)throw Error(d(341));x.lanes|=a,r=x.alternate,r!==null&&(r.lanes|=a),Ji(x,a,t),x=null}else x=n.child;if(x!==null)x.return=n;else for(x=n;x!==null;){if(x===t){x=null;break}if(n=x.sibling,n!==null){n.return=x.return,x=n;break}x=x.return}n=x}}function Hl(t,s,a,l){t=null;for(var n=s,r=!1;n!==null;){if(!r){if((n.flags&524288)!==0)r=!0;else if((n.flags&262144)!==0)break}if(n.tag===10){var x=n.alternate;if(x===null)throw Error(d(387));if(x=x.memoizedProps,x!==null){var p=n.type;Ct(n.pendingProps.value,x.value)||(t!==null?t.push(p):t=[p])}}else if(n===re.current){if(x=n.alternate,x===null)throw Error(d(387));x.memoizedState.memoizedState!==n.memoizedState.memoizedState&&(t!==null?t.push(fn):t=[fn])}n=n.return}t!==null&&Ii(s,t,a,l),s.flags|=262144}function ar(t){for(t=t.firstContext;t!==null;){if(!Ct(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function ya(t){pa=t,xs=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function lt(t){return tu(pa,t)}function lr(t,s){return pa===null&&ya(t),tu(t,s)}function tu(t,s){var a=s._currentValue;if(s={context:s,memoizedValue:a,next:null},xs===null){if(t===null)throw Error(d(308));xs=s,t.dependencies={lanes:0,firstContext:s},t.flags|=524288}else xs=xs.next=s;return a}var mf=typeof AbortController<"u"?AbortController:function(){var t=[],s=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){s.aborted=!0,t.forEach(function(a){return a()})}},xf=i.unstable_scheduleCallback,hf=i.unstable_NormalPriority,Qe={$$typeof:T,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Fi(){return{controller:new mf,data:new Map,refCount:0}}function Bl(t){t.refCount--,t.refCount===0&&xf(hf,function(){t.controller.abort()})}var $l=null,Wi=0,Qa=0,Xa=null;function ff(t,s){if($l===null){var a=$l=[];Wi=0,Qa=ed(),Xa={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Wi++,s.then(su,su),s}function su(){if(--Wi===0&&$l!==null){Xa!==null&&(Xa.status="fulfilled");var t=$l;$l=null,Qa=0,Xa=null;for(var s=0;s<t.length;s++)(0,t[s])()}}function gf(t,s){var a=[],l={status:"pending",value:null,reason:null,then:function(n){a.push(n)}};return t.then(function(){l.status="fulfilled",l.value=s;for(var n=0;n<a.length;n++)(0,a[n])(s)},function(n){for(l.status="rejected",l.reason=n,n=0;n<a.length;n++)(0,a[n])(void 0)}),l}var au=A.S;A.S=function(t,s){typeof s=="object"&&s!==null&&typeof s.then=="function"&&ff(t,s),au!==null&&au(t,s)};var ba=G(null);function Pi(){var t=ba.current;return t!==null?t:De.pooledCache}function nr(t,s){s===null?se(ba,ba.current):se(ba,s.pool)}function lu(){var t=Pi();return t===null?null:{parent:Qe._currentValue,pool:t}}var Zl=Error(d(460)),nu=Error(d(474)),rr=Error(d(542)),ec={then:function(){}};function ru(t){return t=t.status,t==="fulfilled"||t==="rejected"}function ir(){}function iu(t,s,a){switch(a=t[a],a===void 0?t.push(s):a!==s&&(s.then(ir,ir),s=a),s.status){case"fulfilled":return s.value;case"rejected":throw t=s.reason,du(t),t;default:if(typeof s.status=="string")s.then(ir,ir);else{if(t=De,t!==null&&100<t.shellSuspendCounter)throw Error(d(482));t=s,t.status="pending",t.then(function(l){if(s.status==="pending"){var n=s;n.status="fulfilled",n.value=l}},function(l){if(s.status==="pending"){var n=s;n.status="rejected",n.reason=l}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw t=s.reason,du(t),t}throw Gl=s,Zl}}var Gl=null;function cu(){if(Gl===null)throw Error(d(459));var t=Gl;return Gl=null,t}function du(t){if(t===Zl||t===rr)throw Error(d(483))}var Us=!1;function tc(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function sc(t,s){t=t.updateQueue,s.updateQueue===t&&(s.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Ls(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Os(t,s,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(ke&2)!==0){var n=l.pending;return n===null?s.next=s:(s.next=n.next,n.next=s),l.pending=s,s=Pn(t),Jo(t,null,a),s}return Wn(t,l,s,a),Pn(t)}function Vl(t,s,a){if(s=s.updateQueue,s!==null&&(s=s.shared,(a&4194048)!==0)){var l=s.lanes;l&=t.pendingLanes,a|=l,s.lanes=a,to(t,a)}}function ac(t,s){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var n=null,r=null;if(a=a.firstBaseUpdate,a!==null){do{var x={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};r===null?n=r=x:r=r.next=x,a=a.next}while(a!==null);r===null?n=r=s:r=r.next=s}else n=r=s;a={baseState:l.baseState,firstBaseUpdate:n,lastBaseUpdate:r,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=s:t.next=s,a.lastBaseUpdate=s}var lc=!1;function Yl(){if(lc){var t=Xa;if(t!==null)throw t}}function Ql(t,s,a,l){lc=!1;var n=t.updateQueue;Us=!1;var r=n.firstBaseUpdate,x=n.lastBaseUpdate,p=n.shared.pending;if(p!==null){n.shared.pending=null;var k=p,B=k.next;k.next=null,x===null?r=B:x.next=B,x=k;var K=t.alternate;K!==null&&(K=K.updateQueue,p=K.lastBaseUpdate,p!==x&&(p===null?K.firstBaseUpdate=B:p.next=B,K.lastBaseUpdate=k))}if(r!==null){var W=n.baseState;x=0,K=B=k=null,p=r;do{var Z=p.lane&-536870913,V=Z!==p.lane;if(V?(Ne&Z)===Z:(l&Z)===Z){Z!==0&&Z===Qa&&(lc=!0),K!==null&&(K=K.next={lane:0,tag:p.tag,payload:p.payload,callback:null,next:null});e:{var he=t,me=p;Z=s;var Me=a;switch(me.tag){case 1:if(he=me.payload,typeof he=="function"){W=he.call(Me,W,Z);break e}W=he;break e;case 3:he.flags=he.flags&-65537|128;case 0:if(he=me.payload,Z=typeof he=="function"?he.call(Me,W,Z):he,Z==null)break e;W=j({},W,Z);break e;case 2:Us=!0}}Z=p.callback,Z!==null&&(t.flags|=64,V&&(t.flags|=8192),V=n.callbacks,V===null?n.callbacks=[Z]:V.push(Z))}else V={lane:Z,tag:p.tag,payload:p.payload,callback:p.callback,next:null},K===null?(B=K=V,k=W):K=K.next=V,x|=Z;if(p=p.next,p===null){if(p=n.shared.pending,p===null)break;V=p,p=V.next,V.next=null,n.lastBaseUpdate=V,n.shared.pending=null}}while(!0);K===null&&(k=W),n.baseState=k,n.firstBaseUpdate=B,n.lastBaseUpdate=K,r===null&&(n.shared.lanes=0),Vs|=x,t.lanes=x,t.memoizedState=W}}function ou(t,s){if(typeof t!="function")throw Error(d(191,t));t.call(s)}function uu(t,s){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)ou(a[t],s)}var Ka=G(null),cr=G(0);function mu(t,s){t=vs,se(cr,t),se(Ka,s),vs=t|s.baseLanes}function nc(){se(cr,vs),se(Ka,Ka.current)}function rc(){vs=cr.current,X(Ka),X(cr)}var zs=0,ye=null,Ee=null,Ve=null,dr=!1,Ja=!1,ja=!1,or=0,Xl=0,Ia=null,pf=0;function Ze(){throw Error(d(321))}function ic(t,s){if(s===null)return!1;for(var a=0;a<s.length&&a<t.length;a++)if(!Ct(t[a],s[a]))return!1;return!0}function cc(t,s,a,l,n,r){return zs=r,ye=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,A.H=t===null||t.memoizedState===null?Ju:Iu,ja=!1,r=a(l,n),ja=!1,Ja&&(r=hu(s,a,l,n)),xu(t),r}function xu(t){A.H=gr;var s=Ee!==null&&Ee.next!==null;if(zs=0,Ve=Ee=ye=null,dr=!1,Xl=0,Ia=null,s)throw Error(d(300));t===null||Je||(t=t.dependencies,t!==null&&ar(t)&&(Je=!0))}function hu(t,s,a,l){ye=t;var n=0;do{if(Ja&&(Ia=null),Xl=0,Ja=!1,25<=n)throw Error(d(301));if(n+=1,Ve=Ee=null,t.updateQueue!=null){var r=t.updateQueue;r.lastEffect=null,r.events=null,r.stores=null,r.memoCache!=null&&(r.memoCache.index=0)}A.H=Sf,r=s(a,l)}while(Ja);return r}function yf(){var t=A.H,s=t.useState()[0];return s=typeof s.then=="function"?Kl(s):s,t=t.useState()[0],(Ee!==null?Ee.memoizedState:null)!==t&&(ye.flags|=1024),s}function dc(){var t=or!==0;return or=0,t}function oc(t,s,a){s.updateQueue=t.updateQueue,s.flags&=-2053,t.lanes&=~a}function uc(t){if(dr){for(t=t.memoizedState;t!==null;){var s=t.queue;s!==null&&(s.pending=null),t=t.next}dr=!1}zs=0,Ve=Ee=ye=null,Ja=!1,Xl=or=0,Ia=null}function pt(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ve===null?ye.memoizedState=Ve=t:Ve=Ve.next=t,Ve}function Ye(){if(Ee===null){var t=ye.alternate;t=t!==null?t.memoizedState:null}else t=Ee.next;var s=Ve===null?ye.memoizedState:Ve.next;if(s!==null)Ve=s,Ee=t;else{if(t===null)throw ye.alternate===null?Error(d(467)):Error(d(310));Ee=t,t={memoizedState:Ee.memoizedState,baseState:Ee.baseState,baseQueue:Ee.baseQueue,queue:Ee.queue,next:null},Ve===null?ye.memoizedState=Ve=t:Ve=Ve.next=t}return Ve}function mc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Kl(t){var s=Xl;return Xl+=1,Ia===null&&(Ia=[]),t=iu(Ia,t,s),s=ye,(Ve===null?s.memoizedState:Ve.next)===null&&(s=s.alternate,A.H=s===null||s.memoizedState===null?Ju:Iu),t}function ur(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Kl(t);if(t.$$typeof===T)return lt(t)}throw Error(d(438,String(t)))}function xc(t){var s=null,a=ye.updateQueue;if(a!==null&&(s=a.memoCache),s==null){var l=ye.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(s={data:l.data.map(function(n){return n.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),a===null&&(a=mc(),ye.updateQueue=a),a.memoCache=s,a=s.data[s.index],a===void 0)for(a=s.data[s.index]=Array(t),l=0;l<t;l++)a[l]=F;return s.index++,a}function fs(t,s){return typeof s=="function"?s(t):s}function mr(t){var s=Ye();return hc(s,Ee,t)}function hc(t,s,a){var l=t.queue;if(l===null)throw Error(d(311));l.lastRenderedReducer=a;var n=t.baseQueue,r=l.pending;if(r!==null){if(n!==null){var x=n.next;n.next=r.next,r.next=x}s.baseQueue=n=r,l.pending=null}if(r=t.baseState,n===null)t.memoizedState=r;else{s=n.next;var p=x=null,k=null,B=s,K=!1;do{var W=B.lane&-536870913;if(W!==B.lane?(Ne&W)===W:(zs&W)===W){var Z=B.revertLane;if(Z===0)k!==null&&(k=k.next={lane:0,revertLane:0,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null}),W===Qa&&(K=!0);else if((zs&Z)===Z){B=B.next,Z===Qa&&(K=!0);continue}else W={lane:0,revertLane:B.revertLane,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},k===null?(p=k=W,x=r):k=k.next=W,ye.lanes|=Z,Vs|=Z;W=B.action,ja&&a(r,W),r=B.hasEagerState?B.eagerState:a(r,W)}else Z={lane:W,revertLane:B.revertLane,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},k===null?(p=k=Z,x=r):k=k.next=Z,ye.lanes|=W,Vs|=W;B=B.next}while(B!==null&&B!==s);if(k===null?x=r:k.next=p,!Ct(r,t.memoizedState)&&(Je=!0,K&&(a=Xa,a!==null)))throw a;t.memoizedState=r,t.baseState=x,t.baseQueue=k,l.lastRenderedState=r}return n===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function fc(t){var s=Ye(),a=s.queue;if(a===null)throw Error(d(311));a.lastRenderedReducer=t;var l=a.dispatch,n=a.pending,r=s.memoizedState;if(n!==null){a.pending=null;var x=n=n.next;do r=t(r,x.action),x=x.next;while(x!==n);Ct(r,s.memoizedState)||(Je=!0),s.memoizedState=r,s.baseQueue===null&&(s.baseState=r),a.lastRenderedState=r}return[r,l]}function fu(t,s,a){var l=ye,n=Ye(),r=Se;if(r){if(a===void 0)throw Error(d(407));a=a()}else a=s();var x=!Ct((Ee||n).memoizedState,a);x&&(n.memoizedState=a,Je=!0),n=n.queue;var p=yu.bind(null,l,n,t);if(Jl(2048,8,p,[t]),n.getSnapshot!==s||x||Ve!==null&&Ve.memoizedState.tag&1){if(l.flags|=2048,Fa(9,xr(),pu.bind(null,l,n,a,s),null),De===null)throw Error(d(349));r||(zs&124)!==0||gu(l,s,a)}return a}function gu(t,s,a){t.flags|=16384,t={getSnapshot:s,value:a},s=ye.updateQueue,s===null?(s=mc(),ye.updateQueue=s,s.stores=[t]):(a=s.stores,a===null?s.stores=[t]:a.push(t))}function pu(t,s,a,l){s.value=a,s.getSnapshot=l,bu(s)&&ju(t)}function yu(t,s,a){return a(function(){bu(s)&&ju(t)})}function bu(t){var s=t.getSnapshot;t=t.value;try{var a=s();return!Ct(t,a)}catch{return!0}}function ju(t){var s=Za(t,2);s!==null&&Rt(s,t,2)}function gc(t){var s=pt();if(typeof t=="function"){var a=t;if(t=a(),ja){Ms(!0);try{a()}finally{Ms(!1)}}}return s.memoizedState=s.baseState=t,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:fs,lastRenderedState:t},s}function vu(t,s,a,l){return t.baseState=a,hc(t,Ee,typeof l=="function"?l:fs)}function bf(t,s,a,l,n){if(fr(t))throw Error(d(485));if(t=s.action,t!==null){var r={payload:n,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(x){r.listeners.push(x)}};A.T!==null?a(!0):r.isTransition=!1,l(r),a=s.pending,a===null?(r.next=s.pending=r,Nu(s,r)):(r.next=a.next,s.pending=a.next=r)}}function Nu(t,s){var a=s.action,l=s.payload,n=t.state;if(s.isTransition){var r=A.T,x={};A.T=x;try{var p=a(n,l),k=A.S;k!==null&&k(x,p),wu(t,s,p)}catch(B){pc(t,s,B)}finally{A.T=r}}else try{r=a(n,l),wu(t,s,r)}catch(B){pc(t,s,B)}}function wu(t,s,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Su(t,s,l)},function(l){return pc(t,s,l)}):Su(t,s,a)}function Su(t,s,a){s.status="fulfilled",s.value=a,Cu(s),t.state=a,s=t.pending,s!==null&&(a=s.next,a===s?t.pending=null:(a=a.next,s.next=a,Nu(t,a)))}function pc(t,s,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do s.status="rejected",s.reason=a,Cu(s),s=s.next;while(s!==l)}t.action=null}function Cu(t){t=t.listeners;for(var s=0;s<t.length;s++)(0,t[s])()}function ku(t,s){return s}function Tu(t,s){if(Se){var a=De.formState;if(a!==null){e:{var l=ye;if(Se){if(Be){t:{for(var n=Be,r=Wt;n.nodeType!==8;){if(!r){n=null;break t}if(n=Xt(n.nextSibling),n===null){n=null;break t}}r=n.data,n=r==="F!"||r==="F"?n:null}if(n){Be=Xt(n.nextSibling),l=n.data==="F!";break e}}ga(l)}l=!1}l&&(s=a[0])}}return a=pt(),a.memoizedState=a.baseState=s,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ku,lastRenderedState:s},a.queue=l,a=Qu.bind(null,ye,l),l.dispatch=a,l=gc(!1),r=Nc.bind(null,ye,!1,l.queue),l=pt(),n={state:s,dispatch:null,action:t,pending:null},l.queue=n,a=bf.bind(null,ye,n,r,a),n.dispatch=a,l.memoizedState=t,[s,a,!1]}function Eu(t){var s=Ye();return Au(s,Ee,t)}function Au(t,s,a){if(s=hc(t,s,ku)[0],t=mr(fs)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var l=Kl(s)}catch(x){throw x===Zl?rr:x}else l=s;s=Ye();var n=s.queue,r=n.dispatch;return a!==s.memoizedState&&(ye.flags|=2048,Fa(9,xr(),jf.bind(null,n,a),null)),[l,r,t]}function jf(t,s){t.action=s}function Mu(t){var s=Ye(),a=Ee;if(a!==null)return Au(s,a,t);Ye(),s=s.memoizedState,a=Ye();var l=a.queue.dispatch;return a.memoizedState=t,[s,l,!1]}function Fa(t,s,a,l){return t={tag:t,create:a,deps:l,inst:s,next:null},s=ye.updateQueue,s===null&&(s=mc(),ye.updateQueue=s),a=s.lastEffect,a===null?s.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,s.lastEffect=t),t}function xr(){return{destroy:void 0,resource:void 0}}function Ru(){return Ye().memoizedState}function hr(t,s,a,l){var n=pt();l=l===void 0?null:l,ye.flags|=t,n.memoizedState=Fa(1|s,xr(),a,l)}function Jl(t,s,a,l){var n=Ye();l=l===void 0?null:l;var r=n.memoizedState.inst;Ee!==null&&l!==null&&ic(l,Ee.memoizedState.deps)?n.memoizedState=Fa(s,r,a,l):(ye.flags|=t,n.memoizedState=Fa(1|s,r,a,l))}function _u(t,s){hr(8390656,8,t,s)}function Du(t,s){Jl(2048,8,t,s)}function Uu(t,s){return Jl(4,2,t,s)}function Lu(t,s){return Jl(4,4,t,s)}function Ou(t,s){if(typeof s=="function"){t=t();var a=s(t);return function(){typeof a=="function"?a():s(null)}}if(s!=null)return t=t(),s.current=t,function(){s.current=null}}function zu(t,s,a){a=a!=null?a.concat([t]):null,Jl(4,4,Ou.bind(null,s,t),a)}function yc(){}function qu(t,s){var a=Ye();s=s===void 0?null:s;var l=a.memoizedState;return s!==null&&ic(s,l[1])?l[0]:(a.memoizedState=[t,s],t)}function Hu(t,s){var a=Ye();s=s===void 0?null:s;var l=a.memoizedState;if(s!==null&&ic(s,l[1]))return l[0];if(l=t(),ja){Ms(!0);try{t()}finally{Ms(!1)}}return a.memoizedState=[l,s],l}function bc(t,s,a){return a===void 0||(zs&1073741824)!==0?t.memoizedState=s:(t.memoizedState=a,t=Zm(),ye.lanes|=t,Vs|=t,a)}function Bu(t,s,a,l){return Ct(a,s)?a:Ka.current!==null?(t=bc(t,a,l),Ct(t,s)||(Je=!0),t):(zs&42)===0?(Je=!0,t.memoizedState=a):(t=Zm(),ye.lanes|=t,Vs|=t,s)}function $u(t,s,a,l,n){var r=Q.p;Q.p=r!==0&&8>r?r:8;var x=A.T,p={};A.T=p,Nc(t,!1,s,a);try{var k=n(),B=A.S;if(B!==null&&B(p,k),k!==null&&typeof k=="object"&&typeof k.then=="function"){var K=gf(k,l);Il(t,s,K,Mt(t))}else Il(t,s,l,Mt(t))}catch(W){Il(t,s,{then:function(){},status:"rejected",reason:W},Mt())}finally{Q.p=r,A.T=x}}function vf(){}function jc(t,s,a,l){if(t.tag!==5)throw Error(d(476));var n=Zu(t).queue;$u(t,n,s,te,a===null?vf:function(){return Gu(t),a(l)})}function Zu(t){var s=t.memoizedState;if(s!==null)return s;s={memoizedState:te,baseState:te,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:fs,lastRenderedState:te},next:null};var a={};return s.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:fs,lastRenderedState:a},next:null},t.memoizedState=s,t=t.alternate,t!==null&&(t.memoizedState=s),s}function Gu(t){var s=Zu(t).next.queue;Il(t,s,{},Mt())}function vc(){return lt(fn)}function Vu(){return Ye().memoizedState}function Yu(){return Ye().memoizedState}function Nf(t){for(var s=t.return;s!==null;){switch(s.tag){case 24:case 3:var a=Mt();t=Ls(a);var l=Os(s,t,a);l!==null&&(Rt(l,s,a),Vl(l,s,a)),s={cache:Fi()},t.payload=s;return}s=s.return}}function wf(t,s,a){var l=Mt();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},fr(t)?Xu(s,a):(a=$i(t,s,a,l),a!==null&&(Rt(a,t,l),Ku(a,s,l)))}function Qu(t,s,a){var l=Mt();Il(t,s,a,l)}function Il(t,s,a,l){var n={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(fr(t))Xu(s,n);else{var r=t.alternate;if(t.lanes===0&&(r===null||r.lanes===0)&&(r=s.lastRenderedReducer,r!==null))try{var x=s.lastRenderedState,p=r(x,a);if(n.hasEagerState=!0,n.eagerState=p,Ct(p,x))return Wn(t,s,n,0),De===null&&Fn(),!1}catch{}finally{}if(a=$i(t,s,n,l),a!==null)return Rt(a,t,l),Ku(a,s,l),!0}return!1}function Nc(t,s,a,l){if(l={lane:2,revertLane:ed(),action:l,hasEagerState:!1,eagerState:null,next:null},fr(t)){if(s)throw Error(d(479))}else s=$i(t,a,l,2),s!==null&&Rt(s,t,2)}function fr(t){var s=t.alternate;return t===ye||s!==null&&s===ye}function Xu(t,s){Ja=dr=!0;var a=t.pending;a===null?s.next=s:(s.next=a.next,a.next=s),t.pending=s}function Ku(t,s,a){if((a&4194048)!==0){var l=s.lanes;l&=t.pendingLanes,a|=l,s.lanes=a,to(t,a)}}var gr={readContext:lt,use:ur,useCallback:Ze,useContext:Ze,useEffect:Ze,useImperativeHandle:Ze,useLayoutEffect:Ze,useInsertionEffect:Ze,useMemo:Ze,useReducer:Ze,useRef:Ze,useState:Ze,useDebugValue:Ze,useDeferredValue:Ze,useTransition:Ze,useSyncExternalStore:Ze,useId:Ze,useHostTransitionStatus:Ze,useFormState:Ze,useActionState:Ze,useOptimistic:Ze,useMemoCache:Ze,useCacheRefresh:Ze},Ju={readContext:lt,use:ur,useCallback:function(t,s){return pt().memoizedState=[t,s===void 0?null:s],t},useContext:lt,useEffect:_u,useImperativeHandle:function(t,s,a){a=a!=null?a.concat([t]):null,hr(4194308,4,Ou.bind(null,s,t),a)},useLayoutEffect:function(t,s){return hr(4194308,4,t,s)},useInsertionEffect:function(t,s){hr(4,2,t,s)},useMemo:function(t,s){var a=pt();s=s===void 0?null:s;var l=t();if(ja){Ms(!0);try{t()}finally{Ms(!1)}}return a.memoizedState=[l,s],l},useReducer:function(t,s,a){var l=pt();if(a!==void 0){var n=a(s);if(ja){Ms(!0);try{a(s)}finally{Ms(!1)}}}else n=s;return l.memoizedState=l.baseState=n,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:n},l.queue=t,t=t.dispatch=wf.bind(null,ye,t),[l.memoizedState,t]},useRef:function(t){var s=pt();return t={current:t},s.memoizedState=t},useState:function(t){t=gc(t);var s=t.queue,a=Qu.bind(null,ye,s);return s.dispatch=a,[t.memoizedState,a]},useDebugValue:yc,useDeferredValue:function(t,s){var a=pt();return bc(a,t,s)},useTransition:function(){var t=gc(!1);return t=$u.bind(null,ye,t.queue,!0,!1),pt().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,s,a){var l=ye,n=pt();if(Se){if(a===void 0)throw Error(d(407));a=a()}else{if(a=s(),De===null)throw Error(d(349));(Ne&124)!==0||gu(l,s,a)}n.memoizedState=a;var r={value:a,getSnapshot:s};return n.queue=r,_u(yu.bind(null,l,r,t),[t]),l.flags|=2048,Fa(9,xr(),pu.bind(null,l,r,a,s),null),a},useId:function(){var t=pt(),s=De.identifierPrefix;if(Se){var a=ms,l=us;a=(l&~(1<<32-St(l)-1)).toString(32)+a,s="«"+s+"R"+a,a=or++,0<a&&(s+="H"+a.toString(32)),s+="»"}else a=pf++,s="«"+s+"r"+a.toString(32)+"»";return t.memoizedState=s},useHostTransitionStatus:vc,useFormState:Tu,useActionState:Tu,useOptimistic:function(t){var s=pt();s.memoizedState=s.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=a,s=Nc.bind(null,ye,!0,a),a.dispatch=s,[t,s]},useMemoCache:xc,useCacheRefresh:function(){return pt().memoizedState=Nf.bind(null,ye)}},Iu={readContext:lt,use:ur,useCallback:qu,useContext:lt,useEffect:Du,useImperativeHandle:zu,useInsertionEffect:Uu,useLayoutEffect:Lu,useMemo:Hu,useReducer:mr,useRef:Ru,useState:function(){return mr(fs)},useDebugValue:yc,useDeferredValue:function(t,s){var a=Ye();return Bu(a,Ee.memoizedState,t,s)},useTransition:function(){var t=mr(fs)[0],s=Ye().memoizedState;return[typeof t=="boolean"?t:Kl(t),s]},useSyncExternalStore:fu,useId:Vu,useHostTransitionStatus:vc,useFormState:Eu,useActionState:Eu,useOptimistic:function(t,s){var a=Ye();return vu(a,Ee,t,s)},useMemoCache:xc,useCacheRefresh:Yu},Sf={readContext:lt,use:ur,useCallback:qu,useContext:lt,useEffect:Du,useImperativeHandle:zu,useInsertionEffect:Uu,useLayoutEffect:Lu,useMemo:Hu,useReducer:fc,useRef:Ru,useState:function(){return fc(fs)},useDebugValue:yc,useDeferredValue:function(t,s){var a=Ye();return Ee===null?bc(a,t,s):Bu(a,Ee.memoizedState,t,s)},useTransition:function(){var t=fc(fs)[0],s=Ye().memoizedState;return[typeof t=="boolean"?t:Kl(t),s]},useSyncExternalStore:fu,useId:Vu,useHostTransitionStatus:vc,useFormState:Mu,useActionState:Mu,useOptimistic:function(t,s){var a=Ye();return Ee!==null?vu(a,Ee,t,s):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:xc,useCacheRefresh:Yu},Wa=null,Fl=0;function pr(t){var s=Fl;return Fl+=1,Wa===null&&(Wa=[]),iu(Wa,t,s)}function Wl(t,s){s=s.props.ref,t.ref=s!==void 0?s:null}function yr(t,s){throw s.$$typeof===C?Error(d(525)):(t=Object.prototype.toString.call(s),Error(d(31,t==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":t)))}function Fu(t){var s=t._init;return s(t._payload)}function Wu(t){function s(z,D){if(t){var q=z.deletions;q===null?(z.deletions=[D],z.flags|=16):q.push(D)}}function a(z,D){if(!t)return null;for(;D!==null;)s(z,D),D=D.sibling;return null}function l(z){for(var D=new Map;z!==null;)z.key!==null?D.set(z.key,z):D.set(z.index,z),z=z.sibling;return D}function n(z,D){return z=os(z,D),z.index=0,z.sibling=null,z}function r(z,D,q){return z.index=q,t?(q=z.alternate,q!==null?(q=q.index,q<D?(z.flags|=67108866,D):q):(z.flags|=67108866,D)):(z.flags|=1048576,D)}function x(z){return t&&z.alternate===null&&(z.flags|=67108866),z}function p(z,D,q,I){return D===null||D.tag!==6?(D=Gi(q,z.mode,I),D.return=z,D):(D=n(D,q),D.return=z,D)}function k(z,D,q,I){var ie=q.type;return ie===O?K(z,D,q.props.children,I,q.key):D!==null&&(D.elementType===ie||typeof ie=="object"&&ie!==null&&ie.$$typeof===Y&&Fu(ie)===D.type)?(D=n(D,q.props),Wl(D,q),D.return=z,D):(D=er(q.type,q.key,q.props,null,z.mode,I),Wl(D,q),D.return=z,D)}function B(z,D,q,I){return D===null||D.tag!==4||D.stateNode.containerInfo!==q.containerInfo||D.stateNode.implementation!==q.implementation?(D=Vi(q,z.mode,I),D.return=z,D):(D=n(D,q.children||[]),D.return=z,D)}function K(z,D,q,I,ie){return D===null||D.tag!==7?(D=ma(q,z.mode,I,ie),D.return=z,D):(D=n(D,q),D.return=z,D)}function W(z,D,q){if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return D=Gi(""+D,z.mode,q),D.return=z,D;if(typeof D=="object"&&D!==null){switch(D.$$typeof){case L:return q=er(D.type,D.key,D.props,null,z.mode,q),Wl(q,D),q.return=z,q;case $:return D=Vi(D,z.mode,q),D.return=z,D;case Y:var I=D._init;return D=I(D._payload),W(z,D,q)}if(Ce(D)||J(D))return D=ma(D,z.mode,q,null),D.return=z,D;if(typeof D.then=="function")return W(z,pr(D),q);if(D.$$typeof===T)return W(z,lr(z,D),q);yr(z,D)}return null}function Z(z,D,q,I){var ie=D!==null?D.key:null;if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return ie!==null?null:p(z,D,""+q,I);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case L:return q.key===ie?k(z,D,q,I):null;case $:return q.key===ie?B(z,D,q,I):null;case Y:return ie=q._init,q=ie(q._payload),Z(z,D,q,I)}if(Ce(q)||J(q))return ie!==null?null:K(z,D,q,I,null);if(typeof q.then=="function")return Z(z,D,pr(q),I);if(q.$$typeof===T)return Z(z,D,lr(z,q),I);yr(z,q)}return null}function V(z,D,q,I,ie){if(typeof I=="string"&&I!==""||typeof I=="number"||typeof I=="bigint")return z=z.get(q)||null,p(D,z,""+I,ie);if(typeof I=="object"&&I!==null){switch(I.$$typeof){case L:return z=z.get(I.key===null?q:I.key)||null,k(D,z,I,ie);case $:return z=z.get(I.key===null?q:I.key)||null,B(D,z,I,ie);case Y:var be=I._init;return I=be(I._payload),V(z,D,q,I,ie)}if(Ce(I)||J(I))return z=z.get(q)||null,K(D,z,I,ie,null);if(typeof I.then=="function")return V(z,D,q,pr(I),ie);if(I.$$typeof===T)return V(z,D,q,lr(D,I),ie);yr(D,I)}return null}function he(z,D,q,I){for(var ie=null,be=null,oe=D,xe=D=0,Fe=null;oe!==null&&xe<q.length;xe++){oe.index>xe?(Fe=oe,oe=null):Fe=oe.sibling;var we=Z(z,oe,q[xe],I);if(we===null){oe===null&&(oe=Fe);break}t&&oe&&we.alternate===null&&s(z,oe),D=r(we,D,xe),be===null?ie=we:be.sibling=we,be=we,oe=Fe}if(xe===q.length)return a(z,oe),Se&&ha(z,xe),ie;if(oe===null){for(;xe<q.length;xe++)oe=W(z,q[xe],I),oe!==null&&(D=r(oe,D,xe),be===null?ie=oe:be.sibling=oe,be=oe);return Se&&ha(z,xe),ie}for(oe=l(oe);xe<q.length;xe++)Fe=V(oe,z,xe,q[xe],I),Fe!==null&&(t&&Fe.alternate!==null&&oe.delete(Fe.key===null?xe:Fe.key),D=r(Fe,D,xe),be===null?ie=Fe:be.sibling=Fe,be=Fe);return t&&oe.forEach(function(Ps){return s(z,Ps)}),Se&&ha(z,xe),ie}function me(z,D,q,I){if(q==null)throw Error(d(151));for(var ie=null,be=null,oe=D,xe=D=0,Fe=null,we=q.next();oe!==null&&!we.done;xe++,we=q.next()){oe.index>xe?(Fe=oe,oe=null):Fe=oe.sibling;var Ps=Z(z,oe,we.value,I);if(Ps===null){oe===null&&(oe=Fe);break}t&&oe&&Ps.alternate===null&&s(z,oe),D=r(Ps,D,xe),be===null?ie=Ps:be.sibling=Ps,be=Ps,oe=Fe}if(we.done)return a(z,oe),Se&&ha(z,xe),ie;if(oe===null){for(;!we.done;xe++,we=q.next())we=W(z,we.value,I),we!==null&&(D=r(we,D,xe),be===null?ie=we:be.sibling=we,be=we);return Se&&ha(z,xe),ie}for(oe=l(oe);!we.done;xe++,we=q.next())we=V(oe,z,xe,we.value,I),we!==null&&(t&&we.alternate!==null&&oe.delete(we.key===null?xe:we.key),D=r(we,D,xe),be===null?ie=we:be.sibling=we,be=we);return t&&oe.forEach(function(Cg){return s(z,Cg)}),Se&&ha(z,xe),ie}function Me(z,D,q,I){if(typeof q=="object"&&q!==null&&q.type===O&&q.key===null&&(q=q.props.children),typeof q=="object"&&q!==null){switch(q.$$typeof){case L:e:{for(var ie=q.key;D!==null;){if(D.key===ie){if(ie=q.type,ie===O){if(D.tag===7){a(z,D.sibling),I=n(D,q.props.children),I.return=z,z=I;break e}}else if(D.elementType===ie||typeof ie=="object"&&ie!==null&&ie.$$typeof===Y&&Fu(ie)===D.type){a(z,D.sibling),I=n(D,q.props),Wl(I,q),I.return=z,z=I;break e}a(z,D);break}else s(z,D);D=D.sibling}q.type===O?(I=ma(q.props.children,z.mode,I,q.key),I.return=z,z=I):(I=er(q.type,q.key,q.props,null,z.mode,I),Wl(I,q),I.return=z,z=I)}return x(z);case $:e:{for(ie=q.key;D!==null;){if(D.key===ie)if(D.tag===4&&D.stateNode.containerInfo===q.containerInfo&&D.stateNode.implementation===q.implementation){a(z,D.sibling),I=n(D,q.children||[]),I.return=z,z=I;break e}else{a(z,D);break}else s(z,D);D=D.sibling}I=Vi(q,z.mode,I),I.return=z,z=I}return x(z);case Y:return ie=q._init,q=ie(q._payload),Me(z,D,q,I)}if(Ce(q))return he(z,D,q,I);if(J(q)){if(ie=J(q),typeof ie!="function")throw Error(d(150));return q=ie.call(q),me(z,D,q,I)}if(typeof q.then=="function")return Me(z,D,pr(q),I);if(q.$$typeof===T)return Me(z,D,lr(z,q),I);yr(z,q)}return typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint"?(q=""+q,D!==null&&D.tag===6?(a(z,D.sibling),I=n(D,q),I.return=z,z=I):(a(z,D),I=Gi(q,z.mode,I),I.return=z,z=I),x(z)):a(z,D)}return function(z,D,q,I){try{Fl=0;var ie=Me(z,D,q,I);return Wa=null,ie}catch(oe){if(oe===Zl||oe===rr)throw oe;var be=kt(29,oe,null,z.mode);return be.lanes=I,be.return=z,be}finally{}}}var Pa=Wu(!0),Pu=Wu(!1),Ht=G(null),Pt=null;function qs(t){var s=t.alternate;se(Xe,Xe.current&1),se(Ht,t),Pt===null&&(s===null||Ka.current!==null||s.memoizedState!==null)&&(Pt=t)}function em(t){if(t.tag===22){if(se(Xe,Xe.current),se(Ht,t),Pt===null){var s=t.alternate;s!==null&&s.memoizedState!==null&&(Pt=t)}}else Hs()}function Hs(){se(Xe,Xe.current),se(Ht,Ht.current)}function gs(t){X(Ht),Pt===t&&(Pt=null),X(Xe)}var Xe=G(0);function br(t){for(var s=t;s!==null;){if(s.tag===13){var a=s.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||md(a)))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break;for(;s.sibling===null;){if(s.return===null||s.return===t)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}function wc(t,s,a,l){s=t.memoizedState,a=a(l,s),a=a==null?s:j({},s,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var Sc={enqueueSetState:function(t,s,a){t=t._reactInternals;var l=Mt(),n=Ls(l);n.payload=s,a!=null&&(n.callback=a),s=Os(t,n,l),s!==null&&(Rt(s,t,l),Vl(s,t,l))},enqueueReplaceState:function(t,s,a){t=t._reactInternals;var l=Mt(),n=Ls(l);n.tag=1,n.payload=s,a!=null&&(n.callback=a),s=Os(t,n,l),s!==null&&(Rt(s,t,l),Vl(s,t,l))},enqueueForceUpdate:function(t,s){t=t._reactInternals;var a=Mt(),l=Ls(a);l.tag=2,s!=null&&(l.callback=s),s=Os(t,l,a),s!==null&&(Rt(s,t,a),Vl(s,t,a))}};function tm(t,s,a,l,n,r,x){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,r,x):s.prototype&&s.prototype.isPureReactComponent?!Ul(a,l)||!Ul(n,r):!0}function sm(t,s,a,l){t=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(a,l),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(a,l),s.state!==t&&Sc.enqueueReplaceState(s,s.state,null)}function va(t,s){var a=s;if("ref"in s){a={};for(var l in s)l!=="ref"&&(a[l]=s[l])}if(t=t.defaultProps){a===s&&(a=j({},a));for(var n in t)a[n]===void 0&&(a[n]=t[n])}return a}var jr=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function am(t){jr(t)}function lm(t){console.error(t)}function nm(t){jr(t)}function vr(t,s){try{var a=t.onUncaughtError;a(s.value,{componentStack:s.stack})}catch(l){setTimeout(function(){throw l})}}function rm(t,s,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(n){setTimeout(function(){throw n})}}function Cc(t,s,a){return a=Ls(a),a.tag=3,a.payload={element:null},a.callback=function(){vr(t,s)},a}function im(t){return t=Ls(t),t.tag=3,t}function cm(t,s,a,l){var n=a.type.getDerivedStateFromError;if(typeof n=="function"){var r=l.value;t.payload=function(){return n(r)},t.callback=function(){rm(s,a,l)}}var x=a.stateNode;x!==null&&typeof x.componentDidCatch=="function"&&(t.callback=function(){rm(s,a,l),typeof n!="function"&&(Ys===null?Ys=new Set([this]):Ys.add(this));var p=l.stack;this.componentDidCatch(l.value,{componentStack:p!==null?p:""})})}function Cf(t,s,a,l,n){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(s=a.alternate,s!==null&&Hl(s,a,n,!0),a=Ht.current,a!==null){switch(a.tag){case 13:return Pt===null?Jc():a.alternate===null&&$e===0&&($e=3),a.flags&=-257,a.flags|=65536,a.lanes=n,l===ec?a.flags|=16384:(s=a.updateQueue,s===null?a.updateQueue=new Set([l]):s.add(l),Fc(t,l,n)),!1;case 22:return a.flags|=65536,l===ec?a.flags|=16384:(s=a.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=s):(a=s.retryQueue,a===null?s.retryQueue=new Set([l]):a.add(l)),Fc(t,l,n)),!1}throw Error(d(435,a.tag))}return Fc(t,l,n),Jc(),!1}if(Se)return s=Ht.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=n,l!==Xi&&(t=Error(d(422),{cause:l}),ql(Lt(t,a)))):(l!==Xi&&(s=Error(d(423),{cause:l}),ql(Lt(s,a))),t=t.current.alternate,t.flags|=65536,n&=-n,t.lanes|=n,l=Lt(l,a),n=Cc(t.stateNode,l,n),ac(t,n),$e!==4&&($e=2)),!1;var r=Error(d(520),{cause:l});if(r=Lt(r,a),nn===null?nn=[r]:nn.push(r),$e!==4&&($e=2),s===null)return!0;l=Lt(l,a),a=s;do{switch(a.tag){case 3:return a.flags|=65536,t=n&-n,a.lanes|=t,t=Cc(a.stateNode,l,t),ac(a,t),!1;case 1:if(s=a.type,r=a.stateNode,(a.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||r!==null&&typeof r.componentDidCatch=="function"&&(Ys===null||!Ys.has(r))))return a.flags|=65536,n&=-n,a.lanes|=n,n=im(n),cm(n,t,a,l),ac(a,n),!1}a=a.return}while(a!==null);return!1}var dm=Error(d(461)),Je=!1;function Pe(t,s,a,l){s.child=t===null?Pu(s,null,a,l):Pa(s,t.child,a,l)}function om(t,s,a,l,n){a=a.render;var r=s.ref;if("ref"in l){var x={};for(var p in l)p!=="ref"&&(x[p]=l[p])}else x=l;return ya(s),l=cc(t,s,a,x,r,n),p=dc(),t!==null&&!Je?(oc(t,s,n),ps(t,s,n)):(Se&&p&&Yi(s),s.flags|=1,Pe(t,s,l,n),s.child)}function um(t,s,a,l,n){if(t===null){var r=a.type;return typeof r=="function"&&!Zi(r)&&r.defaultProps===void 0&&a.compare===null?(s.tag=15,s.type=r,mm(t,s,r,l,n)):(t=er(a.type,null,l,s,s.mode,n),t.ref=s.ref,t.return=s,s.child=t)}if(r=t.child,!Dc(t,n)){var x=r.memoizedProps;if(a=a.compare,a=a!==null?a:Ul,a(x,l)&&t.ref===s.ref)return ps(t,s,n)}return s.flags|=1,t=os(r,l),t.ref=s.ref,t.return=s,s.child=t}function mm(t,s,a,l,n){if(t!==null){var r=t.memoizedProps;if(Ul(r,l)&&t.ref===s.ref)if(Je=!1,s.pendingProps=l=r,Dc(t,n))(t.flags&131072)!==0&&(Je=!0);else return s.lanes=t.lanes,ps(t,s,n)}return kc(t,s,a,l,n)}function xm(t,s,a){var l=s.pendingProps,n=l.children,r=t!==null?t.memoizedState:null;if(l.mode==="hidden"){if((s.flags&128)!==0){if(l=r!==null?r.baseLanes|a:a,t!==null){for(n=s.child=t.child,r=0;n!==null;)r=r|n.lanes|n.childLanes,n=n.sibling;s.childLanes=r&~l}else s.childLanes=0,s.child=null;return hm(t,s,l,a)}if((a&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},t!==null&&nr(s,r!==null?r.cachePool:null),r!==null?mu(s,r):nc(),em(s);else return s.lanes=s.childLanes=536870912,hm(t,s,r!==null?r.baseLanes|a:a,a)}else r!==null?(nr(s,r.cachePool),mu(s,r),Hs(),s.memoizedState=null):(t!==null&&nr(s,null),nc(),Hs());return Pe(t,s,n,a),s.child}function hm(t,s,a,l){var n=Pi();return n=n===null?null:{parent:Qe._currentValue,pool:n},s.memoizedState={baseLanes:a,cachePool:n},t!==null&&nr(s,null),nc(),em(s),t!==null&&Hl(t,s,l,!0),null}function Nr(t,s){var a=s.ref;if(a===null)t!==null&&t.ref!==null&&(s.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(d(284));(t===null||t.ref!==a)&&(s.flags|=4194816)}}function kc(t,s,a,l,n){return ya(s),a=cc(t,s,a,l,void 0,n),l=dc(),t!==null&&!Je?(oc(t,s,n),ps(t,s,n)):(Se&&l&&Yi(s),s.flags|=1,Pe(t,s,a,n),s.child)}function fm(t,s,a,l,n,r){return ya(s),s.updateQueue=null,a=hu(s,l,a,n),xu(t),l=dc(),t!==null&&!Je?(oc(t,s,r),ps(t,s,r)):(Se&&l&&Yi(s),s.flags|=1,Pe(t,s,a,r),s.child)}function gm(t,s,a,l,n){if(ya(s),s.stateNode===null){var r=Ga,x=a.contextType;typeof x=="object"&&x!==null&&(r=lt(x)),r=new a(l,r),s.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,r.updater=Sc,s.stateNode=r,r._reactInternals=s,r=s.stateNode,r.props=l,r.state=s.memoizedState,r.refs={},tc(s),x=a.contextType,r.context=typeof x=="object"&&x!==null?lt(x):Ga,r.state=s.memoizedState,x=a.getDerivedStateFromProps,typeof x=="function"&&(wc(s,a,x,l),r.state=s.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof r.getSnapshotBeforeUpdate=="function"||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(x=r.state,typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount(),x!==r.state&&Sc.enqueueReplaceState(r,r.state,null),Ql(s,l,r,n),Yl(),r.state=s.memoizedState),typeof r.componentDidMount=="function"&&(s.flags|=4194308),l=!0}else if(t===null){r=s.stateNode;var p=s.memoizedProps,k=va(a,p);r.props=k;var B=r.context,K=a.contextType;x=Ga,typeof K=="object"&&K!==null&&(x=lt(K));var W=a.getDerivedStateFromProps;K=typeof W=="function"||typeof r.getSnapshotBeforeUpdate=="function",p=s.pendingProps!==p,K||typeof r.UNSAFE_componentWillReceiveProps!="function"&&typeof r.componentWillReceiveProps!="function"||(p||B!==x)&&sm(s,r,l,x),Us=!1;var Z=s.memoizedState;r.state=Z,Ql(s,l,r,n),Yl(),B=s.memoizedState,p||Z!==B||Us?(typeof W=="function"&&(wc(s,a,W,l),B=s.memoizedState),(k=Us||tm(s,a,k,l,Z,B,x))?(K||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount()),typeof r.componentDidMount=="function"&&(s.flags|=4194308)):(typeof r.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=l,s.memoizedState=B),r.props=l,r.state=B,r.context=x,l=k):(typeof r.componentDidMount=="function"&&(s.flags|=4194308),l=!1)}else{r=s.stateNode,sc(t,s),x=s.memoizedProps,K=va(a,x),r.props=K,W=s.pendingProps,Z=r.context,B=a.contextType,k=Ga,typeof B=="object"&&B!==null&&(k=lt(B)),p=a.getDerivedStateFromProps,(B=typeof p=="function"||typeof r.getSnapshotBeforeUpdate=="function")||typeof r.UNSAFE_componentWillReceiveProps!="function"&&typeof r.componentWillReceiveProps!="function"||(x!==W||Z!==k)&&sm(s,r,l,k),Us=!1,Z=s.memoizedState,r.state=Z,Ql(s,l,r,n),Yl();var V=s.memoizedState;x!==W||Z!==V||Us||t!==null&&t.dependencies!==null&&ar(t.dependencies)?(typeof p=="function"&&(wc(s,a,p,l),V=s.memoizedState),(K=Us||tm(s,a,K,l,Z,V,k)||t!==null&&t.dependencies!==null&&ar(t.dependencies))?(B||typeof r.UNSAFE_componentWillUpdate!="function"&&typeof r.componentWillUpdate!="function"||(typeof r.componentWillUpdate=="function"&&r.componentWillUpdate(l,V,k),typeof r.UNSAFE_componentWillUpdate=="function"&&r.UNSAFE_componentWillUpdate(l,V,k)),typeof r.componentDidUpdate=="function"&&(s.flags|=4),typeof r.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof r.componentDidUpdate!="function"||x===t.memoizedProps&&Z===t.memoizedState||(s.flags|=4),typeof r.getSnapshotBeforeUpdate!="function"||x===t.memoizedProps&&Z===t.memoizedState||(s.flags|=1024),s.memoizedProps=l,s.memoizedState=V),r.props=l,r.state=V,r.context=k,l=K):(typeof r.componentDidUpdate!="function"||x===t.memoizedProps&&Z===t.memoizedState||(s.flags|=4),typeof r.getSnapshotBeforeUpdate!="function"||x===t.memoizedProps&&Z===t.memoizedState||(s.flags|=1024),l=!1)}return r=l,Nr(t,s),l=(s.flags&128)!==0,r||l?(r=s.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:r.render(),s.flags|=1,t!==null&&l?(s.child=Pa(s,t.child,null,n),s.child=Pa(s,null,a,n)):Pe(t,s,a,n),s.memoizedState=r.state,t=s.child):t=ps(t,s,n),t}function pm(t,s,a,l){return zl(),s.flags|=256,Pe(t,s,a,l),s.child}var Tc={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Ec(t){return{baseLanes:t,cachePool:lu()}}function Ac(t,s,a){return t=t!==null?t.childLanes&~a:0,s&&(t|=Bt),t}function ym(t,s,a){var l=s.pendingProps,n=!1,r=(s.flags&128)!==0,x;if((x=r)||(x=t!==null&&t.memoizedState===null?!1:(Xe.current&2)!==0),x&&(n=!0,s.flags&=-129),x=(s.flags&32)!==0,s.flags&=-33,t===null){if(Se){if(n?qs(s):Hs(),Se){var p=Be,k;if(k=p){e:{for(k=p,p=Wt;k.nodeType!==8;){if(!p){p=null;break e}if(k=Xt(k.nextSibling),k===null){p=null;break e}}p=k}p!==null?(s.memoizedState={dehydrated:p,treeContext:xa!==null?{id:us,overflow:ms}:null,retryLane:536870912,hydrationErrors:null},k=kt(18,null,null,0),k.stateNode=p,k.return=s,s.child=k,ct=s,Be=null,k=!0):k=!1}k||ga(s)}if(p=s.memoizedState,p!==null&&(p=p.dehydrated,p!==null))return md(p)?s.lanes=32:s.lanes=536870912,null;gs(s)}return p=l.children,l=l.fallback,n?(Hs(),n=s.mode,p=wr({mode:"hidden",children:p},n),l=ma(l,n,a,null),p.return=s,l.return=s,p.sibling=l,s.child=p,n=s.child,n.memoizedState=Ec(a),n.childLanes=Ac(t,x,a),s.memoizedState=Tc,l):(qs(s),Mc(s,p))}if(k=t.memoizedState,k!==null&&(p=k.dehydrated,p!==null)){if(r)s.flags&256?(qs(s),s.flags&=-257,s=Rc(t,s,a)):s.memoizedState!==null?(Hs(),s.child=t.child,s.flags|=128,s=null):(Hs(),n=l.fallback,p=s.mode,l=wr({mode:"visible",children:l.children},p),n=ma(n,p,a,null),n.flags|=2,l.return=s,n.return=s,l.sibling=n,s.child=l,Pa(s,t.child,null,a),l=s.child,l.memoizedState=Ec(a),l.childLanes=Ac(t,x,a),s.memoizedState=Tc,s=n);else if(qs(s),md(p)){if(x=p.nextSibling&&p.nextSibling.dataset,x)var B=x.dgst;x=B,l=Error(d(419)),l.stack="",l.digest=x,ql({value:l,source:null,stack:null}),s=Rc(t,s,a)}else if(Je||Hl(t,s,a,!1),x=(a&t.childLanes)!==0,Je||x){if(x=De,x!==null&&(l=a&-a,l=(l&42)!==0?1:xi(l),l=(l&(x.suspendedLanes|a))!==0?0:l,l!==0&&l!==k.retryLane))throw k.retryLane=l,Za(t,l),Rt(x,t,l),dm;p.data==="$?"||Jc(),s=Rc(t,s,a)}else p.data==="$?"?(s.flags|=192,s.child=t.child,s=null):(t=k.treeContext,Be=Xt(p.nextSibling),ct=s,Se=!0,fa=null,Wt=!1,t!==null&&(zt[qt++]=us,zt[qt++]=ms,zt[qt++]=xa,us=t.id,ms=t.overflow,xa=s),s=Mc(s,l.children),s.flags|=4096);return s}return n?(Hs(),n=l.fallback,p=s.mode,k=t.child,B=k.sibling,l=os(k,{mode:"hidden",children:l.children}),l.subtreeFlags=k.subtreeFlags&65011712,B!==null?n=os(B,n):(n=ma(n,p,a,null),n.flags|=2),n.return=s,l.return=s,l.sibling=n,s.child=l,l=n,n=s.child,p=t.child.memoizedState,p===null?p=Ec(a):(k=p.cachePool,k!==null?(B=Qe._currentValue,k=k.parent!==B?{parent:B,pool:B}:k):k=lu(),p={baseLanes:p.baseLanes|a,cachePool:k}),n.memoizedState=p,n.childLanes=Ac(t,x,a),s.memoizedState=Tc,l):(qs(s),a=t.child,t=a.sibling,a=os(a,{mode:"visible",children:l.children}),a.return=s,a.sibling=null,t!==null&&(x=s.deletions,x===null?(s.deletions=[t],s.flags|=16):x.push(t)),s.child=a,s.memoizedState=null,a)}function Mc(t,s){return s=wr({mode:"visible",children:s},t.mode),s.return=t,t.child=s}function wr(t,s){return t=kt(22,t,null,s),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function Rc(t,s,a){return Pa(s,t.child,null,a),t=Mc(s,s.pendingProps.children),t.flags|=2,s.memoizedState=null,t}function bm(t,s,a){t.lanes|=s;var l=t.alternate;l!==null&&(l.lanes|=s),Ji(t.return,s,a)}function _c(t,s,a,l,n){var r=t.memoizedState;r===null?t.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:n}:(r.isBackwards=s,r.rendering=null,r.renderingStartTime=0,r.last=l,r.tail=a,r.tailMode=n)}function jm(t,s,a){var l=s.pendingProps,n=l.revealOrder,r=l.tail;if(Pe(t,s,l.children,a),l=Xe.current,(l&2)!==0)l=l&1|2,s.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=s.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&bm(t,a,s);else if(t.tag===19)bm(t,a,s);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===s)break e;for(;t.sibling===null;){if(t.return===null||t.return===s)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch(se(Xe,l),n){case"forwards":for(a=s.child,n=null;a!==null;)t=a.alternate,t!==null&&br(t)===null&&(n=a),a=a.sibling;a=n,a===null?(n=s.child,s.child=null):(n=a.sibling,a.sibling=null),_c(s,!1,n,a,r);break;case"backwards":for(a=null,n=s.child,s.child=null;n!==null;){if(t=n.alternate,t!==null&&br(t)===null){s.child=n;break}t=n.sibling,n.sibling=a,a=n,n=t}_c(s,!0,a,null,r);break;case"together":_c(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function ps(t,s,a){if(t!==null&&(s.dependencies=t.dependencies),Vs|=s.lanes,(a&s.childLanes)===0)if(t!==null){if(Hl(t,s,a,!1),(a&s.childLanes)===0)return null}else return null;if(t!==null&&s.child!==t.child)throw Error(d(153));if(s.child!==null){for(t=s.child,a=os(t,t.pendingProps),s.child=a,a.return=s;t.sibling!==null;)t=t.sibling,a=a.sibling=os(t,t.pendingProps),a.return=s;a.sibling=null}return s.child}function Dc(t,s){return(t.lanes&s)!==0?!0:(t=t.dependencies,!!(t!==null&&ar(t)))}function kf(t,s,a){switch(s.tag){case 3:ne(s,s.stateNode.containerInfo),Ds(s,Qe,t.memoizedState.cache),zl();break;case 27:case 5:ht(s);break;case 4:ne(s,s.stateNode.containerInfo);break;case 10:Ds(s,s.type,s.memoizedProps.value);break;case 13:var l=s.memoizedState;if(l!==null)return l.dehydrated!==null?(qs(s),s.flags|=128,null):(a&s.child.childLanes)!==0?ym(t,s,a):(qs(s),t=ps(t,s,a),t!==null?t.sibling:null);qs(s);break;case 19:var n=(t.flags&128)!==0;if(l=(a&s.childLanes)!==0,l||(Hl(t,s,a,!1),l=(a&s.childLanes)!==0),n){if(l)return jm(t,s,a);s.flags|=128}if(n=s.memoizedState,n!==null&&(n.rendering=null,n.tail=null,n.lastEffect=null),se(Xe,Xe.current),l)break;return null;case 22:case 23:return s.lanes=0,xm(t,s,a);case 24:Ds(s,Qe,t.memoizedState.cache)}return ps(t,s,a)}function vm(t,s,a){if(t!==null)if(t.memoizedProps!==s.pendingProps)Je=!0;else{if(!Dc(t,a)&&(s.flags&128)===0)return Je=!1,kf(t,s,a);Je=(t.flags&131072)!==0}else Je=!1,Se&&(s.flags&1048576)!==0&&Fo(s,sr,s.index);switch(s.lanes=0,s.tag){case 16:e:{t=s.pendingProps;var l=s.elementType,n=l._init;if(l=n(l._payload),s.type=l,typeof l=="function")Zi(l)?(t=va(l,t),s.tag=1,s=gm(null,s,l,t,a)):(s.tag=0,s=kc(null,s,l,t,a));else{if(l!=null){if(n=l.$$typeof,n===S){s.tag=11,s=om(null,s,l,t,a);break e}else if(n===ee){s.tag=14,s=um(null,s,l,t,a);break e}}throw s=pe(l)||l,Error(d(306,s,""))}}return s;case 0:return kc(t,s,s.type,s.pendingProps,a);case 1:return l=s.type,n=va(l,s.pendingProps),gm(t,s,l,n,a);case 3:e:{if(ne(s,s.stateNode.containerInfo),t===null)throw Error(d(387));l=s.pendingProps;var r=s.memoizedState;n=r.element,sc(t,s),Ql(s,l,null,a);var x=s.memoizedState;if(l=x.cache,Ds(s,Qe,l),l!==r.cache&&Ii(s,[Qe],a,!0),Yl(),l=x.element,r.isDehydrated)if(r={element:l,isDehydrated:!1,cache:x.cache},s.updateQueue.baseState=r,s.memoizedState=r,s.flags&256){s=pm(t,s,l,a);break e}else if(l!==n){n=Lt(Error(d(424)),s),ql(n),s=pm(t,s,l,a);break e}else{switch(t=s.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(Be=Xt(t.firstChild),ct=s,Se=!0,fa=null,Wt=!0,a=Pu(s,null,l,a),s.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(zl(),l===n){s=ps(t,s,a);break e}Pe(t,s,l,a)}s=s.child}return s;case 26:return Nr(t,s),t===null?(a=Cx(s.type,null,s.pendingProps,null))?s.memoizedState=a:Se||(a=s.type,t=s.pendingProps,l=zr(U.current).createElement(a),l[at]=s,l[ft]=t,tt(l,a,t),Ke(l),s.stateNode=l):s.memoizedState=Cx(s.type,t.memoizedProps,s.pendingProps,t.memoizedState),null;case 27:return ht(s),t===null&&Se&&(l=s.stateNode=Nx(s.type,s.pendingProps,U.current),ct=s,Wt=!0,n=Be,Ks(s.type)?(xd=n,Be=Xt(l.firstChild)):Be=n),Pe(t,s,s.pendingProps.children,a),Nr(t,s),t===null&&(s.flags|=4194304),s.child;case 5:return t===null&&Se&&((n=l=Be)&&(l=eg(l,s.type,s.pendingProps,Wt),l!==null?(s.stateNode=l,ct=s,Be=Xt(l.firstChild),Wt=!1,n=!0):n=!1),n||ga(s)),ht(s),n=s.type,r=s.pendingProps,x=t!==null?t.memoizedProps:null,l=r.children,dd(n,r)?l=null:x!==null&&dd(n,x)&&(s.flags|=32),s.memoizedState!==null&&(n=cc(t,s,yf,null,null,a),fn._currentValue=n),Nr(t,s),Pe(t,s,l,a),s.child;case 6:return t===null&&Se&&((t=a=Be)&&(a=tg(a,s.pendingProps,Wt),a!==null?(s.stateNode=a,ct=s,Be=null,t=!0):t=!1),t||ga(s)),null;case 13:return ym(t,s,a);case 4:return ne(s,s.stateNode.containerInfo),l=s.pendingProps,t===null?s.child=Pa(s,null,l,a):Pe(t,s,l,a),s.child;case 11:return om(t,s,s.type,s.pendingProps,a);case 7:return Pe(t,s,s.pendingProps,a),s.child;case 8:return Pe(t,s,s.pendingProps.children,a),s.child;case 12:return Pe(t,s,s.pendingProps.children,a),s.child;case 10:return l=s.pendingProps,Ds(s,s.type,l.value),Pe(t,s,l.children,a),s.child;case 9:return n=s.type._context,l=s.pendingProps.children,ya(s),n=lt(n),l=l(n),s.flags|=1,Pe(t,s,l,a),s.child;case 14:return um(t,s,s.type,s.pendingProps,a);case 15:return mm(t,s,s.type,s.pendingProps,a);case 19:return jm(t,s,a);case 31:return l=s.pendingProps,a=s.mode,l={mode:l.mode,children:l.children},t===null?(a=wr(l,a),a.ref=s.ref,s.child=a,a.return=s,s=a):(a=os(t.child,l),a.ref=s.ref,s.child=a,a.return=s,s=a),s;case 22:return xm(t,s,a);case 24:return ya(s),l=lt(Qe),t===null?(n=Pi(),n===null&&(n=De,r=Fi(),n.pooledCache=r,r.refCount++,r!==null&&(n.pooledCacheLanes|=a),n=r),s.memoizedState={parent:l,cache:n},tc(s),Ds(s,Qe,n)):((t.lanes&a)!==0&&(sc(t,s),Ql(s,null,null,a),Yl()),n=t.memoizedState,r=s.memoizedState,n.parent!==l?(n={parent:l,cache:l},s.memoizedState=n,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=n),Ds(s,Qe,l)):(l=r.cache,Ds(s,Qe,l),l!==n.cache&&Ii(s,[Qe],a,!0))),Pe(t,s,s.pendingProps.children,a),s.child;case 29:throw s.pendingProps}throw Error(d(156,s.tag))}function ys(t){t.flags|=4}function Nm(t,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Mx(s)){if(s=Ht.current,s!==null&&((Ne&4194048)===Ne?Pt!==null:(Ne&62914560)!==Ne&&(Ne&536870912)===0||s!==Pt))throw Gl=ec,nu;t.flags|=8192}}function Sr(t,s){s!==null&&(t.flags|=4),t.flags&16384&&(s=t.tag!==22?Pd():536870912,t.lanes|=s,al|=s)}function Pl(t,s){if(!Se)switch(t.tailMode){case"hidden":s=t.tail;for(var a=null;s!==null;)s.alternate!==null&&(a=s),s=s.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?s||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function ze(t){var s=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(s)for(var n=t.child;n!==null;)a|=n.lanes|n.childLanes,l|=n.subtreeFlags&65011712,l|=n.flags&65011712,n.return=t,n=n.sibling;else for(n=t.child;n!==null;)a|=n.lanes|n.childLanes,l|=n.subtreeFlags,l|=n.flags,n.return=t,n=n.sibling;return t.subtreeFlags|=l,t.childLanes=a,s}function Tf(t,s,a){var l=s.pendingProps;switch(Qi(s),s.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ze(s),null;case 1:return ze(s),null;case 3:return a=s.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),s.memoizedState.cache!==l&&(s.flags|=2048),hs(Qe),fe(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Ol(s)?ys(s):t===null||t.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,eu())),ze(s),null;case 26:return a=s.memoizedState,t===null?(ys(s),a!==null?(ze(s),Nm(s,a)):(ze(s),s.flags&=-16777217)):a?a!==t.memoizedState?(ys(s),ze(s),Nm(s,a)):(ze(s),s.flags&=-16777217):(t.memoizedProps!==l&&ys(s),ze(s),s.flags&=-16777217),null;case 27:Nt(s),a=U.current;var n=s.type;if(t!==null&&s.stateNode!=null)t.memoizedProps!==l&&ys(s);else{if(!l){if(s.stateNode===null)throw Error(d(166));return ze(s),null}t=ae.current,Ol(s)?Wo(s):(t=Nx(n,l,a),s.stateNode=t,ys(s))}return ze(s),null;case 5:if(Nt(s),a=s.type,t!==null&&s.stateNode!=null)t.memoizedProps!==l&&ys(s);else{if(!l){if(s.stateNode===null)throw Error(d(166));return ze(s),null}if(t=ae.current,Ol(s))Wo(s);else{switch(n=zr(U.current),t){case 1:t=n.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:t=n.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":t=n.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":t=n.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":t=n.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?n.createElement("select",{is:l.is}):n.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?n.createElement(a,{is:l.is}):n.createElement(a)}}t[at]=s,t[ft]=l;e:for(n=s.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.tag!==27&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===s)break e;for(;n.sibling===null;){if(n.return===null||n.return===s)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}s.stateNode=t;e:switch(tt(t,a,l),a){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&ys(s)}}return ze(s),s.flags&=-16777217,null;case 6:if(t&&s.stateNode!=null)t.memoizedProps!==l&&ys(s);else{if(typeof l!="string"&&s.stateNode===null)throw Error(d(166));if(t=U.current,Ol(s)){if(t=s.stateNode,a=s.memoizedProps,l=null,n=ct,n!==null)switch(n.tag){case 27:case 5:l=n.memoizedProps}t[at]=s,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||fx(t.nodeValue,a)),t||ga(s)}else t=zr(t).createTextNode(l),t[at]=s,s.stateNode=t}return ze(s),null;case 13:if(l=s.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(n=Ol(s),l!==null&&l.dehydrated!==null){if(t===null){if(!n)throw Error(d(318));if(n=s.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(d(317));n[at]=s}else zl(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;ze(s),n=!1}else n=eu(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=n),n=!0;if(!n)return s.flags&256?(gs(s),s):(gs(s),null)}if(gs(s),(s.flags&128)!==0)return s.lanes=a,s;if(a=l!==null,t=t!==null&&t.memoizedState!==null,a){l=s.child,n=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(n=l.alternate.memoizedState.cachePool.pool);var r=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(r=l.memoizedState.cachePool.pool),r!==n&&(l.flags|=2048)}return a!==t&&a&&(s.child.flags|=8192),Sr(s,s.updateQueue),ze(s),null;case 4:return fe(),t===null&&ld(s.stateNode.containerInfo),ze(s),null;case 10:return hs(s.type),ze(s),null;case 19:if(X(Xe),n=s.memoizedState,n===null)return ze(s),null;if(l=(s.flags&128)!==0,r=n.rendering,r===null)if(l)Pl(n,!1);else{if($e!==0||t!==null&&(t.flags&128)!==0)for(t=s.child;t!==null;){if(r=br(t),r!==null){for(s.flags|=128,Pl(n,!1),t=r.updateQueue,s.updateQueue=t,Sr(s,t),s.subtreeFlags=0,t=a,a=s.child;a!==null;)Io(a,t),a=a.sibling;return se(Xe,Xe.current&1|2),s.child}t=t.sibling}n.tail!==null&&Ft()>Tr&&(s.flags|=128,l=!0,Pl(n,!1),s.lanes=4194304)}else{if(!l)if(t=br(r),t!==null){if(s.flags|=128,l=!0,t=t.updateQueue,s.updateQueue=t,Sr(s,t),Pl(n,!0),n.tail===null&&n.tailMode==="hidden"&&!r.alternate&&!Se)return ze(s),null}else 2*Ft()-n.renderingStartTime>Tr&&a!==536870912&&(s.flags|=128,l=!0,Pl(n,!1),s.lanes=4194304);n.isBackwards?(r.sibling=s.child,s.child=r):(t=n.last,t!==null?t.sibling=r:s.child=r,n.last=r)}return n.tail!==null?(s=n.tail,n.rendering=s,n.tail=s.sibling,n.renderingStartTime=Ft(),s.sibling=null,t=Xe.current,se(Xe,l?t&1|2:t&1),s):(ze(s),null);case 22:case 23:return gs(s),rc(),l=s.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(s.flags|=8192):l&&(s.flags|=8192),l?(a&536870912)!==0&&(s.flags&128)===0&&(ze(s),s.subtreeFlags&6&&(s.flags|=8192)):ze(s),a=s.updateQueue,a!==null&&Sr(s,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(l=s.memoizedState.cachePool.pool),l!==a&&(s.flags|=2048),t!==null&&X(ba),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),s.memoizedState.cache!==a&&(s.flags|=2048),hs(Qe),ze(s),null;case 25:return null;case 30:return null}throw Error(d(156,s.tag))}function Ef(t,s){switch(Qi(s),s.tag){case 1:return t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 3:return hs(Qe),fe(),t=s.flags,(t&65536)!==0&&(t&128)===0?(s.flags=t&-65537|128,s):null;case 26:case 27:case 5:return Nt(s),null;case 13:if(gs(s),t=s.memoizedState,t!==null&&t.dehydrated!==null){if(s.alternate===null)throw Error(d(340));zl()}return t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 19:return X(Xe),null;case 4:return fe(),null;case 10:return hs(s.type),null;case 22:case 23:return gs(s),rc(),t!==null&&X(ba),t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 24:return hs(Qe),null;case 25:return null;default:return null}}function wm(t,s){switch(Qi(s),s.tag){case 3:hs(Qe),fe();break;case 26:case 27:case 5:Nt(s);break;case 4:fe();break;case 13:gs(s);break;case 19:X(Xe);break;case 10:hs(s.type);break;case 22:case 23:gs(s),rc(),t!==null&&X(ba);break;case 24:hs(Qe)}}function en(t,s){try{var a=s.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var n=l.next;a=n;do{if((a.tag&t)===t){l=void 0;var r=a.create,x=a.inst;l=r(),x.destroy=l}a=a.next}while(a!==n)}}catch(p){Re(s,s.return,p)}}function Bs(t,s,a){try{var l=s.updateQueue,n=l!==null?l.lastEffect:null;if(n!==null){var r=n.next;l=r;do{if((l.tag&t)===t){var x=l.inst,p=x.destroy;if(p!==void 0){x.destroy=void 0,n=s;var k=a,B=p;try{B()}catch(K){Re(n,k,K)}}}l=l.next}while(l!==r)}}catch(K){Re(s,s.return,K)}}function Sm(t){var s=t.updateQueue;if(s!==null){var a=t.stateNode;try{uu(s,a)}catch(l){Re(t,t.return,l)}}}function Cm(t,s,a){a.props=va(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){Re(t,s,l)}}function tn(t,s){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(n){Re(t,s,n)}}function es(t,s){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(n){Re(t,s,n)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(n){Re(t,s,n)}else a.current=null}function km(t){var s=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(n){Re(t,t.return,n)}}function Uc(t,s,a){try{var l=t.stateNode;Jf(l,t.type,a,s),l[ft]=s}catch(n){Re(t,t.return,n)}}function Tm(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Ks(t.type)||t.tag===4}function Lc(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Tm(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Ks(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Oc(t,s,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,s?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,s):(s=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,s.appendChild(t),a=a._reactRootContainer,a!=null||s.onclick!==null||(s.onclick=Or));else if(l!==4&&(l===27&&Ks(t.type)&&(a=t.stateNode,s=null),t=t.child,t!==null))for(Oc(t,s,a),t=t.sibling;t!==null;)Oc(t,s,a),t=t.sibling}function Cr(t,s,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,s?a.insertBefore(t,s):a.appendChild(t);else if(l!==4&&(l===27&&Ks(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(Cr(t,s,a),t=t.sibling;t!==null;)Cr(t,s,a),t=t.sibling}function Em(t){var s=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,n=s.attributes;n.length;)s.removeAttributeNode(n[0]);tt(s,l,a),s[at]=t,s[ft]=a}catch(r){Re(t,t.return,r)}}var bs=!1,Ge=!1,zc=!1,Am=typeof WeakSet=="function"?WeakSet:Set,Ie=null;function Af(t,s){if(t=t.containerInfo,id=Gr,t=Bo(t),Li(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var n=l.anchorOffset,r=l.focusNode;l=l.focusOffset;try{a.nodeType,r.nodeType}catch{a=null;break e}var x=0,p=-1,k=-1,B=0,K=0,W=t,Z=null;t:for(;;){for(var V;W!==a||n!==0&&W.nodeType!==3||(p=x+n),W!==r||l!==0&&W.nodeType!==3||(k=x+l),W.nodeType===3&&(x+=W.nodeValue.length),(V=W.firstChild)!==null;)Z=W,W=V;for(;;){if(W===t)break t;if(Z===a&&++B===n&&(p=x),Z===r&&++K===l&&(k=x),(V=W.nextSibling)!==null)break;W=Z,Z=W.parentNode}W=V}a=p===-1||k===-1?null:{start:p,end:k}}else a=null}a=a||{start:0,end:0}}else a=null;for(cd={focusedElem:t,selectionRange:a},Gr=!1,Ie=s;Ie!==null;)if(s=Ie,t=s.child,(s.subtreeFlags&1024)!==0&&t!==null)t.return=s,Ie=t;else for(;Ie!==null;){switch(s=Ie,r=s.alternate,t=s.flags,s.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&r!==null){t=void 0,a=s,n=r.memoizedProps,r=r.memoizedState,l=a.stateNode;try{var he=va(a.type,n,a.elementType===a.type);t=l.getSnapshotBeforeUpdate(he,r),l.__reactInternalSnapshotBeforeUpdate=t}catch(me){Re(a,a.return,me)}}break;case 3:if((t&1024)!==0){if(t=s.stateNode.containerInfo,a=t.nodeType,a===9)ud(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":ud(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(d(163))}if(t=s.sibling,t!==null){t.return=s.return,Ie=t;break}Ie=s.return}}function Mm(t,s,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:$s(t,a),l&4&&en(5,a);break;case 1:if($s(t,a),l&4)if(t=a.stateNode,s===null)try{t.componentDidMount()}catch(x){Re(a,a.return,x)}else{var n=va(a.type,s.memoizedProps);s=s.memoizedState;try{t.componentDidUpdate(n,s,t.__reactInternalSnapshotBeforeUpdate)}catch(x){Re(a,a.return,x)}}l&64&&Sm(a),l&512&&tn(a,a.return);break;case 3:if($s(t,a),l&64&&(t=a.updateQueue,t!==null)){if(s=null,a.child!==null)switch(a.child.tag){case 27:case 5:s=a.child.stateNode;break;case 1:s=a.child.stateNode}try{uu(t,s)}catch(x){Re(a,a.return,x)}}break;case 27:s===null&&l&4&&Em(a);case 26:case 5:$s(t,a),s===null&&l&4&&km(a),l&512&&tn(a,a.return);break;case 12:$s(t,a);break;case 13:$s(t,a),l&4&&Dm(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=qf.bind(null,a),sg(t,a))));break;case 22:if(l=a.memoizedState!==null||bs,!l){s=s!==null&&s.memoizedState!==null||Ge,n=bs;var r=Ge;bs=l,(Ge=s)&&!r?Zs(t,a,(a.subtreeFlags&8772)!==0):$s(t,a),bs=n,Ge=r}break;case 30:break;default:$s(t,a)}}function Rm(t){var s=t.alternate;s!==null&&(t.alternate=null,Rm(s)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(s=t.stateNode,s!==null&&gi(s)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var Le=null,yt=!1;function js(t,s,a){for(a=a.child;a!==null;)_m(t,s,a),a=a.sibling}function _m(t,s,a){if(wt&&typeof wt.onCommitFiberUnmount=="function")try{wt.onCommitFiberUnmount(Nl,a)}catch{}switch(a.tag){case 26:Ge||es(a,s),js(t,s,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Ge||es(a,s);var l=Le,n=yt;Ks(a.type)&&(Le=a.stateNode,yt=!1),js(t,s,a),un(a.stateNode),Le=l,yt=n;break;case 5:Ge||es(a,s);case 6:if(l=Le,n=yt,Le=null,js(t,s,a),Le=l,yt=n,Le!==null)if(yt)try{(Le.nodeType===9?Le.body:Le.nodeName==="HTML"?Le.ownerDocument.body:Le).removeChild(a.stateNode)}catch(r){Re(a,s,r)}else try{Le.removeChild(a.stateNode)}catch(r){Re(a,s,r)}break;case 18:Le!==null&&(yt?(t=Le,jx(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),bn(t)):jx(Le,a.stateNode));break;case 4:l=Le,n=yt,Le=a.stateNode.containerInfo,yt=!0,js(t,s,a),Le=l,yt=n;break;case 0:case 11:case 14:case 15:Ge||Bs(2,a,s),Ge||Bs(4,a,s),js(t,s,a);break;case 1:Ge||(es(a,s),l=a.stateNode,typeof l.componentWillUnmount=="function"&&Cm(a,s,l)),js(t,s,a);break;case 21:js(t,s,a);break;case 22:Ge=(l=Ge)||a.memoizedState!==null,js(t,s,a),Ge=l;break;default:js(t,s,a)}}function Dm(t,s){if(s.memoizedState===null&&(t=s.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{bn(t)}catch(a){Re(s,s.return,a)}}function Mf(t){switch(t.tag){case 13:case 19:var s=t.stateNode;return s===null&&(s=t.stateNode=new Am),s;case 22:return t=t.stateNode,s=t._retryCache,s===null&&(s=t._retryCache=new Am),s;default:throw Error(d(435,t.tag))}}function qc(t,s){var a=Mf(t);s.forEach(function(l){var n=Hf.bind(null,t,l);a.has(l)||(a.add(l),l.then(n,n))})}function Tt(t,s){var a=s.deletions;if(a!==null)for(var l=0;l<a.length;l++){var n=a[l],r=t,x=s,p=x;e:for(;p!==null;){switch(p.tag){case 27:if(Ks(p.type)){Le=p.stateNode,yt=!1;break e}break;case 5:Le=p.stateNode,yt=!1;break e;case 3:case 4:Le=p.stateNode.containerInfo,yt=!0;break e}p=p.return}if(Le===null)throw Error(d(160));_m(r,x,n),Le=null,yt=!1,r=n.alternate,r!==null&&(r.return=null),n.return=null}if(s.subtreeFlags&13878)for(s=s.child;s!==null;)Um(s,t),s=s.sibling}var Qt=null;function Um(t,s){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Tt(s,t),Et(t),l&4&&(Bs(3,t,t.return),en(3,t),Bs(5,t,t.return));break;case 1:Tt(s,t),Et(t),l&512&&(Ge||a===null||es(a,a.return)),l&64&&bs&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var n=Qt;if(Tt(s,t),Et(t),l&512&&(Ge||a===null||es(a,a.return)),l&4){var r=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,n=n.ownerDocument||n;t:switch(l){case"title":r=n.getElementsByTagName("title")[0],(!r||r[Cl]||r[at]||r.namespaceURI==="http://www.w3.org/2000/svg"||r.hasAttribute("itemprop"))&&(r=n.createElement(l),n.head.insertBefore(r,n.querySelector("head > title"))),tt(r,l,a),r[at]=t,Ke(r),l=r;break e;case"link":var x=Ex("link","href",n).get(l+(a.href||""));if(x){for(var p=0;p<x.length;p++)if(r=x[p],r.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&r.getAttribute("rel")===(a.rel==null?null:a.rel)&&r.getAttribute("title")===(a.title==null?null:a.title)&&r.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){x.splice(p,1);break t}}r=n.createElement(l),tt(r,l,a),n.head.appendChild(r);break;case"meta":if(x=Ex("meta","content",n).get(l+(a.content||""))){for(p=0;p<x.length;p++)if(r=x[p],r.getAttribute("content")===(a.content==null?null:""+a.content)&&r.getAttribute("name")===(a.name==null?null:a.name)&&r.getAttribute("property")===(a.property==null?null:a.property)&&r.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&r.getAttribute("charset")===(a.charSet==null?null:a.charSet)){x.splice(p,1);break t}}r=n.createElement(l),tt(r,l,a),n.head.appendChild(r);break;default:throw Error(d(468,l))}r[at]=t,Ke(r),l=r}t.stateNode=l}else Ax(n,t.type,t.stateNode);else t.stateNode=Tx(n,l,t.memoizedProps);else r!==l?(r===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):r.count--,l===null?Ax(n,t.type,t.stateNode):Tx(n,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Uc(t,t.memoizedProps,a.memoizedProps)}break;case 27:Tt(s,t),Et(t),l&512&&(Ge||a===null||es(a,a.return)),a!==null&&l&4&&Uc(t,t.memoizedProps,a.memoizedProps);break;case 5:if(Tt(s,t),Et(t),l&512&&(Ge||a===null||es(a,a.return)),t.flags&32){n=t.stateNode;try{La(n,"")}catch(V){Re(t,t.return,V)}}l&4&&t.stateNode!=null&&(n=t.memoizedProps,Uc(t,n,a!==null?a.memoizedProps:n)),l&1024&&(zc=!0);break;case 6:if(Tt(s,t),Et(t),l&4){if(t.stateNode===null)throw Error(d(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(V){Re(t,t.return,V)}}break;case 3:if(Br=null,n=Qt,Qt=qr(s.containerInfo),Tt(s,t),Qt=n,Et(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{bn(s.containerInfo)}catch(V){Re(t,t.return,V)}zc&&(zc=!1,Lm(t));break;case 4:l=Qt,Qt=qr(t.stateNode.containerInfo),Tt(s,t),Et(t),Qt=l;break;case 12:Tt(s,t),Et(t);break;case 13:Tt(s,t),Et(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Vc=Ft()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,qc(t,l)));break;case 22:n=t.memoizedState!==null;var k=a!==null&&a.memoizedState!==null,B=bs,K=Ge;if(bs=B||n,Ge=K||k,Tt(s,t),Ge=K,bs=B,Et(t),l&8192)e:for(s=t.stateNode,s._visibility=n?s._visibility&-2:s._visibility|1,n&&(a===null||k||bs||Ge||Na(t)),a=null,s=t;;){if(s.tag===5||s.tag===26){if(a===null){k=a=s;try{if(r=k.stateNode,n)x=r.style,typeof x.setProperty=="function"?x.setProperty("display","none","important"):x.display="none";else{p=k.stateNode;var W=k.memoizedProps.style,Z=W!=null&&W.hasOwnProperty("display")?W.display:null;p.style.display=Z==null||typeof Z=="boolean"?"":(""+Z).trim()}}catch(V){Re(k,k.return,V)}}}else if(s.tag===6){if(a===null){k=s;try{k.stateNode.nodeValue=n?"":k.memoizedProps}catch(V){Re(k,k.return,V)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===t)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break e;for(;s.sibling===null;){if(s.return===null||s.return===t)break e;a===s&&(a=null),s=s.return}a===s&&(a=null),s.sibling.return=s.return,s=s.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,qc(t,a))));break;case 19:Tt(s,t),Et(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,qc(t,l)));break;case 30:break;case 21:break;default:Tt(s,t),Et(t)}}function Et(t){var s=t.flags;if(s&2){try{for(var a,l=t.return;l!==null;){if(Tm(l)){a=l;break}l=l.return}if(a==null)throw Error(d(160));switch(a.tag){case 27:var n=a.stateNode,r=Lc(t);Cr(t,r,n);break;case 5:var x=a.stateNode;a.flags&32&&(La(x,""),a.flags&=-33);var p=Lc(t);Cr(t,p,x);break;case 3:case 4:var k=a.stateNode.containerInfo,B=Lc(t);Oc(t,B,k);break;default:throw Error(d(161))}}catch(K){Re(t,t.return,K)}t.flags&=-3}s&4096&&(t.flags&=-4097)}function Lm(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var s=t;Lm(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),t=t.sibling}}function $s(t,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)Mm(t,s.alternate,s),s=s.sibling}function Na(t){for(t=t.child;t!==null;){var s=t;switch(s.tag){case 0:case 11:case 14:case 15:Bs(4,s,s.return),Na(s);break;case 1:es(s,s.return);var a=s.stateNode;typeof a.componentWillUnmount=="function"&&Cm(s,s.return,a),Na(s);break;case 27:un(s.stateNode);case 26:case 5:es(s,s.return),Na(s);break;case 22:s.memoizedState===null&&Na(s);break;case 30:Na(s);break;default:Na(s)}t=t.sibling}}function Zs(t,s,a){for(a=a&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var l=s.alternate,n=t,r=s,x=r.flags;switch(r.tag){case 0:case 11:case 15:Zs(n,r,a),en(4,r);break;case 1:if(Zs(n,r,a),l=r,n=l.stateNode,typeof n.componentDidMount=="function")try{n.componentDidMount()}catch(B){Re(l,l.return,B)}if(l=r,n=l.updateQueue,n!==null){var p=l.stateNode;try{var k=n.shared.hiddenCallbacks;if(k!==null)for(n.shared.hiddenCallbacks=null,n=0;n<k.length;n++)ou(k[n],p)}catch(B){Re(l,l.return,B)}}a&&x&64&&Sm(r),tn(r,r.return);break;case 27:Em(r);case 26:case 5:Zs(n,r,a),a&&l===null&&x&4&&km(r),tn(r,r.return);break;case 12:Zs(n,r,a);break;case 13:Zs(n,r,a),a&&x&4&&Dm(n,r);break;case 22:r.memoizedState===null&&Zs(n,r,a),tn(r,r.return);break;case 30:break;default:Zs(n,r,a)}s=s.sibling}}function Hc(t,s){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(t=s.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&Bl(a))}function Bc(t,s){t=null,s.alternate!==null&&(t=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==t&&(s.refCount++,t!=null&&Bl(t))}function ts(t,s,a,l){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)Om(t,s,a,l),s=s.sibling}function Om(t,s,a,l){var n=s.flags;switch(s.tag){case 0:case 11:case 15:ts(t,s,a,l),n&2048&&en(9,s);break;case 1:ts(t,s,a,l);break;case 3:ts(t,s,a,l),n&2048&&(t=null,s.alternate!==null&&(t=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==t&&(s.refCount++,t!=null&&Bl(t)));break;case 12:if(n&2048){ts(t,s,a,l),t=s.stateNode;try{var r=s.memoizedProps,x=r.id,p=r.onPostCommit;typeof p=="function"&&p(x,s.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(k){Re(s,s.return,k)}}else ts(t,s,a,l);break;case 13:ts(t,s,a,l);break;case 23:break;case 22:r=s.stateNode,x=s.alternate,s.memoizedState!==null?r._visibility&2?ts(t,s,a,l):sn(t,s):r._visibility&2?ts(t,s,a,l):(r._visibility|=2,el(t,s,a,l,(s.subtreeFlags&10256)!==0)),n&2048&&Hc(x,s);break;case 24:ts(t,s,a,l),n&2048&&Bc(s.alternate,s);break;default:ts(t,s,a,l)}}function el(t,s,a,l,n){for(n=n&&(s.subtreeFlags&10256)!==0,s=s.child;s!==null;){var r=t,x=s,p=a,k=l,B=x.flags;switch(x.tag){case 0:case 11:case 15:el(r,x,p,k,n),en(8,x);break;case 23:break;case 22:var K=x.stateNode;x.memoizedState!==null?K._visibility&2?el(r,x,p,k,n):sn(r,x):(K._visibility|=2,el(r,x,p,k,n)),n&&B&2048&&Hc(x.alternate,x);break;case 24:el(r,x,p,k,n),n&&B&2048&&Bc(x.alternate,x);break;default:el(r,x,p,k,n)}s=s.sibling}}function sn(t,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var a=t,l=s,n=l.flags;switch(l.tag){case 22:sn(a,l),n&2048&&Hc(l.alternate,l);break;case 24:sn(a,l),n&2048&&Bc(l.alternate,l);break;default:sn(a,l)}s=s.sibling}}var an=8192;function tl(t){if(t.subtreeFlags&an)for(t=t.child;t!==null;)zm(t),t=t.sibling}function zm(t){switch(t.tag){case 26:tl(t),t.flags&an&&t.memoizedState!==null&&fg(Qt,t.memoizedState,t.memoizedProps);break;case 5:tl(t);break;case 3:case 4:var s=Qt;Qt=qr(t.stateNode.containerInfo),tl(t),Qt=s;break;case 22:t.memoizedState===null&&(s=t.alternate,s!==null&&s.memoizedState!==null?(s=an,an=16777216,tl(t),an=s):tl(t));break;default:tl(t)}}function qm(t){var s=t.alternate;if(s!==null&&(t=s.child,t!==null)){s.child=null;do s=t.sibling,t.sibling=null,t=s;while(t!==null)}}function ln(t){var s=t.deletions;if((t.flags&16)!==0){if(s!==null)for(var a=0;a<s.length;a++){var l=s[a];Ie=l,Bm(l,t)}qm(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Hm(t),t=t.sibling}function Hm(t){switch(t.tag){case 0:case 11:case 15:ln(t),t.flags&2048&&Bs(9,t,t.return);break;case 3:ln(t);break;case 12:ln(t);break;case 22:var s=t.stateNode;t.memoizedState!==null&&s._visibility&2&&(t.return===null||t.return.tag!==13)?(s._visibility&=-3,kr(t)):ln(t);break;default:ln(t)}}function kr(t){var s=t.deletions;if((t.flags&16)!==0){if(s!==null)for(var a=0;a<s.length;a++){var l=s[a];Ie=l,Bm(l,t)}qm(t)}for(t=t.child;t!==null;){switch(s=t,s.tag){case 0:case 11:case 15:Bs(8,s,s.return),kr(s);break;case 22:a=s.stateNode,a._visibility&2&&(a._visibility&=-3,kr(s));break;default:kr(s)}t=t.sibling}}function Bm(t,s){for(;Ie!==null;){var a=Ie;switch(a.tag){case 0:case 11:case 15:Bs(8,a,s);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Bl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Ie=l;else e:for(a=t;Ie!==null;){l=Ie;var n=l.sibling,r=l.return;if(Rm(l),l===a){Ie=null;break e}if(n!==null){n.return=r,Ie=n;break e}Ie=r}}}var Rf={getCacheForType:function(t){var s=lt(Qe),a=s.data.get(t);return a===void 0&&(a=t(),s.data.set(t,a)),a}},_f=typeof WeakMap=="function"?WeakMap:Map,ke=0,De=null,je=null,Ne=0,Te=0,At=null,Gs=!1,sl=!1,$c=!1,vs=0,$e=0,Vs=0,wa=0,Zc=0,Bt=0,al=0,nn=null,bt=null,Gc=!1,Vc=0,Tr=1/0,Er=null,Ys=null,et=0,Qs=null,ll=null,nl=0,Yc=0,Qc=null,$m=null,rn=0,Xc=null;function Mt(){if((ke&2)!==0&&Ne!==0)return Ne&-Ne;if(A.T!==null){var t=Qa;return t!==0?t:ed()}return so()}function Zm(){Bt===0&&(Bt=(Ne&536870912)===0||Se?Wd():536870912);var t=Ht.current;return t!==null&&(t.flags|=32),Bt}function Rt(t,s,a){(t===De&&(Te===2||Te===9)||t.cancelPendingCommit!==null)&&(rl(t,0),Xs(t,Ne,Bt,!1)),Sl(t,a),((ke&2)===0||t!==De)&&(t===De&&((ke&2)===0&&(wa|=a),$e===4&&Xs(t,Ne,Bt,!1)),ss(t))}function Gm(t,s,a){if((ke&6)!==0)throw Error(d(327));var l=!a&&(s&124)===0&&(s&t.expiredLanes)===0||wl(t,s),n=l?Lf(t,s):Ic(t,s,!0),r=l;do{if(n===0){sl&&!l&&Xs(t,s,0,!1);break}else{if(a=t.current.alternate,r&&!Df(a)){n=Ic(t,s,!1),r=!1;continue}if(n===2){if(r=s,t.errorRecoveryDisabledLanes&r)var x=0;else x=t.pendingLanes&-536870913,x=x!==0?x:x&536870912?536870912:0;if(x!==0){s=x;e:{var p=t;n=nn;var k=p.current.memoizedState.isDehydrated;if(k&&(rl(p,x).flags|=256),x=Ic(p,x,!1),x!==2){if($c&&!k){p.errorRecoveryDisabledLanes|=r,wa|=r,n=4;break e}r=bt,bt=n,r!==null&&(bt===null?bt=r:bt.push.apply(bt,r))}n=x}if(r=!1,n!==2)continue}}if(n===1){rl(t,0),Xs(t,s,0,!0);break}e:{switch(l=t,r=n,r){case 0:case 1:throw Error(d(345));case 4:if((s&4194048)!==s)break;case 6:Xs(l,s,Bt,!Gs);break e;case 2:bt=null;break;case 3:case 5:break;default:throw Error(d(329))}if((s&62914560)===s&&(n=Vc+300-Ft(),10<n)){if(Xs(l,s,Bt,!Gs),Hn(l,0,!0)!==0)break e;l.timeoutHandle=yx(Vm.bind(null,l,a,bt,Er,Gc,s,Bt,wa,al,Gs,r,2,-0,0),n);break e}Vm(l,a,bt,Er,Gc,s,Bt,wa,al,Gs,r,0,-0,0)}}break}while(!0);ss(t)}function Vm(t,s,a,l,n,r,x,p,k,B,K,W,Z,V){if(t.timeoutHandle=-1,W=s.subtreeFlags,(W&8192||(W&16785408)===16785408)&&(hn={stylesheets:null,count:0,unsuspend:hg},zm(s),W=gg(),W!==null)){t.cancelPendingCommit=W(Fm.bind(null,t,s,r,a,l,n,x,p,k,K,1,Z,V)),Xs(t,r,x,!B);return}Fm(t,s,r,a,l,n,x,p,k)}function Df(t){for(var s=t;;){var a=s.tag;if((a===0||a===11||a===15)&&s.flags&16384&&(a=s.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var n=a[l],r=n.getSnapshot;n=n.value;try{if(!Ct(r(),n))return!1}catch{return!1}}if(a=s.child,s.subtreeFlags&16384&&a!==null)a.return=s,s=a;else{if(s===t)break;for(;s.sibling===null;){if(s.return===null||s.return===t)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Xs(t,s,a,l){s&=~Zc,s&=~wa,t.suspendedLanes|=s,t.pingedLanes&=~s,l&&(t.warmLanes|=s),l=t.expirationTimes;for(var n=s;0<n;){var r=31-St(n),x=1<<r;l[r]=-1,n&=~x}a!==0&&eo(t,a,s)}function Ar(){return(ke&6)===0?(cn(0),!1):!0}function Kc(){if(je!==null){if(Te===0)var t=je.return;else t=je,xs=pa=null,uc(t),Wa=null,Fl=0,t=je;for(;t!==null;)wm(t.alternate,t),t=t.return;je=null}}function rl(t,s){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,Ff(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),Kc(),De=t,je=a=os(t.current,null),Ne=s,Te=0,At=null,Gs=!1,sl=wl(t,s),$c=!1,al=Bt=Zc=wa=Vs=$e=0,bt=nn=null,Gc=!1,(s&8)!==0&&(s|=s&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=s;0<l;){var n=31-St(l),r=1<<n;s|=t[n],l&=~r}return vs=s,Fn(),a}function Ym(t,s){ye=null,A.H=gr,s===Zl||s===rr?(s=cu(),Te=3):s===nu?(s=cu(),Te=4):Te=s===dm?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,At=s,je===null&&($e=1,vr(t,Lt(s,t.current)))}function Qm(){var t=A.H;return A.H=gr,t===null?gr:t}function Xm(){var t=A.A;return A.A=Rf,t}function Jc(){$e=4,Gs||(Ne&4194048)!==Ne&&Ht.current!==null||(sl=!0),(Vs&134217727)===0&&(wa&134217727)===0||De===null||Xs(De,Ne,Bt,!1)}function Ic(t,s,a){var l=ke;ke|=2;var n=Qm(),r=Xm();(De!==t||Ne!==s)&&(Er=null,rl(t,s)),s=!1;var x=$e;e:do try{if(Te!==0&&je!==null){var p=je,k=At;switch(Te){case 8:Kc(),x=6;break e;case 3:case 2:case 9:case 6:Ht.current===null&&(s=!0);var B=Te;if(Te=0,At=null,il(t,p,k,B),a&&sl){x=0;break e}break;default:B=Te,Te=0,At=null,il(t,p,k,B)}}Uf(),x=$e;break}catch(K){Ym(t,K)}while(!0);return s&&t.shellSuspendCounter++,xs=pa=null,ke=l,A.H=n,A.A=r,je===null&&(De=null,Ne=0,Fn()),x}function Uf(){for(;je!==null;)Km(je)}function Lf(t,s){var a=ke;ke|=2;var l=Qm(),n=Xm();De!==t||Ne!==s?(Er=null,Tr=Ft()+500,rl(t,s)):sl=wl(t,s);e:do try{if(Te!==0&&je!==null){s=je;var r=At;t:switch(Te){case 1:Te=0,At=null,il(t,s,r,1);break;case 2:case 9:if(ru(r)){Te=0,At=null,Jm(s);break}s=function(){Te!==2&&Te!==9||De!==t||(Te=7),ss(t)},r.then(s,s);break e;case 3:Te=7;break e;case 4:Te=5;break e;case 7:ru(r)?(Te=0,At=null,Jm(s)):(Te=0,At=null,il(t,s,r,7));break;case 5:var x=null;switch(je.tag){case 26:x=je.memoizedState;case 5:case 27:var p=je;if(!x||Mx(x)){Te=0,At=null;var k=p.sibling;if(k!==null)je=k;else{var B=p.return;B!==null?(je=B,Mr(B)):je=null}break t}}Te=0,At=null,il(t,s,r,5);break;case 6:Te=0,At=null,il(t,s,r,6);break;case 8:Kc(),$e=6;break e;default:throw Error(d(462))}}Of();break}catch(K){Ym(t,K)}while(!0);return xs=pa=null,A.H=l,A.A=n,ke=a,je!==null?0:(De=null,Ne=0,Fn(),$e)}function Of(){for(;je!==null&&!ui();)Km(je)}function Km(t){var s=vm(t.alternate,t,vs);t.memoizedProps=t.pendingProps,s===null?Mr(t):je=s}function Jm(t){var s=t,a=s.alternate;switch(s.tag){case 15:case 0:s=fm(a,s,s.pendingProps,s.type,void 0,Ne);break;case 11:s=fm(a,s,s.pendingProps,s.type.render,s.ref,Ne);break;case 5:uc(s);default:wm(a,s),s=je=Io(s,vs),s=vm(a,s,vs)}t.memoizedProps=t.pendingProps,s===null?Mr(t):je=s}function il(t,s,a,l){xs=pa=null,uc(s),Wa=null,Fl=0;var n=s.return;try{if(Cf(t,n,s,a,Ne)){$e=1,vr(t,Lt(a,t.current)),je=null;return}}catch(r){if(n!==null)throw je=n,r;$e=1,vr(t,Lt(a,t.current)),je=null;return}s.flags&32768?(Se||l===1?t=!0:sl||(Ne&536870912)!==0?t=!1:(Gs=t=!0,(l===2||l===9||l===3||l===6)&&(l=Ht.current,l!==null&&l.tag===13&&(l.flags|=16384))),Im(s,t)):Mr(s)}function Mr(t){var s=t;do{if((s.flags&32768)!==0){Im(s,Gs);return}t=s.return;var a=Tf(s.alternate,s,vs);if(a!==null){je=a;return}if(s=s.sibling,s!==null){je=s;return}je=s=t}while(s!==null);$e===0&&($e=5)}function Im(t,s){do{var a=Ef(t.alternate,t);if(a!==null){a.flags&=32767,je=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!s&&(t=t.sibling,t!==null)){je=t;return}je=t=a}while(t!==null);$e=6,je=null}function Fm(t,s,a,l,n,r,x,p,k){t.cancelPendingCommit=null;do Rr();while(et!==0);if((ke&6)!==0)throw Error(d(327));if(s!==null){if(s===t.current)throw Error(d(177));if(r=s.lanes|s.childLanes,r|=Bi,xh(t,a,r,x,p,k),t===De&&(je=De=null,Ne=0),ll=s,Qs=t,nl=a,Yc=r,Qc=n,$m=l,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,Bf(On,function(){return sx(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||l){l=A.T,A.T=null,n=Q.p,Q.p=2,x=ke,ke|=4;try{Af(t,s,a)}finally{ke=x,Q.p=n,A.T=l}}et=1,Wm(),Pm(),ex()}}function Wm(){if(et===1){et=0;var t=Qs,s=ll,a=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||a){a=A.T,A.T=null;var l=Q.p;Q.p=2;var n=ke;ke|=4;try{Um(s,t);var r=cd,x=Bo(t.containerInfo),p=r.focusedElem,k=r.selectionRange;if(x!==p&&p&&p.ownerDocument&&Ho(p.ownerDocument.documentElement,p)){if(k!==null&&Li(p)){var B=k.start,K=k.end;if(K===void 0&&(K=B),"selectionStart"in p)p.selectionStart=B,p.selectionEnd=Math.min(K,p.value.length);else{var W=p.ownerDocument||document,Z=W&&W.defaultView||window;if(Z.getSelection){var V=Z.getSelection(),he=p.textContent.length,me=Math.min(k.start,he),Me=k.end===void 0?me:Math.min(k.end,he);!V.extend&&me>Me&&(x=Me,Me=me,me=x);var z=qo(p,me),D=qo(p,Me);if(z&&D&&(V.rangeCount!==1||V.anchorNode!==z.node||V.anchorOffset!==z.offset||V.focusNode!==D.node||V.focusOffset!==D.offset)){var q=W.createRange();q.setStart(z.node,z.offset),V.removeAllRanges(),me>Me?(V.addRange(q),V.extend(D.node,D.offset)):(q.setEnd(D.node,D.offset),V.addRange(q))}}}}for(W=[],V=p;V=V.parentNode;)V.nodeType===1&&W.push({element:V,left:V.scrollLeft,top:V.scrollTop});for(typeof p.focus=="function"&&p.focus(),p=0;p<W.length;p++){var I=W[p];I.element.scrollLeft=I.left,I.element.scrollTop=I.top}}Gr=!!id,cd=id=null}finally{ke=n,Q.p=l,A.T=a}}t.current=s,et=2}}function Pm(){if(et===2){et=0;var t=Qs,s=ll,a=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||a){a=A.T,A.T=null;var l=Q.p;Q.p=2;var n=ke;ke|=4;try{Mm(t,s.alternate,s)}finally{ke=n,Q.p=l,A.T=a}}et=3}}function ex(){if(et===4||et===3){et=0,vl();var t=Qs,s=ll,a=nl,l=$m;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?et=5:(et=0,ll=Qs=null,tx(t,t.pendingLanes));var n=t.pendingLanes;if(n===0&&(Ys=null),hi(a),s=s.stateNode,wt&&typeof wt.onCommitFiberRoot=="function")try{wt.onCommitFiberRoot(Nl,s,void 0,(s.current.flags&128)===128)}catch{}if(l!==null){s=A.T,n=Q.p,Q.p=2,A.T=null;try{for(var r=t.onRecoverableError,x=0;x<l.length;x++){var p=l[x];r(p.value,{componentStack:p.stack})}}finally{A.T=s,Q.p=n}}(nl&3)!==0&&Rr(),ss(t),n=t.pendingLanes,(a&4194090)!==0&&(n&42)!==0?t===Xc?rn++:(rn=0,Xc=t):rn=0,cn(0)}}function tx(t,s){(t.pooledCacheLanes&=s)===0&&(s=t.pooledCache,s!=null&&(t.pooledCache=null,Bl(s)))}function Rr(t){return Wm(),Pm(),ex(),sx()}function sx(){if(et!==5)return!1;var t=Qs,s=Yc;Yc=0;var a=hi(nl),l=A.T,n=Q.p;try{Q.p=32>a?32:a,A.T=null,a=Qc,Qc=null;var r=Qs,x=nl;if(et=0,ll=Qs=null,nl=0,(ke&6)!==0)throw Error(d(331));var p=ke;if(ke|=4,Hm(r.current),Om(r,r.current,x,a),ke=p,cn(0,!1),wt&&typeof wt.onPostCommitFiberRoot=="function")try{wt.onPostCommitFiberRoot(Nl,r)}catch{}return!0}finally{Q.p=n,A.T=l,tx(t,s)}}function ax(t,s,a){s=Lt(a,s),s=Cc(t.stateNode,s,2),t=Os(t,s,2),t!==null&&(Sl(t,2),ss(t))}function Re(t,s,a){if(t.tag===3)ax(t,t,a);else for(;s!==null;){if(s.tag===3){ax(s,t,a);break}else if(s.tag===1){var l=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Ys===null||!Ys.has(l))){t=Lt(a,t),a=im(2),l=Os(s,a,2),l!==null&&(cm(a,l,s,t),Sl(l,2),ss(l));break}}s=s.return}}function Fc(t,s,a){var l=t.pingCache;if(l===null){l=t.pingCache=new _f;var n=new Set;l.set(s,n)}else n=l.get(s),n===void 0&&(n=new Set,l.set(s,n));n.has(a)||($c=!0,n.add(a),t=zf.bind(null,t,s,a),s.then(t,t))}function zf(t,s,a){var l=t.pingCache;l!==null&&l.delete(s),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,De===t&&(Ne&a)===a&&($e===4||$e===3&&(Ne&62914560)===Ne&&300>Ft()-Vc?(ke&2)===0&&rl(t,0):Zc|=a,al===Ne&&(al=0)),ss(t)}function lx(t,s){s===0&&(s=Pd()),t=Za(t,s),t!==null&&(Sl(t,s),ss(t))}function qf(t){var s=t.memoizedState,a=0;s!==null&&(a=s.retryLane),lx(t,a)}function Hf(t,s){var a=0;switch(t.tag){case 13:var l=t.stateNode,n=t.memoizedState;n!==null&&(a=n.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(d(314))}l!==null&&l.delete(s),lx(t,a)}function Bf(t,s){return jl(t,s)}var _r=null,cl=null,Wc=!1,Dr=!1,Pc=!1,Sa=0;function ss(t){t!==cl&&t.next===null&&(cl===null?_r=cl=t:cl=cl.next=t),Dr=!0,Wc||(Wc=!0,Zf())}function cn(t,s){if(!Pc&&Dr){Pc=!0;do for(var a=!1,l=_r;l!==null;){if(t!==0){var n=l.pendingLanes;if(n===0)var r=0;else{var x=l.suspendedLanes,p=l.pingedLanes;r=(1<<31-St(42|t)+1)-1,r&=n&~(x&~p),r=r&201326741?r&201326741|1:r?r|2:0}r!==0&&(a=!0,cx(l,r))}else r=Ne,r=Hn(l,l===De?r:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(r&3)===0||wl(l,r)||(a=!0,cx(l,r));l=l.next}while(a);Pc=!1}}function $f(){nx()}function nx(){Dr=Wc=!1;var t=0;Sa!==0&&(If()&&(t=Sa),Sa=0);for(var s=Ft(),a=null,l=_r;l!==null;){var n=l.next,r=rx(l,s);r===0?(l.next=null,a===null?_r=n:a.next=n,n===null&&(cl=a)):(a=l,(t!==0||(r&3)!==0)&&(Dr=!0)),l=n}cn(t)}function rx(t,s){for(var a=t.suspendedLanes,l=t.pingedLanes,n=t.expirationTimes,r=t.pendingLanes&-62914561;0<r;){var x=31-St(r),p=1<<x,k=n[x];k===-1?((p&a)===0||(p&l)!==0)&&(n[x]=mh(p,s)):k<=s&&(t.expiredLanes|=p),r&=~p}if(s=De,a=Ne,a=Hn(t,t===s?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===s&&(Te===2||Te===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&As(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||wl(t,a)){if(s=a&-a,s===t.callbackPriority)return s;switch(l!==null&&As(l),hi(a)){case 2:case 8:a=Id;break;case 32:a=On;break;case 268435456:a=Fd;break;default:a=On}return l=ix.bind(null,t),a=jl(a,l),t.callbackPriority=s,t.callbackNode=a,s}return l!==null&&l!==null&&As(l),t.callbackPriority=2,t.callbackNode=null,2}function ix(t,s){if(et!==0&&et!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(Rr()&&t.callbackNode!==a)return null;var l=Ne;return l=Hn(t,t===De?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(Gm(t,l,s),rx(t,Ft()),t.callbackNode!=null&&t.callbackNode===a?ix.bind(null,t):null)}function cx(t,s){if(Rr())return null;Gm(t,s,!0)}function Zf(){Wf(function(){(ke&6)!==0?jl(Jd,$f):nx()})}function ed(){return Sa===0&&(Sa=Wd()),Sa}function dx(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Vn(""+t)}function ox(t,s){var a=s.ownerDocument.createElement("input");return a.name=s.name,a.value=s.value,t.id&&a.setAttribute("form",t.id),s.parentNode.insertBefore(a,s),t=new FormData(t),a.parentNode.removeChild(a),t}function Gf(t,s,a,l,n){if(s==="submit"&&a&&a.stateNode===n){var r=dx((n[ft]||null).action),x=l.submitter;x&&(s=(s=x[ft]||null)?dx(s.formAction):x.getAttribute("formAction"),s!==null&&(r=s,x=null));var p=new Kn("action","action",null,l,n);t.push({event:p,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Sa!==0){var k=x?ox(n,x):new FormData(n);jc(a,{pending:!0,data:k,method:n.method,action:r},null,k)}}else typeof r=="function"&&(p.preventDefault(),k=x?ox(n,x):new FormData(n),jc(a,{pending:!0,data:k,method:n.method,action:r},r,k))},currentTarget:n}]})}}for(var td=0;td<Hi.length;td++){var sd=Hi[td],Vf=sd.toLowerCase(),Yf=sd[0].toUpperCase()+sd.slice(1);Yt(Vf,"on"+Yf)}Yt(Go,"onAnimationEnd"),Yt(Vo,"onAnimationIteration"),Yt(Yo,"onAnimationStart"),Yt("dblclick","onDoubleClick"),Yt("focusin","onFocus"),Yt("focusout","onBlur"),Yt(cf,"onTransitionRun"),Yt(df,"onTransitionStart"),Yt(of,"onTransitionCancel"),Yt(Qo,"onTransitionEnd"),_a("onMouseEnter",["mouseout","mouseover"]),_a("onMouseLeave",["mouseout","mouseover"]),_a("onPointerEnter",["pointerout","pointerover"]),_a("onPointerLeave",["pointerout","pointerover"]),ca("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ca("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ca("onBeforeInput",["compositionend","keypress","textInput","paste"]),ca("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ca("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ca("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var dn="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Qf=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(dn));function ux(t,s){s=(s&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],n=l.event;l=l.listeners;e:{var r=void 0;if(s)for(var x=l.length-1;0<=x;x--){var p=l[x],k=p.instance,B=p.currentTarget;if(p=p.listener,k!==r&&n.isPropagationStopped())break e;r=p,n.currentTarget=B;try{r(n)}catch(K){jr(K)}n.currentTarget=null,r=k}else for(x=0;x<l.length;x++){if(p=l[x],k=p.instance,B=p.currentTarget,p=p.listener,k!==r&&n.isPropagationStopped())break e;r=p,n.currentTarget=B;try{r(n)}catch(K){jr(K)}n.currentTarget=null,r=k}}}}function ve(t,s){var a=s[fi];a===void 0&&(a=s[fi]=new Set);var l=t+"__bubble";a.has(l)||(mx(s,t,2,!1),a.add(l))}function ad(t,s,a){var l=0;s&&(l|=4),mx(a,t,l,s)}var Ur="_reactListening"+Math.random().toString(36).slice(2);function ld(t){if(!t[Ur]){t[Ur]=!0,lo.forEach(function(a){a!=="selectionchange"&&(Qf.has(a)||ad(a,!1,t),ad(a,!0,t))});var s=t.nodeType===9?t:t.ownerDocument;s===null||s[Ur]||(s[Ur]=!0,ad("selectionchange",!1,s))}}function mx(t,s,a,l){switch(Ox(s)){case 2:var n=bg;break;case 8:n=jg;break;default:n=yd}a=n.bind(null,s,a,t),n=void 0,!ki||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(n=!0),l?n!==void 0?t.addEventListener(s,a,{capture:!0,passive:n}):t.addEventListener(s,a,!0):n!==void 0?t.addEventListener(s,a,{passive:n}):t.addEventListener(s,a,!1)}function nd(t,s,a,l,n){var r=l;if((s&1)===0&&(s&2)===0&&l!==null)e:for(;;){if(l===null)return;var x=l.tag;if(x===3||x===4){var p=l.stateNode.containerInfo;if(p===n)break;if(x===4)for(x=l.return;x!==null;){var k=x.tag;if((k===3||k===4)&&x.stateNode.containerInfo===n)return;x=x.return}for(;p!==null;){if(x=Aa(p),x===null)return;if(k=x.tag,k===5||k===6||k===26||k===27){l=r=x;continue e}p=p.parentNode}}l=l.return}bo(function(){var B=r,K=Si(a),W=[];e:{var Z=Xo.get(t);if(Z!==void 0){var V=Kn,he=t;switch(t){case"keypress":if(Qn(a)===0)break e;case"keydown":case"keyup":V=Hh;break;case"focusin":he="focus",V=Mi;break;case"focusout":he="blur",V=Mi;break;case"beforeblur":case"afterblur":V=Mi;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":V=No;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":V=Th;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":V=Zh;break;case Go:case Vo:case Yo:V=Mh;break;case Qo:V=Vh;break;case"scroll":case"scrollend":V=Ch;break;case"wheel":V=Qh;break;case"copy":case"cut":case"paste":V=_h;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":V=So;break;case"toggle":case"beforetoggle":V=Kh}var me=(s&4)!==0,Me=!me&&(t==="scroll"||t==="scrollend"),z=me?Z!==null?Z+"Capture":null:Z;me=[];for(var D=B,q;D!==null;){var I=D;if(q=I.stateNode,I=I.tag,I!==5&&I!==26&&I!==27||q===null||z===null||(I=Tl(D,z),I!=null&&me.push(on(D,I,q))),Me)break;D=D.return}0<me.length&&(Z=new V(Z,he,null,a,K),W.push({event:Z,listeners:me}))}}if((s&7)===0){e:{if(Z=t==="mouseover"||t==="pointerover",V=t==="mouseout"||t==="pointerout",Z&&a!==wi&&(he=a.relatedTarget||a.fromElement)&&(Aa(he)||he[Ea]))break e;if((V||Z)&&(Z=K.window===K?K:(Z=K.ownerDocument)?Z.defaultView||Z.parentWindow:window,V?(he=a.relatedTarget||a.toElement,V=B,he=he?Aa(he):null,he!==null&&(Me=m(he),me=he.tag,he!==Me||me!==5&&me!==27&&me!==6)&&(he=null)):(V=null,he=B),V!==he)){if(me=No,I="onMouseLeave",z="onMouseEnter",D="mouse",(t==="pointerout"||t==="pointerover")&&(me=So,I="onPointerLeave",z="onPointerEnter",D="pointer"),Me=V==null?Z:kl(V),q=he==null?Z:kl(he),Z=new me(I,D+"leave",V,a,K),Z.target=Me,Z.relatedTarget=q,I=null,Aa(K)===B&&(me=new me(z,D+"enter",he,a,K),me.target=q,me.relatedTarget=Me,I=me),Me=I,V&&he)t:{for(me=V,z=he,D=0,q=me;q;q=dl(q))D++;for(q=0,I=z;I;I=dl(I))q++;for(;0<D-q;)me=dl(me),D--;for(;0<q-D;)z=dl(z),q--;for(;D--;){if(me===z||z!==null&&me===z.alternate)break t;me=dl(me),z=dl(z)}me=null}else me=null;V!==null&&xx(W,Z,V,me,!1),he!==null&&Me!==null&&xx(W,Me,he,me,!0)}}e:{if(Z=B?kl(B):window,V=Z.nodeName&&Z.nodeName.toLowerCase(),V==="select"||V==="input"&&Z.type==="file")var ie=_o;else if(Mo(Z))if(Do)ie=lf;else{ie=sf;var be=tf}else V=Z.nodeName,!V||V.toLowerCase()!=="input"||Z.type!=="checkbox"&&Z.type!=="radio"?B&&Ni(B.elementType)&&(ie=_o):ie=af;if(ie&&(ie=ie(t,B))){Ro(W,ie,a,K);break e}be&&be(t,Z,B),t==="focusout"&&B&&Z.type==="number"&&B.memoizedProps.value!=null&&vi(Z,"number",Z.value)}switch(be=B?kl(B):window,t){case"focusin":(Mo(be)||be.contentEditable==="true")&&(Ha=be,Oi=B,Ll=null);break;case"focusout":Ll=Oi=Ha=null;break;case"mousedown":zi=!0;break;case"contextmenu":case"mouseup":case"dragend":zi=!1,$o(W,a,K);break;case"selectionchange":if(rf)break;case"keydown":case"keyup":$o(W,a,K)}var oe;if(_i)e:{switch(t){case"compositionstart":var xe="onCompositionStart";break e;case"compositionend":xe="onCompositionEnd";break e;case"compositionupdate":xe="onCompositionUpdate";break e}xe=void 0}else qa?Eo(t,a)&&(xe="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(xe="onCompositionStart");xe&&(Co&&a.locale!=="ko"&&(qa||xe!=="onCompositionStart"?xe==="onCompositionEnd"&&qa&&(oe=jo()):(_s=K,Ti="value"in _s?_s.value:_s.textContent,qa=!0)),be=Lr(B,xe),0<be.length&&(xe=new wo(xe,t,null,a,K),W.push({event:xe,listeners:be}),oe?xe.data=oe:(oe=Ao(a),oe!==null&&(xe.data=oe)))),(oe=Ih?Fh(t,a):Wh(t,a))&&(xe=Lr(B,"onBeforeInput"),0<xe.length&&(be=new wo("onBeforeInput","beforeinput",null,a,K),W.push({event:be,listeners:xe}),be.data=oe)),Gf(W,t,B,a,K)}ux(W,s)})}function on(t,s,a){return{instance:t,listener:s,currentTarget:a}}function Lr(t,s){for(var a=s+"Capture",l=[];t!==null;){var n=t,r=n.stateNode;if(n=n.tag,n!==5&&n!==26&&n!==27||r===null||(n=Tl(t,a),n!=null&&l.unshift(on(t,n,r)),n=Tl(t,s),n!=null&&l.push(on(t,n,r))),t.tag===3)return l;t=t.return}return[]}function dl(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function xx(t,s,a,l,n){for(var r=s._reactName,x=[];a!==null&&a!==l;){var p=a,k=p.alternate,B=p.stateNode;if(p=p.tag,k!==null&&k===l)break;p!==5&&p!==26&&p!==27||B===null||(k=B,n?(B=Tl(a,r),B!=null&&x.unshift(on(a,B,k))):n||(B=Tl(a,r),B!=null&&x.push(on(a,B,k)))),a=a.return}x.length!==0&&t.push({event:s,listeners:x})}var Xf=/\r\n?/g,Kf=/\u0000|\uFFFD/g;function hx(t){return(typeof t=="string"?t:""+t).replace(Xf,`
`).replace(Kf,"")}function fx(t,s){return s=hx(s),hx(t)===s}function Or(){}function Ae(t,s,a,l,n,r){switch(a){case"children":typeof l=="string"?s==="body"||s==="textarea"&&l===""||La(t,l):(typeof l=="number"||typeof l=="bigint")&&s!=="body"&&La(t,""+l);break;case"className":$n(t,"class",l);break;case"tabIndex":$n(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":$n(t,a,l);break;case"style":po(t,l,r);break;case"data":if(s!=="object"){$n(t,"data",l);break}case"src":case"href":if(l===""&&(s!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Vn(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof r=="function"&&(a==="formAction"?(s!=="input"&&Ae(t,s,"name",n.name,n,null),Ae(t,s,"formEncType",n.formEncType,n,null),Ae(t,s,"formMethod",n.formMethod,n,null),Ae(t,s,"formTarget",n.formTarget,n,null)):(Ae(t,s,"encType",n.encType,n,null),Ae(t,s,"method",n.method,n,null),Ae(t,s,"target",n.target,n,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Vn(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=Or);break;case"onScroll":l!=null&&ve("scroll",t);break;case"onScrollEnd":l!=null&&ve("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(d(61));if(a=l.__html,a!=null){if(n.children!=null)throw Error(d(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=Vn(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":ve("beforetoggle",t),ve("toggle",t),Bn(t,"popover",l);break;case"xlinkActuate":cs(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":cs(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":cs(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":cs(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":cs(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":cs(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":cs(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":cs(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":cs(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Bn(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=wh.get(a)||a,Bn(t,a,l))}}function rd(t,s,a,l,n,r){switch(a){case"style":po(t,l,r);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(d(61));if(a=l.__html,a!=null){if(n.children!=null)throw Error(d(60));t.innerHTML=a}}break;case"children":typeof l=="string"?La(t,l):(typeof l=="number"||typeof l=="bigint")&&La(t,""+l);break;case"onScroll":l!=null&&ve("scroll",t);break;case"onScrollEnd":l!=null&&ve("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Or);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!no.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(n=a.endsWith("Capture"),s=a.slice(2,n?a.length-7:void 0),r=t[ft]||null,r=r!=null?r[a]:null,typeof r=="function"&&t.removeEventListener(s,r,n),typeof l=="function")){typeof r!="function"&&r!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(s,l,n);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):Bn(t,a,l)}}}function tt(t,s,a){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ve("error",t),ve("load",t);var l=!1,n=!1,r;for(r in a)if(a.hasOwnProperty(r)){var x=a[r];if(x!=null)switch(r){case"src":l=!0;break;case"srcSet":n=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(d(137,s));default:Ae(t,s,r,x,a,null)}}n&&Ae(t,s,"srcSet",a.srcSet,a,null),l&&Ae(t,s,"src",a.src,a,null);return;case"input":ve("invalid",t);var p=r=x=n=null,k=null,B=null;for(l in a)if(a.hasOwnProperty(l)){var K=a[l];if(K!=null)switch(l){case"name":n=K;break;case"type":x=K;break;case"checked":k=K;break;case"defaultChecked":B=K;break;case"value":r=K;break;case"defaultValue":p=K;break;case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(d(137,s));break;default:Ae(t,s,l,K,a,null)}}xo(t,r,p,k,B,x,n,!1),Zn(t);return;case"select":ve("invalid",t),l=x=r=null;for(n in a)if(a.hasOwnProperty(n)&&(p=a[n],p!=null))switch(n){case"value":r=p;break;case"defaultValue":x=p;break;case"multiple":l=p;default:Ae(t,s,n,p,a,null)}s=r,a=x,t.multiple=!!l,s!=null?Ua(t,!!l,s,!1):a!=null&&Ua(t,!!l,a,!0);return;case"textarea":ve("invalid",t),r=n=l=null;for(x in a)if(a.hasOwnProperty(x)&&(p=a[x],p!=null))switch(x){case"value":l=p;break;case"defaultValue":n=p;break;case"children":r=p;break;case"dangerouslySetInnerHTML":if(p!=null)throw Error(d(91));break;default:Ae(t,s,x,p,a,null)}fo(t,l,n,r),Zn(t);return;case"option":for(k in a)if(a.hasOwnProperty(k)&&(l=a[k],l!=null))switch(k){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Ae(t,s,k,l,a,null)}return;case"dialog":ve("beforetoggle",t),ve("toggle",t),ve("cancel",t),ve("close",t);break;case"iframe":case"object":ve("load",t);break;case"video":case"audio":for(l=0;l<dn.length;l++)ve(dn[l],t);break;case"image":ve("error",t),ve("load",t);break;case"details":ve("toggle",t);break;case"embed":case"source":case"link":ve("error",t),ve("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(B in a)if(a.hasOwnProperty(B)&&(l=a[B],l!=null))switch(B){case"children":case"dangerouslySetInnerHTML":throw Error(d(137,s));default:Ae(t,s,B,l,a,null)}return;default:if(Ni(s)){for(K in a)a.hasOwnProperty(K)&&(l=a[K],l!==void 0&&rd(t,s,K,l,a,void 0));return}}for(p in a)a.hasOwnProperty(p)&&(l=a[p],l!=null&&Ae(t,s,p,l,a,null))}function Jf(t,s,a,l){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var n=null,r=null,x=null,p=null,k=null,B=null,K=null;for(V in a){var W=a[V];if(a.hasOwnProperty(V)&&W!=null)switch(V){case"checked":break;case"value":break;case"defaultValue":k=W;default:l.hasOwnProperty(V)||Ae(t,s,V,null,l,W)}}for(var Z in l){var V=l[Z];if(W=a[Z],l.hasOwnProperty(Z)&&(V!=null||W!=null))switch(Z){case"type":r=V;break;case"name":n=V;break;case"checked":B=V;break;case"defaultChecked":K=V;break;case"value":x=V;break;case"defaultValue":p=V;break;case"children":case"dangerouslySetInnerHTML":if(V!=null)throw Error(d(137,s));break;default:V!==W&&Ae(t,s,Z,V,l,W)}}ji(t,x,p,k,B,K,r,n);return;case"select":V=x=p=Z=null;for(r in a)if(k=a[r],a.hasOwnProperty(r)&&k!=null)switch(r){case"value":break;case"multiple":V=k;default:l.hasOwnProperty(r)||Ae(t,s,r,null,l,k)}for(n in l)if(r=l[n],k=a[n],l.hasOwnProperty(n)&&(r!=null||k!=null))switch(n){case"value":Z=r;break;case"defaultValue":p=r;break;case"multiple":x=r;default:r!==k&&Ae(t,s,n,r,l,k)}s=p,a=x,l=V,Z!=null?Ua(t,!!a,Z,!1):!!l!=!!a&&(s!=null?Ua(t,!!a,s,!0):Ua(t,!!a,a?[]:"",!1));return;case"textarea":V=Z=null;for(p in a)if(n=a[p],a.hasOwnProperty(p)&&n!=null&&!l.hasOwnProperty(p))switch(p){case"value":break;case"children":break;default:Ae(t,s,p,null,l,n)}for(x in l)if(n=l[x],r=a[x],l.hasOwnProperty(x)&&(n!=null||r!=null))switch(x){case"value":Z=n;break;case"defaultValue":V=n;break;case"children":break;case"dangerouslySetInnerHTML":if(n!=null)throw Error(d(91));break;default:n!==r&&Ae(t,s,x,n,l,r)}ho(t,Z,V);return;case"option":for(var he in a)if(Z=a[he],a.hasOwnProperty(he)&&Z!=null&&!l.hasOwnProperty(he))switch(he){case"selected":t.selected=!1;break;default:Ae(t,s,he,null,l,Z)}for(k in l)if(Z=l[k],V=a[k],l.hasOwnProperty(k)&&Z!==V&&(Z!=null||V!=null))switch(k){case"selected":t.selected=Z&&typeof Z!="function"&&typeof Z!="symbol";break;default:Ae(t,s,k,Z,l,V)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var me in a)Z=a[me],a.hasOwnProperty(me)&&Z!=null&&!l.hasOwnProperty(me)&&Ae(t,s,me,null,l,Z);for(B in l)if(Z=l[B],V=a[B],l.hasOwnProperty(B)&&Z!==V&&(Z!=null||V!=null))switch(B){case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(d(137,s));break;default:Ae(t,s,B,Z,l,V)}return;default:if(Ni(s)){for(var Me in a)Z=a[Me],a.hasOwnProperty(Me)&&Z!==void 0&&!l.hasOwnProperty(Me)&&rd(t,s,Me,void 0,l,Z);for(K in l)Z=l[K],V=a[K],!l.hasOwnProperty(K)||Z===V||Z===void 0&&V===void 0||rd(t,s,K,Z,l,V);return}}for(var z in a)Z=a[z],a.hasOwnProperty(z)&&Z!=null&&!l.hasOwnProperty(z)&&Ae(t,s,z,null,l,Z);for(W in l)Z=l[W],V=a[W],!l.hasOwnProperty(W)||Z===V||Z==null&&V==null||Ae(t,s,W,Z,l,V)}var id=null,cd=null;function zr(t){return t.nodeType===9?t:t.ownerDocument}function gx(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function px(t,s){if(t===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&s==="foreignObject"?0:t}function dd(t,s){return t==="textarea"||t==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var od=null;function If(){var t=window.event;return t&&t.type==="popstate"?t===od?!1:(od=t,!0):(od=null,!1)}var yx=typeof setTimeout=="function"?setTimeout:void 0,Ff=typeof clearTimeout=="function"?clearTimeout:void 0,bx=typeof Promise=="function"?Promise:void 0,Wf=typeof queueMicrotask=="function"?queueMicrotask:typeof bx<"u"?function(t){return bx.resolve(null).then(t).catch(Pf)}:yx;function Pf(t){setTimeout(function(){throw t})}function Ks(t){return t==="head"}function jx(t,s){var a=s,l=0,n=0;do{var r=a.nextSibling;if(t.removeChild(a),r&&r.nodeType===8)if(a=r.data,a==="/$"){if(0<l&&8>l){a=l;var x=t.ownerDocument;if(a&1&&un(x.documentElement),a&2&&un(x.body),a&4)for(a=x.head,un(a),x=a.firstChild;x;){var p=x.nextSibling,k=x.nodeName;x[Cl]||k==="SCRIPT"||k==="STYLE"||k==="LINK"&&x.rel.toLowerCase()==="stylesheet"||a.removeChild(x),x=p}}if(n===0){t.removeChild(r),bn(s);return}n--}else a==="$"||a==="$?"||a==="$!"?n++:l=a.charCodeAt(0)-48;else l=0;a=r}while(a);bn(s)}function ud(t){var s=t.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var a=s;switch(s=s.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":ud(a),gi(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function eg(t,s,a,l){for(;t.nodeType===1;){var n=a;if(t.nodeName.toLowerCase()!==s.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[Cl])switch(s){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(r=t.getAttribute("rel"),r==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(r!==n.rel||t.getAttribute("href")!==(n.href==null||n.href===""?null:n.href)||t.getAttribute("crossorigin")!==(n.crossOrigin==null?null:n.crossOrigin)||t.getAttribute("title")!==(n.title==null?null:n.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(r=t.getAttribute("src"),(r!==(n.src==null?null:n.src)||t.getAttribute("type")!==(n.type==null?null:n.type)||t.getAttribute("crossorigin")!==(n.crossOrigin==null?null:n.crossOrigin))&&r&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(s==="input"&&t.type==="hidden"){var r=n.name==null?null:""+n.name;if(n.type==="hidden"&&t.getAttribute("name")===r)return t}else return t;if(t=Xt(t.nextSibling),t===null)break}return null}function tg(t,s,a){if(s==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Xt(t.nextSibling),t===null))return null;return t}function md(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function sg(t,s){var a=t.ownerDocument;if(t.data!=="$?"||a.readyState==="complete")s();else{var l=function(){s(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Xt(t){for(;t!=null;t=t.nextSibling){var s=t.nodeType;if(s===1||s===3)break;if(s===8){if(s=t.data,s==="$"||s==="$!"||s==="$?"||s==="F!"||s==="F")break;if(s==="/$")return null}}return t}var xd=null;function vx(t){t=t.previousSibling;for(var s=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"){if(s===0)return t;s--}else a==="/$"&&s++}t=t.previousSibling}return null}function Nx(t,s,a){switch(s=zr(a),t){case"html":if(t=s.documentElement,!t)throw Error(d(452));return t;case"head":if(t=s.head,!t)throw Error(d(453));return t;case"body":if(t=s.body,!t)throw Error(d(454));return t;default:throw Error(d(451))}}function un(t){for(var s=t.attributes;s.length;)t.removeAttributeNode(s[0]);gi(t)}var $t=new Map,wx=new Set;function qr(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Ns=Q.d;Q.d={f:ag,r:lg,D:ng,C:rg,L:ig,m:cg,X:og,S:dg,M:ug};function ag(){var t=Ns.f(),s=Ar();return t||s}function lg(t){var s=Ma(t);s!==null&&s.tag===5&&s.type==="form"?Gu(s):Ns.r(t)}var ol=typeof document>"u"?null:document;function Sx(t,s,a){var l=ol;if(l&&typeof s=="string"&&s){var n=Ut(s);n='link[rel="'+t+'"][href="'+n+'"]',typeof a=="string"&&(n+='[crossorigin="'+a+'"]'),wx.has(n)||(wx.add(n),t={rel:t,crossOrigin:a,href:s},l.querySelector(n)===null&&(s=l.createElement("link"),tt(s,"link",t),Ke(s),l.head.appendChild(s)))}}function ng(t){Ns.D(t),Sx("dns-prefetch",t,null)}function rg(t,s){Ns.C(t,s),Sx("preconnect",t,s)}function ig(t,s,a){Ns.L(t,s,a);var l=ol;if(l&&t&&s){var n='link[rel="preload"][as="'+Ut(s)+'"]';s==="image"&&a&&a.imageSrcSet?(n+='[imagesrcset="'+Ut(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(n+='[imagesizes="'+Ut(a.imageSizes)+'"]')):n+='[href="'+Ut(t)+'"]';var r=n;switch(s){case"style":r=ul(t);break;case"script":r=ml(t)}$t.has(r)||(t=j({rel:"preload",href:s==="image"&&a&&a.imageSrcSet?void 0:t,as:s},a),$t.set(r,t),l.querySelector(n)!==null||s==="style"&&l.querySelector(mn(r))||s==="script"&&l.querySelector(xn(r))||(s=l.createElement("link"),tt(s,"link",t),Ke(s),l.head.appendChild(s)))}}function cg(t,s){Ns.m(t,s);var a=ol;if(a&&t){var l=s&&typeof s.as=="string"?s.as:"script",n='link[rel="modulepreload"][as="'+Ut(l)+'"][href="'+Ut(t)+'"]',r=n;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":r=ml(t)}if(!$t.has(r)&&(t=j({rel:"modulepreload",href:t},s),$t.set(r,t),a.querySelector(n)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(xn(r)))return}l=a.createElement("link"),tt(l,"link",t),Ke(l),a.head.appendChild(l)}}}function dg(t,s,a){Ns.S(t,s,a);var l=ol;if(l&&t){var n=Ra(l).hoistableStyles,r=ul(t);s=s||"default";var x=n.get(r);if(!x){var p={loading:0,preload:null};if(x=l.querySelector(mn(r)))p.loading=5;else{t=j({rel:"stylesheet",href:t,"data-precedence":s},a),(a=$t.get(r))&&hd(t,a);var k=x=l.createElement("link");Ke(k),tt(k,"link",t),k._p=new Promise(function(B,K){k.onload=B,k.onerror=K}),k.addEventListener("load",function(){p.loading|=1}),k.addEventListener("error",function(){p.loading|=2}),p.loading|=4,Hr(x,s,l)}x={type:"stylesheet",instance:x,count:1,state:p},n.set(r,x)}}}function og(t,s){Ns.X(t,s);var a=ol;if(a&&t){var l=Ra(a).hoistableScripts,n=ml(t),r=l.get(n);r||(r=a.querySelector(xn(n)),r||(t=j({src:t,async:!0},s),(s=$t.get(n))&&fd(t,s),r=a.createElement("script"),Ke(r),tt(r,"link",t),a.head.appendChild(r)),r={type:"script",instance:r,count:1,state:null},l.set(n,r))}}function ug(t,s){Ns.M(t,s);var a=ol;if(a&&t){var l=Ra(a).hoistableScripts,n=ml(t),r=l.get(n);r||(r=a.querySelector(xn(n)),r||(t=j({src:t,async:!0,type:"module"},s),(s=$t.get(n))&&fd(t,s),r=a.createElement("script"),Ke(r),tt(r,"link",t),a.head.appendChild(r)),r={type:"script",instance:r,count:1,state:null},l.set(n,r))}}function Cx(t,s,a,l){var n=(n=U.current)?qr(n):null;if(!n)throw Error(d(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(s=ul(a.href),a=Ra(n).hoistableStyles,l=a.get(s),l||(l={type:"style",instance:null,count:0,state:null},a.set(s,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=ul(a.href);var r=Ra(n).hoistableStyles,x=r.get(t);if(x||(n=n.ownerDocument||n,x={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},r.set(t,x),(r=n.querySelector(mn(t)))&&!r._p&&(x.instance=r,x.state.loading=5),$t.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},$t.set(t,a),r||mg(n,t,a,x.state))),s&&l===null)throw Error(d(528,""));return x}if(s&&l!==null)throw Error(d(529,""));return null;case"script":return s=a.async,a=a.src,typeof a=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=ml(a),a=Ra(n).hoistableScripts,l=a.get(s),l||(l={type:"script",instance:null,count:0,state:null},a.set(s,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(d(444,t))}}function ul(t){return'href="'+Ut(t)+'"'}function mn(t){return'link[rel="stylesheet"]['+t+"]"}function kx(t){return j({},t,{"data-precedence":t.precedence,precedence:null})}function mg(t,s,a,l){t.querySelector('link[rel="preload"][as="style"]['+s+"]")?l.loading=1:(s=t.createElement("link"),l.preload=s,s.addEventListener("load",function(){return l.loading|=1}),s.addEventListener("error",function(){return l.loading|=2}),tt(s,"link",a),Ke(s),t.head.appendChild(s))}function ml(t){return'[src="'+Ut(t)+'"]'}function xn(t){return"script[async]"+t}function Tx(t,s,a){if(s.count++,s.instance===null)switch(s.type){case"style":var l=t.querySelector('style[data-href~="'+Ut(a.href)+'"]');if(l)return s.instance=l,Ke(l),l;var n=j({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),Ke(l),tt(l,"style",n),Hr(l,a.precedence,t),s.instance=l;case"stylesheet":n=ul(a.href);var r=t.querySelector(mn(n));if(r)return s.state.loading|=4,s.instance=r,Ke(r),r;l=kx(a),(n=$t.get(n))&&hd(l,n),r=(t.ownerDocument||t).createElement("link"),Ke(r);var x=r;return x._p=new Promise(function(p,k){x.onload=p,x.onerror=k}),tt(r,"link",l),s.state.loading|=4,Hr(r,a.precedence,t),s.instance=r;case"script":return r=ml(a.src),(n=t.querySelector(xn(r)))?(s.instance=n,Ke(n),n):(l=a,(n=$t.get(r))&&(l=j({},a),fd(l,n)),t=t.ownerDocument||t,n=t.createElement("script"),Ke(n),tt(n,"link",l),t.head.appendChild(n),s.instance=n);case"void":return null;default:throw Error(d(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(l=s.instance,s.state.loading|=4,Hr(l,a.precedence,t));return s.instance}function Hr(t,s,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),n=l.length?l[l.length-1]:null,r=n,x=0;x<l.length;x++){var p=l[x];if(p.dataset.precedence===s)r=p;else if(r!==n)break}r?r.parentNode.insertBefore(t,r.nextSibling):(s=a.nodeType===9?a.head:a,s.insertBefore(t,s.firstChild))}function hd(t,s){t.crossOrigin==null&&(t.crossOrigin=s.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=s.referrerPolicy),t.title==null&&(t.title=s.title)}function fd(t,s){t.crossOrigin==null&&(t.crossOrigin=s.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=s.referrerPolicy),t.integrity==null&&(t.integrity=s.integrity)}var Br=null;function Ex(t,s,a){if(Br===null){var l=new Map,n=Br=new Map;n.set(a,l)}else n=Br,l=n.get(a),l||(l=new Map,n.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),n=0;n<a.length;n++){var r=a[n];if(!(r[Cl]||r[at]||t==="link"&&r.getAttribute("rel")==="stylesheet")&&r.namespaceURI!=="http://www.w3.org/2000/svg"){var x=r.getAttribute(s)||"";x=t+x;var p=l.get(x);p?p.push(r):l.set(x,[r])}}return l}function Ax(t,s,a){t=t.ownerDocument||t,t.head.insertBefore(a,s==="title"?t.querySelector("head > title"):null)}function xg(t,s,a){if(a===1||s.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return t=s.disabled,typeof s.precedence=="string"&&t==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function Mx(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var hn=null;function hg(){}function fg(t,s,a){if(hn===null)throw Error(d(475));var l=hn;if(s.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var n=ul(a.href),r=t.querySelector(mn(n));if(r){t=r._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=$r.bind(l),t.then(l,l)),s.state.loading|=4,s.instance=r,Ke(r);return}r=t.ownerDocument||t,a=kx(a),(n=$t.get(n))&&hd(a,n),r=r.createElement("link"),Ke(r);var x=r;x._p=new Promise(function(p,k){x.onload=p,x.onerror=k}),tt(r,"link",a),s.instance=r}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(s,t),(t=s.state.preload)&&(s.state.loading&3)===0&&(l.count++,s=$r.bind(l),t.addEventListener("load",s),t.addEventListener("error",s))}}function gg(){if(hn===null)throw Error(d(475));var t=hn;return t.stylesheets&&t.count===0&&gd(t,t.stylesheets),0<t.count?function(s){var a=setTimeout(function(){if(t.stylesheets&&gd(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=s,function(){t.unsuspend=null,clearTimeout(a)}}:null}function $r(){if(this.count--,this.count===0){if(this.stylesheets)gd(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Zr=null;function gd(t,s){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Zr=new Map,s.forEach(pg,t),Zr=null,$r.call(t))}function pg(t,s){if(!(s.state.loading&4)){var a=Zr.get(t);if(a)var l=a.get(null);else{a=new Map,Zr.set(t,a);for(var n=t.querySelectorAll("link[data-precedence],style[data-precedence]"),r=0;r<n.length;r++){var x=n[r];(x.nodeName==="LINK"||x.getAttribute("media")!=="not all")&&(a.set(x.dataset.precedence,x),l=x)}l&&a.set(null,l)}n=s.instance,x=n.getAttribute("data-precedence"),r=a.get(x)||l,r===l&&a.set(null,n),a.set(x,n),this.count++,l=$r.bind(this),n.addEventListener("load",l),n.addEventListener("error",l),r?r.parentNode.insertBefore(n,r.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(n,t.firstChild)),s.state.loading|=4}}var fn={$$typeof:T,Provider:null,Consumer:null,_currentValue:te,_currentValue2:te,_threadCount:0};function yg(t,s,a,l,n,r,x,p){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=mi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mi(0),this.hiddenUpdates=mi(null),this.identifierPrefix=l,this.onUncaughtError=n,this.onCaughtError=r,this.onRecoverableError=x,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=p,this.incompleteTransitions=new Map}function Rx(t,s,a,l,n,r,x,p,k,B,K,W){return t=new yg(t,s,a,x,p,k,B,W),s=1,r===!0&&(s|=24),r=kt(3,null,null,s),t.current=r,r.stateNode=t,s=Fi(),s.refCount++,t.pooledCache=s,s.refCount++,r.memoizedState={element:l,isDehydrated:a,cache:s},tc(r),t}function _x(t){return t?(t=Ga,t):Ga}function Dx(t,s,a,l,n,r){n=_x(n),l.context===null?l.context=n:l.pendingContext=n,l=Ls(s),l.payload={element:a},r=r===void 0?null:r,r!==null&&(l.callback=r),a=Os(t,l,s),a!==null&&(Rt(a,t,s),Vl(a,t,s))}function Ux(t,s){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<s?a:s}}function pd(t,s){Ux(t,s),(t=t.alternate)&&Ux(t,s)}function Lx(t){if(t.tag===13){var s=Za(t,67108864);s!==null&&Rt(s,t,67108864),pd(t,67108864)}}var Gr=!0;function bg(t,s,a,l){var n=A.T;A.T=null;var r=Q.p;try{Q.p=2,yd(t,s,a,l)}finally{Q.p=r,A.T=n}}function jg(t,s,a,l){var n=A.T;A.T=null;var r=Q.p;try{Q.p=8,yd(t,s,a,l)}finally{Q.p=r,A.T=n}}function yd(t,s,a,l){if(Gr){var n=bd(l);if(n===null)nd(t,s,l,Vr,a),zx(t,l);else if(Ng(n,t,s,a,l))l.stopPropagation();else if(zx(t,l),s&4&&-1<vg.indexOf(t)){for(;n!==null;){var r=Ma(n);if(r!==null)switch(r.tag){case 3:if(r=r.stateNode,r.current.memoizedState.isDehydrated){var x=ia(r.pendingLanes);if(x!==0){var p=r;for(p.pendingLanes|=2,p.entangledLanes|=2;x;){var k=1<<31-St(x);p.entanglements[1]|=k,x&=~k}ss(r),(ke&6)===0&&(Tr=Ft()+500,cn(0))}}break;case 13:p=Za(r,2),p!==null&&Rt(p,r,2),Ar(),pd(r,2)}if(r=bd(l),r===null&&nd(t,s,l,Vr,a),r===n)break;n=r}n!==null&&l.stopPropagation()}else nd(t,s,l,null,a)}}function bd(t){return t=Si(t),jd(t)}var Vr=null;function jd(t){if(Vr=null,t=Aa(t),t!==null){var s=m(t);if(s===null)t=null;else{var a=s.tag;if(a===13){if(t=f(s),t!==null)return t;t=null}else if(a===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;t=null}else s!==t&&(t=null)}}return Vr=t,null}function Ox(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(nh()){case Jd:return 2;case Id:return 8;case On:case rh:return 32;case Fd:return 268435456;default:return 32}default:return 32}}var vd=!1,Js=null,Is=null,Fs=null,gn=new Map,pn=new Map,Ws=[],vg="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function zx(t,s){switch(t){case"focusin":case"focusout":Js=null;break;case"dragenter":case"dragleave":Is=null;break;case"mouseover":case"mouseout":Fs=null;break;case"pointerover":case"pointerout":gn.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":pn.delete(s.pointerId)}}function yn(t,s,a,l,n,r){return t===null||t.nativeEvent!==r?(t={blockedOn:s,domEventName:a,eventSystemFlags:l,nativeEvent:r,targetContainers:[n]},s!==null&&(s=Ma(s),s!==null&&Lx(s)),t):(t.eventSystemFlags|=l,s=t.targetContainers,n!==null&&s.indexOf(n)===-1&&s.push(n),t)}function Ng(t,s,a,l,n){switch(s){case"focusin":return Js=yn(Js,t,s,a,l,n),!0;case"dragenter":return Is=yn(Is,t,s,a,l,n),!0;case"mouseover":return Fs=yn(Fs,t,s,a,l,n),!0;case"pointerover":var r=n.pointerId;return gn.set(r,yn(gn.get(r)||null,t,s,a,l,n)),!0;case"gotpointercapture":return r=n.pointerId,pn.set(r,yn(pn.get(r)||null,t,s,a,l,n)),!0}return!1}function qx(t){var s=Aa(t.target);if(s!==null){var a=m(s);if(a!==null){if(s=a.tag,s===13){if(s=f(a),s!==null){t.blockedOn=s,hh(t.priority,function(){if(a.tag===13){var l=Mt();l=xi(l);var n=Za(a,l);n!==null&&Rt(n,a,l),pd(a,l)}});return}}else if(s===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Yr(t){if(t.blockedOn!==null)return!1;for(var s=t.targetContainers;0<s.length;){var a=bd(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);wi=l,a.target.dispatchEvent(l),wi=null}else return s=Ma(a),s!==null&&Lx(s),t.blockedOn=a,!1;s.shift()}return!0}function Hx(t,s,a){Yr(t)&&a.delete(s)}function wg(){vd=!1,Js!==null&&Yr(Js)&&(Js=null),Is!==null&&Yr(Is)&&(Is=null),Fs!==null&&Yr(Fs)&&(Fs=null),gn.forEach(Hx),pn.forEach(Hx)}function Qr(t,s){t.blockedOn===s&&(t.blockedOn=null,vd||(vd=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,wg)))}var Xr=null;function Bx(t){Xr!==t&&(Xr=t,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){Xr===t&&(Xr=null);for(var s=0;s<t.length;s+=3){var a=t[s],l=t[s+1],n=t[s+2];if(typeof l!="function"){if(jd(l||a)===null)continue;break}var r=Ma(a);r!==null&&(t.splice(s,3),s-=3,jc(r,{pending:!0,data:n,method:a.method,action:l},l,n))}}))}function bn(t){function s(k){return Qr(k,t)}Js!==null&&Qr(Js,t),Is!==null&&Qr(Is,t),Fs!==null&&Qr(Fs,t),gn.forEach(s),pn.forEach(s);for(var a=0;a<Ws.length;a++){var l=Ws[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<Ws.length&&(a=Ws[0],a.blockedOn===null);)qx(a),a.blockedOn===null&&Ws.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var n=a[l],r=a[l+1],x=n[ft]||null;if(typeof r=="function")x||Bx(a);else if(x){var p=null;if(r&&r.hasAttribute("formAction")){if(n=r,x=r[ft]||null)p=x.formAction;else if(jd(n)!==null)continue}else p=x.action;typeof p=="function"?a[l+1]=p:(a.splice(l,3),l-=3),Bx(a)}}}function Nd(t){this._internalRoot=t}Kr.prototype.render=Nd.prototype.render=function(t){var s=this._internalRoot;if(s===null)throw Error(d(409));var a=s.current,l=Mt();Dx(a,l,t,s,null,null)},Kr.prototype.unmount=Nd.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var s=t.containerInfo;Dx(t.current,2,null,t,null,null),Ar(),s[Ea]=null}};function Kr(t){this._internalRoot=t}Kr.prototype.unstable_scheduleHydration=function(t){if(t){var s=so();t={blockedOn:null,target:t,priority:s};for(var a=0;a<Ws.length&&s!==0&&s<Ws[a].priority;a++);Ws.splice(a,0,t),a===0&&qx(t)}};var $x=c.version;if($x!=="19.1.1")throw Error(d(527,$x,"19.1.1"));Q.findDOMNode=function(t){var s=t._reactInternals;if(s===void 0)throw typeof t.render=="function"?Error(d(188)):(t=Object.keys(t).join(","),Error(d(268,t)));return t=g(s),t=t!==null?h(t):null,t=t===null?null:t.stateNode,t};var Sg={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:A,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Jr=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Jr.isDisabled&&Jr.supportsFiber)try{Nl=Jr.inject(Sg),wt=Jr}catch{}}return vn.createRoot=function(t,s){if(!u(t))throw Error(d(299));var a=!1,l="",n=am,r=lm,x=nm,p=null;return s!=null&&(s.unstable_strictMode===!0&&(a=!0),s.identifierPrefix!==void 0&&(l=s.identifierPrefix),s.onUncaughtError!==void 0&&(n=s.onUncaughtError),s.onCaughtError!==void 0&&(r=s.onCaughtError),s.onRecoverableError!==void 0&&(x=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(p=s.unstable_transitionCallbacks)),s=Rx(t,1,!1,null,null,a,l,n,r,x,p,null),t[Ea]=s.current,ld(t),new Nd(s)},vn.hydrateRoot=function(t,s,a){if(!u(t))throw Error(d(299));var l=!1,n="",r=am,x=lm,p=nm,k=null,B=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(n=a.identifierPrefix),a.onUncaughtError!==void 0&&(r=a.onUncaughtError),a.onCaughtError!==void 0&&(x=a.onCaughtError),a.onRecoverableError!==void 0&&(p=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(k=a.unstable_transitionCallbacks),a.formState!==void 0&&(B=a.formState)),s=Rx(t,1,!0,s,a??null,l,n,r,x,p,k,B),s.context=_x(null),a=s.current,l=Mt(),l=xi(l),n=Ls(l),n.callback=null,Os(a,n,l),a=l,s.current.lanes=a,Sl(s,a),ss(s),t[Ea]=s.current,ld(t),new Kr(s)},vn.version="19.1.1",vn}var Fx;function Lg(){if(Fx)return Cd.exports;Fx=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(c){console.error(c)}}return i(),Cd.exports=Ug(),Cd.exports}var Og=Lg();/**
 * react-router v7.8.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Wx="popstate";function zg(i={}){function c(d,u){let{pathname:m,search:f,hash:b}=d.location;return _d("",{pathname:m,search:f,hash:b},u.state&&u.state.usr||null,u.state&&u.state.key||"default")}function o(d,u){return typeof u=="string"?u:Tn(u)}return Hg(c,o,null,i)}function He(i,c){if(i===!1||i===null||typeof i>"u")throw new Error(c)}function ns(i,c){if(!i){typeof console<"u"&&console.warn(c);try{throw new Error(c)}catch{}}}function qg(){return Math.random().toString(36).substring(2,10)}function Px(i,c){return{usr:i.state,key:i.key,idx:c}}function _d(i,c,o=null,d){return{pathname:typeof i=="string"?i:i.pathname,search:"",hash:"",...typeof c=="string"?pl(c):c,state:o,key:c&&c.key||d||qg()}}function Tn({pathname:i="/",search:c="",hash:o=""}){return c&&c!=="?"&&(i+=c.charAt(0)==="?"?c:"?"+c),o&&o!=="#"&&(i+=o.charAt(0)==="#"?o:"#"+o),i}function pl(i){let c={};if(i){let o=i.indexOf("#");o>=0&&(c.hash=i.substring(o),i=i.substring(0,o));let d=i.indexOf("?");d>=0&&(c.search=i.substring(d),i=i.substring(0,d)),i&&(c.pathname=i)}return c}function Hg(i,c,o,d={}){let{window:u=document.defaultView,v5Compat:m=!1}=d,f=u.history,b="POP",g=null,h=j();h==null&&(h=0,f.replaceState({...f.state,idx:h},""));function j(){return(f.state||{idx:null}).idx}function C(){b="POP";let N=j(),w=N==null?null:N-h;h=N,g&&g({action:b,location:_.location,delta:w})}function L(N,w){b="PUSH";let E=_d(_.location,N,w);h=j()+1;let T=Px(E,h),S=_.createHref(E);try{f.pushState(T,"",S)}catch(M){if(M instanceof DOMException&&M.name==="DataCloneError")throw M;u.location.assign(S)}m&&g&&g({action:b,location:_.location,delta:1})}function $(N,w){b="REPLACE";let E=_d(_.location,N,w);h=j();let T=Px(E,h),S=_.createHref(E);f.replaceState(T,"",S),m&&g&&g({action:b,location:_.location,delta:0})}function O(N){return Bg(N)}let _={get action(){return b},get location(){return i(u,f)},listen(N){if(g)throw new Error("A history only accepts one active listener");return u.addEventListener(Wx,C),g=N,()=>{u.removeEventListener(Wx,C),g=null}},createHref(N){return c(u,N)},createURL:O,encodeLocation(N){let w=O(N);return{pathname:w.pathname,search:w.search,hash:w.hash}},push:L,replace:$,go(N){return f.go(N)}};return _}function Bg(i,c=!1){let o="http://localhost";typeof window<"u"&&(o=window.location.origin!=="null"?window.location.origin:window.location.href),He(o,"No window.location.(origin|href) available to create URL");let d=typeof i=="string"?i:Tn(i);return d=d.replace(/ $/,"%20"),!c&&d.startsWith("//")&&(d=o+d),new URL(d,o)}function f0(i,c,o="/"){return $g(i,c,o,!1)}function $g(i,c,o,d){let u=typeof c=="string"?pl(c):c,m=Cs(u.pathname||"/",o);if(m==null)return null;let f=g0(i);Zg(f);let b=null;for(let g=0;b==null&&g<f.length;++g){let h=Pg(m);b=Fg(f[g],h,d)}return b}function g0(i,c=[],o=[],d="",u=!1){let m=(f,b,g=u,h)=>{let j={relativePath:h===void 0?f.path||"":h,caseSensitive:f.caseSensitive===!0,childrenIndex:b,route:f};if(j.relativePath.startsWith("/")){if(!j.relativePath.startsWith(d)&&g)return;He(j.relativePath.startsWith(d),`Absolute route path "${j.relativePath}" nested under path "${d}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),j.relativePath=j.relativePath.slice(d.length)}let C=Ss([d,j.relativePath]),L=o.concat(j);f.children&&f.children.length>0&&(He(f.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${C}".`),g0(f.children,c,L,C,g)),!(f.path==null&&!f.index)&&c.push({path:C,score:Jg(C,f.index),routesMeta:L})};return i.forEach((f,b)=>{if(f.path===""||!f.path?.includes("?"))m(f,b);else for(let g of p0(f.path))m(f,b,!0,g)}),c}function p0(i){let c=i.split("/");if(c.length===0)return[];let[o,...d]=c,u=o.endsWith("?"),m=o.replace(/\?$/,"");if(d.length===0)return u?[m,""]:[m];let f=p0(d.join("/")),b=[];return b.push(...f.map(g=>g===""?m:[m,g].join("/"))),u&&b.push(...f),b.map(g=>i.startsWith("/")&&g===""?"/":g)}function Zg(i){i.sort((c,o)=>c.score!==o.score?o.score-c.score:Ig(c.routesMeta.map(d=>d.childrenIndex),o.routesMeta.map(d=>d.childrenIndex)))}var Gg=/^:[\w-]+$/,Vg=3,Yg=2,Qg=1,Xg=10,Kg=-2,e0=i=>i==="*";function Jg(i,c){let o=i.split("/"),d=o.length;return o.some(e0)&&(d+=Kg),c&&(d+=Yg),o.filter(u=>!e0(u)).reduce((u,m)=>u+(Gg.test(m)?Vg:m===""?Qg:Xg),d)}function Ig(i,c){return i.length===c.length&&i.slice(0,-1).every((d,u)=>d===c[u])?i[i.length-1]-c[c.length-1]:0}function Fg(i,c,o=!1){let{routesMeta:d}=i,u={},m="/",f=[];for(let b=0;b<d.length;++b){let g=d[b],h=b===d.length-1,j=m==="/"?c:c.slice(m.length)||"/",C=si({path:g.relativePath,caseSensitive:g.caseSensitive,end:h},j),L=g.route;if(!C&&h&&o&&!d[d.length-1].route.index&&(C=si({path:g.relativePath,caseSensitive:g.caseSensitive,end:!1},j)),!C)return null;Object.assign(u,C.params),f.push({params:u,pathname:Ss([m,C.pathname]),pathnameBase:ap(Ss([m,C.pathnameBase])),route:L}),C.pathnameBase!=="/"&&(m=Ss([m,C.pathnameBase]))}return f}function si(i,c){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[o,d]=Wg(i.path,i.caseSensitive,i.end),u=c.match(o);if(!u)return null;let m=u[0],f=m.replace(/(.)\/+$/,"$1"),b=u.slice(1);return{params:d.reduce((h,{paramName:j,isOptional:C},L)=>{if(j==="*"){let O=b[L]||"";f=m.slice(0,m.length-O.length).replace(/(.)\/+$/,"$1")}const $=b[L];return C&&!$?h[j]=void 0:h[j]=($||"").replace(/%2F/g,"/"),h},{}),pathname:m,pathnameBase:f,pattern:i}}function Wg(i,c=!1,o=!0){ns(i==="*"||!i.endsWith("*")||i.endsWith("/*"),`Route path "${i}" will be treated as if it were "${i.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${i.replace(/\*$/,"/*")}".`);let d=[],u="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,b,g)=>(d.push({paramName:b,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return i.endsWith("*")?(d.push({paramName:"*"}),u+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):o?u+="\\/*$":i!==""&&i!=="/"&&(u+="(?:(?=\\/|$))"),[new RegExp(u,c?void 0:"i"),d]}function Pg(i){try{return i.split("/").map(c=>decodeURIComponent(c).replace(/\//g,"%2F")).join("/")}catch(c){return ns(!1,`The URL path "${i}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${c}).`),i}}function Cs(i,c){if(c==="/")return i;if(!i.toLowerCase().startsWith(c.toLowerCase()))return null;let o=c.endsWith("/")?c.length-1:c.length,d=i.charAt(o);return d&&d!=="/"?null:i.slice(o)||"/"}function ep(i,c="/"){let{pathname:o,search:d="",hash:u=""}=typeof i=="string"?pl(i):i;return{pathname:o?o.startsWith("/")?o:tp(o,c):c,search:lp(d),hash:np(u)}}function tp(i,c){let o=c.replace(/\/+$/,"").split("/");return i.split("/").forEach(u=>{u===".."?o.length>1&&o.pop():u!=="."&&o.push(u)}),o.length>1?o.join("/"):"/"}function Ad(i,c,o,d){return`Cannot include a '${i}' character in a manually specified \`to.${c}\` field [${JSON.stringify(d)}].  Please separate it out to the \`to.${o}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function sp(i){return i.filter((c,o)=>o===0||c.route.path&&c.route.path.length>0)}function y0(i){let c=sp(i);return c.map((o,d)=>d===c.length-1?o.pathname:o.pathnameBase)}function b0(i,c,o,d=!1){let u;typeof i=="string"?u=pl(i):(u={...i},He(!u.pathname||!u.pathname.includes("?"),Ad("?","pathname","search",u)),He(!u.pathname||!u.pathname.includes("#"),Ad("#","pathname","hash",u)),He(!u.search||!u.search.includes("#"),Ad("#","search","hash",u)));let m=i===""||u.pathname==="",f=m?"/":u.pathname,b;if(f==null)b=o;else{let C=c.length-1;if(!d&&f.startsWith("..")){let L=f.split("/");for(;L[0]==="..";)L.shift(),C-=1;u.pathname=L.join("/")}b=C>=0?c[C]:"/"}let g=ep(u,b),h=f&&f!=="/"&&f.endsWith("/"),j=(m||f===".")&&o.endsWith("/");return!g.pathname.endsWith("/")&&(h||j)&&(g.pathname+="/"),g}var Ss=i=>i.join("/").replace(/\/\/+/g,"/"),ap=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),lp=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,np=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i;function rp(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}var j0=["POST","PUT","PATCH","DELETE"];new Set(j0);var ip=["GET",...j0];new Set(ip);var yl=y.createContext(null);yl.displayName="DataRouter";var ri=y.createContext(null);ri.displayName="DataRouterState";y.createContext(!1);var v0=y.createContext({isTransitioning:!1});v0.displayName="ViewTransition";var cp=y.createContext(new Map);cp.displayName="Fetchers";var dp=y.createContext(null);dp.displayName="Await";var is=y.createContext(null);is.displayName="Navigation";var _n=y.createContext(null);_n.displayName="Location";var It=y.createContext({outlet:null,matches:[],isDataRoute:!1});It.displayName="Route";var Hd=y.createContext(null);Hd.displayName="RouteError";function op(i,{relative:c}={}){He(Dn(),"useHref() may be used only in the context of a <Router> component.");let{basename:o,navigator:d}=y.useContext(is),{hash:u,pathname:m,search:f}=Un(i,{relative:c}),b=m;return o!=="/"&&(b=m==="/"?o:Ss([o,m])),d.createHref({pathname:b,search:f,hash:u})}function Dn(){return y.useContext(_n)!=null}function na(){return He(Dn(),"useLocation() may be used only in the context of a <Router> component."),y.useContext(_n).location}var N0="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function w0(i){y.useContext(is).static||y.useLayoutEffect(i)}function Bd(){let{isDataRoute:i}=y.useContext(It);return i?kp():up()}function up(){He(Dn(),"useNavigate() may be used only in the context of a <Router> component.");let i=y.useContext(yl),{basename:c,navigator:o}=y.useContext(is),{matches:d}=y.useContext(It),{pathname:u}=na(),m=JSON.stringify(y0(d)),f=y.useRef(!1);return w0(()=>{f.current=!0}),y.useCallback((g,h={})=>{if(ns(f.current,N0),!f.current)return;if(typeof g=="number"){o.go(g);return}let j=b0(g,JSON.parse(m),u,h.relative==="path");i==null&&c!=="/"&&(j.pathname=j.pathname==="/"?c:Ss([c,j.pathname])),(h.replace?o.replace:o.push)(j,h.state,h)},[c,o,m,u,i])}var mp=y.createContext(null);function xp(i){let c=y.useContext(It).outlet;return c&&y.createElement(mp.Provider,{value:i},c)}function hp(){let{matches:i}=y.useContext(It),c=i[i.length-1];return c?c.params:{}}function Un(i,{relative:c}={}){let{matches:o}=y.useContext(It),{pathname:d}=na(),u=JSON.stringify(y0(o));return y.useMemo(()=>b0(i,JSON.parse(u),d,c==="path"),[i,u,d,c])}function fp(i,c){return S0(i,c)}function S0(i,c,o,d){He(Dn(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=y.useContext(is),{matches:m}=y.useContext(It),f=m[m.length-1],b=f?f.params:{},g=f?f.pathname:"/",h=f?f.pathnameBase:"/",j=f&&f.route;{let w=j&&j.path||"";C0(g,!j||w.endsWith("*")||w.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${w}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${w}"> to <Route path="${w==="/"?"*":`${w}/*`}">.`)}let C=na(),L;if(c){let w=typeof c=="string"?pl(c):c;He(h==="/"||w.pathname?.startsWith(h),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${h}" but pathname "${w.pathname}" was given in the \`location\` prop.`),L=w}else L=C;let $=L.pathname||"/",O=$;if(h!=="/"){let w=h.replace(/^\//,"").split("/");O="/"+$.replace(/^\//,"").split("/").slice(w.length).join("/")}let _=f0(i,{pathname:O});ns(j||_!=null,`No routes matched location "${L.pathname}${L.search}${L.hash}" `),ns(_==null||_[_.length-1].route.element!==void 0||_[_.length-1].route.Component!==void 0||_[_.length-1].route.lazy!==void 0,`Matched leaf route at location "${L.pathname}${L.search}${L.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let N=jp(_&&_.map(w=>Object.assign({},w,{params:Object.assign({},b,w.params),pathname:Ss([h,u.encodeLocation?u.encodeLocation(w.pathname).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?h:Ss([h,u.encodeLocation?u.encodeLocation(w.pathnameBase).pathname:w.pathnameBase])})),m,o,d);return c&&N?y.createElement(_n.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...L},navigationType:"POP"}},N):N}function gp(){let i=Cp(),c=rp(i)?`${i.status} ${i.statusText}`:i instanceof Error?i.message:JSON.stringify(i),o=i instanceof Error?i.stack:null,d="rgba(200,200,200, 0.5)",u={padding:"0.5rem",backgroundColor:d},m={padding:"2px 4px",backgroundColor:d},f=null;return console.error("Error handled by React Router default ErrorBoundary:",i),f=y.createElement(y.Fragment,null,y.createElement("p",null,"💿 Hey developer 👋"),y.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",y.createElement("code",{style:m},"ErrorBoundary")," or"," ",y.createElement("code",{style:m},"errorElement")," prop on your route.")),y.createElement(y.Fragment,null,y.createElement("h2",null,"Unexpected Application Error!"),y.createElement("h3",{style:{fontStyle:"italic"}},c),o?y.createElement("pre",{style:u},o):null,f)}var pp=y.createElement(gp,null),yp=class extends y.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,c){return c.location!==i.location||c.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:c.error,location:c.location,revalidation:i.revalidation||c.revalidation}}componentDidCatch(i,c){console.error("React Router caught the following error during render",i,c)}render(){return this.state.error!==void 0?y.createElement(It.Provider,{value:this.props.routeContext},y.createElement(Hd.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function bp({routeContext:i,match:c,children:o}){let d=y.useContext(yl);return d&&d.static&&d.staticContext&&(c.route.errorElement||c.route.ErrorBoundary)&&(d.staticContext._deepestRenderedBoundaryId=c.route.id),y.createElement(It.Provider,{value:i},o)}function jp(i,c=[],o=null,d=null){if(i==null){if(!o)return null;if(o.errors)i=o.matches;else if(c.length===0&&!o.initialized&&o.matches.length>0)i=o.matches;else return null}let u=i,m=o?.errors;if(m!=null){let g=u.findIndex(h=>h.route.id&&m?.[h.route.id]!==void 0);He(g>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(m).join(",")}`),u=u.slice(0,Math.min(u.length,g+1))}let f=!1,b=-1;if(o)for(let g=0;g<u.length;g++){let h=u[g];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(b=g),h.route.id){let{loaderData:j,errors:C}=o,L=h.route.loader&&!j.hasOwnProperty(h.route.id)&&(!C||C[h.route.id]===void 0);if(h.route.lazy||L){f=!0,b>=0?u=u.slice(0,b+1):u=[u[0]];break}}}return u.reduceRight((g,h,j)=>{let C,L=!1,$=null,O=null;o&&(C=m&&h.route.id?m[h.route.id]:void 0,$=h.route.errorElement||pp,f&&(b<0&&j===0?(C0("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),L=!0,O=null):b===j&&(L=!0,O=h.route.hydrateFallbackElement||null)));let _=c.concat(u.slice(0,j+1)),N=()=>{let w;return C?w=$:L?w=O:h.route.Component?w=y.createElement(h.route.Component,null):h.route.element?w=h.route.element:w=g,y.createElement(bp,{match:h,routeContext:{outlet:g,matches:_,isDataRoute:o!=null},children:w})};return o&&(h.route.ErrorBoundary||h.route.errorElement||j===0)?y.createElement(yp,{location:o.location,revalidation:o.revalidation,component:$,error:C,children:N(),routeContext:{outlet:null,matches:_,isDataRoute:!0}}):N()},null)}function $d(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function vp(i){let c=y.useContext(yl);return He(c,$d(i)),c}function Np(i){let c=y.useContext(ri);return He(c,$d(i)),c}function wp(i){let c=y.useContext(It);return He(c,$d(i)),c}function Zd(i){let c=wp(i),o=c.matches[c.matches.length-1];return He(o.route.id,`${i} can only be used on routes that contain a unique "id"`),o.route.id}function Sp(){return Zd("useRouteId")}function Cp(){let i=y.useContext(Hd),c=Np("useRouteError"),o=Zd("useRouteError");return i!==void 0?i:c.errors?.[o]}function kp(){let{router:i}=vp("useNavigate"),c=Zd("useNavigate"),o=y.useRef(!1);return w0(()=>{o.current=!0}),y.useCallback(async(u,m={})=>{ns(o.current,N0),o.current&&(typeof u=="number"?i.navigate(u):await i.navigate(u,{fromRouteId:c,...m}))},[i,c])}var t0={};function C0(i,c,o){!c&&!t0[i]&&(t0[i]=!0,ns(!1,o))}y.memo(Tp);function Tp({routes:i,future:c,state:o}){return S0(i,void 0,o,c)}function Ep(i){return xp(i.context)}function qe(i){He(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Ap({basename:i="/",children:c=null,location:o,navigationType:d="POP",navigator:u,static:m=!1}){He(!Dn(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=i.replace(/^\/*/,"/"),b=y.useMemo(()=>({basename:f,navigator:u,static:m,future:{}}),[f,u,m]);typeof o=="string"&&(o=pl(o));let{pathname:g="/",search:h="",hash:j="",state:C=null,key:L="default"}=o,$=y.useMemo(()=>{let O=Cs(g,f);return O==null?null:{location:{pathname:O,search:h,hash:j,state:C,key:L},navigationType:d}},[f,g,h,j,C,L,d]);return ns($!=null,`<Router basename="${f}"> is not able to match the URL "${g}${h}${j}" because it does not start with the basename, so the <Router> won't render anything.`),$==null?null:y.createElement(is.Provider,{value:b},y.createElement(_n.Provider,{children:c,value:$}))}function Mp({children:i,location:c}){return fp(Dd(i),c)}function Dd(i,c=[]){let o=[];return y.Children.forEach(i,(d,u)=>{if(!y.isValidElement(d))return;let m=[...c,u];if(d.type===y.Fragment){o.push.apply(o,Dd(d.props.children,m));return}He(d.type===qe,`[${typeof d.type=="string"?d.type:d.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),He(!d.props.index||!d.props.children,"An index route cannot have child routes.");let f={id:d.props.id||m.join("-"),caseSensitive:d.props.caseSensitive,element:d.props.element,Component:d.props.Component,index:d.props.index,path:d.props.path,loader:d.props.loader,action:d.props.action,hydrateFallbackElement:d.props.hydrateFallbackElement,HydrateFallback:d.props.HydrateFallback,errorElement:d.props.errorElement,ErrorBoundary:d.props.ErrorBoundary,hasErrorBoundary:d.props.hasErrorBoundary===!0||d.props.ErrorBoundary!=null||d.props.errorElement!=null,shouldRevalidate:d.props.shouldRevalidate,handle:d.props.handle,lazy:d.props.lazy};d.props.children&&(f.children=Dd(d.props.children,m)),o.push(f)}),o}var Wr="get",Pr="application/x-www-form-urlencoded";function ii(i){return i!=null&&typeof i.tagName=="string"}function Rp(i){return ii(i)&&i.tagName.toLowerCase()==="button"}function _p(i){return ii(i)&&i.tagName.toLowerCase()==="form"}function Dp(i){return ii(i)&&i.tagName.toLowerCase()==="input"}function Up(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function Lp(i,c){return i.button===0&&(!c||c==="_self")&&!Up(i)}var Ir=null;function Op(){if(Ir===null)try{new FormData(document.createElement("form"),0),Ir=!1}catch{Ir=!0}return Ir}var zp=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Md(i){return i!=null&&!zp.has(i)?(ns(!1,`"${i}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Pr}"`),null):i}function qp(i,c){let o,d,u,m,f;if(_p(i)){let b=i.getAttribute("action");d=b?Cs(b,c):null,o=i.getAttribute("method")||Wr,u=Md(i.getAttribute("enctype"))||Pr,m=new FormData(i)}else if(Rp(i)||Dp(i)&&(i.type==="submit"||i.type==="image")){let b=i.form;if(b==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let g=i.getAttribute("formaction")||b.getAttribute("action");if(d=g?Cs(g,c):null,o=i.getAttribute("formmethod")||b.getAttribute("method")||Wr,u=Md(i.getAttribute("formenctype"))||Md(b.getAttribute("enctype"))||Pr,m=new FormData(b,i),!Op()){let{name:h,type:j,value:C}=i;if(j==="image"){let L=h?`${h}.`:"";m.append(`${L}x`,"0"),m.append(`${L}y`,"0")}else h&&m.append(h,C)}}else{if(ii(i))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');o=Wr,d=null,u=Pr,f=i}return m&&u==="text/plain"&&(f=m,m=void 0),{action:d,method:o.toLowerCase(),encType:u,formData:m,body:f}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Gd(i,c){if(i===!1||i===null||typeof i>"u")throw new Error(c)}function Hp(i,c,o){let d=typeof i=="string"?new URL(i,typeof window>"u"?"server://singlefetch/":window.location.origin):i;return d.pathname==="/"?d.pathname=`_root.${o}`:c&&Cs(d.pathname,c)==="/"?d.pathname=`${c.replace(/\/$/,"")}/_root.${o}`:d.pathname=`${d.pathname.replace(/\/$/,"")}.${o}`,d}async function Bp(i,c){if(i.id in c)return c[i.id];try{let o=await import(i.module);return c[i.id]=o,o}catch(o){return console.error(`Error loading route module \`${i.module}\`, reloading page...`),console.error(o),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function $p(i){return i==null?!1:i.href==null?i.rel==="preload"&&typeof i.imageSrcSet=="string"&&typeof i.imageSizes=="string":typeof i.rel=="string"&&typeof i.href=="string"}async function Zp(i,c,o){let d=await Promise.all(i.map(async u=>{let m=c.routes[u.route.id];if(m){let f=await Bp(m,o);return f.links?f.links():[]}return[]}));return Qp(d.flat(1).filter($p).filter(u=>u.rel==="stylesheet"||u.rel==="preload").map(u=>u.rel==="stylesheet"?{...u,rel:"prefetch",as:"style"}:{...u,rel:"prefetch"}))}function s0(i,c,o,d,u,m){let f=(g,h)=>o[h]?g.route.id!==o[h].route.id:!0,b=(g,h)=>o[h].pathname!==g.pathname||o[h].route.path?.endsWith("*")&&o[h].params["*"]!==g.params["*"];return m==="assets"?c.filter((g,h)=>f(g,h)||b(g,h)):m==="data"?c.filter((g,h)=>{let j=d.routes[g.route.id];if(!j||!j.hasLoader)return!1;if(f(g,h)||b(g,h))return!0;if(g.route.shouldRevalidate){let C=g.route.shouldRevalidate({currentUrl:new URL(u.pathname+u.search+u.hash,window.origin),currentParams:o[0]?.params||{},nextUrl:new URL(i,window.origin),nextParams:g.params,defaultShouldRevalidate:!0});if(typeof C=="boolean")return C}return!0}):[]}function Gp(i,c,{includeHydrateFallback:o}={}){return Vp(i.map(d=>{let u=c.routes[d.route.id];if(!u)return[];let m=[u.module];return u.clientActionModule&&(m=m.concat(u.clientActionModule)),u.clientLoaderModule&&(m=m.concat(u.clientLoaderModule)),o&&u.hydrateFallbackModule&&(m=m.concat(u.hydrateFallbackModule)),u.imports&&(m=m.concat(u.imports)),m}).flat(1))}function Vp(i){return[...new Set(i)]}function Yp(i){let c={},o=Object.keys(i).sort();for(let d of o)c[d]=i[d];return c}function Qp(i,c){let o=new Set;return new Set(c),i.reduce((d,u)=>{let m=JSON.stringify(Yp(u));return o.has(m)||(o.add(m),d.push({key:m,link:u})),d},[])}function k0(){let i=y.useContext(yl);return Gd(i,"You must render this element inside a <DataRouterContext.Provider> element"),i}function Xp(){let i=y.useContext(ri);return Gd(i,"You must render this element inside a <DataRouterStateContext.Provider> element"),i}var Vd=y.createContext(void 0);Vd.displayName="FrameworkContext";function T0(){let i=y.useContext(Vd);return Gd(i,"You must render this element inside a <HydratedRouter> element"),i}function Kp(i,c){let o=y.useContext(Vd),[d,u]=y.useState(!1),[m,f]=y.useState(!1),{onFocus:b,onBlur:g,onMouseEnter:h,onMouseLeave:j,onTouchStart:C}=c,L=y.useRef(null);y.useEffect(()=>{if(i==="render"&&f(!0),i==="viewport"){let _=w=>{w.forEach(E=>{f(E.isIntersecting)})},N=new IntersectionObserver(_,{threshold:.5});return L.current&&N.observe(L.current),()=>{N.disconnect()}}},[i]),y.useEffect(()=>{if(d){let _=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(_)}}},[d]);let $=()=>{u(!0)},O=()=>{u(!1),f(!1)};return o?i!=="intent"?[m,L,{}]:[m,L,{onFocus:Nn(b,$),onBlur:Nn(g,O),onMouseEnter:Nn(h,$),onMouseLeave:Nn(j,O),onTouchStart:Nn(C,$)}]:[!1,L,{}]}function Nn(i,c){return o=>{i&&i(o),o.defaultPrevented||c(o)}}function Jp({page:i,...c}){let{router:o}=k0(),d=y.useMemo(()=>f0(o.routes,i,o.basename),[o.routes,i,o.basename]);return d?y.createElement(Fp,{page:i,matches:d,...c}):null}function Ip(i){let{manifest:c,routeModules:o}=T0(),[d,u]=y.useState([]);return y.useEffect(()=>{let m=!1;return Zp(i,c,o).then(f=>{m||u(f)}),()=>{m=!0}},[i,c,o]),d}function Fp({page:i,matches:c,...o}){let d=na(),{manifest:u,routeModules:m}=T0(),{basename:f}=k0(),{loaderData:b,matches:g}=Xp(),h=y.useMemo(()=>s0(i,c,g,u,d,"data"),[i,c,g,u,d]),j=y.useMemo(()=>s0(i,c,g,u,d,"assets"),[i,c,g,u,d]),C=y.useMemo(()=>{if(i===d.pathname+d.search+d.hash)return[];let O=new Set,_=!1;if(c.forEach(w=>{let E=u.routes[w.route.id];!E||!E.hasLoader||(!h.some(T=>T.route.id===w.route.id)&&w.route.id in b&&m[w.route.id]?.shouldRevalidate||E.hasClientLoader?_=!0:O.add(w.route.id))}),O.size===0)return[];let N=Hp(i,f,"data");return _&&O.size>0&&N.searchParams.set("_routes",c.filter(w=>O.has(w.route.id)).map(w=>w.route.id).join(",")),[N.pathname+N.search]},[f,b,d,u,h,c,i,m]),L=y.useMemo(()=>Gp(j,u),[j,u]),$=Ip(j);return y.createElement(y.Fragment,null,C.map(O=>y.createElement("link",{key:O,rel:"prefetch",as:"fetch",href:O,...o})),L.map(O=>y.createElement("link",{key:O,rel:"modulepreload",href:O,...o})),$.map(({key:O,link:_})=>y.createElement("link",{key:O,nonce:o.nonce,..._})))}function Wp(...i){return c=>{i.forEach(o=>{typeof o=="function"?o(c):o!=null&&(o.current=c)})}}var E0=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{E0&&(window.__reactRouterVersion="7.8.1")}catch{}function Pp({basename:i,children:c,window:o}){let d=y.useRef();d.current==null&&(d.current=zg({window:o,v5Compat:!0}));let u=d.current,[m,f]=y.useState({action:u.action,location:u.location}),b=y.useCallback(g=>{y.startTransition(()=>f(g))},[f]);return y.useLayoutEffect(()=>u.listen(b),[u,b]),y.createElement(Ap,{basename:i,children:c,location:m.location,navigationType:m.action,navigator:u})}var A0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,dt=y.forwardRef(function({onClick:c,discover:o="render",prefetch:d="none",relative:u,reloadDocument:m,replace:f,state:b,target:g,to:h,preventScrollReset:j,viewTransition:C,...L},$){let{basename:O}=y.useContext(is),_=typeof h=="string"&&A0.test(h),N,w=!1;if(typeof h=="string"&&_&&(N=h,E0))try{let le=new URL(window.location.href),F=h.startsWith("//")?new URL(le.protocol+h):new URL(h),ce=Cs(F.pathname,O);F.origin===le.origin&&ce!=null?h=ce+F.search+F.hash:w=!0}catch{ns(!1,`<Link to="${h}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let E=op(h,{relative:u}),[T,S,M]=Kp(d,L),H=sy(h,{replace:f,state:b,target:g,preventScrollReset:j,relative:u,viewTransition:C});function ee(le){c&&c(le),le.defaultPrevented||H(le)}let Y=y.createElement("a",{...L,...M,href:N||E,onClick:w||m?c:ee,ref:Wp($,S),target:g,"data-discover":!_&&o==="render"?"true":void 0});return T&&!_?y.createElement(y.Fragment,null,Y,y.createElement(Jp,{page:E})):Y});dt.displayName="Link";var En=y.forwardRef(function({"aria-current":c="page",caseSensitive:o=!1,className:d="",end:u=!1,style:m,to:f,viewTransition:b,children:g,...h},j){let C=Un(f,{relative:h.relative}),L=na(),$=y.useContext(ri),{navigator:O,basename:_}=y.useContext(is),N=$!=null&&iy(C)&&b===!0,w=O.encodeLocation?O.encodeLocation(C).pathname:C.pathname,E=L.pathname,T=$&&$.navigation&&$.navigation.location?$.navigation.location.pathname:null;o||(E=E.toLowerCase(),T=T?T.toLowerCase():null,w=w.toLowerCase()),T&&_&&(T=Cs(T,_)||T);const S=w!=="/"&&w.endsWith("/")?w.length-1:w.length;let M=E===w||!u&&E.startsWith(w)&&E.charAt(S)==="/",H=T!=null&&(T===w||!u&&T.startsWith(w)&&T.charAt(w.length)==="/"),ee={isActive:M,isPending:H,isTransitioning:N},Y=M?c:void 0,le;typeof d=="function"?le=d(ee):le=[d,M?"active":null,H?"pending":null,N?"transitioning":null].filter(Boolean).join(" ");let F=typeof m=="function"?m(ee):m;return y.createElement(dt,{...h,"aria-current":Y,className:le,ref:j,style:F,to:f,viewTransition:b},typeof g=="function"?g(ee):g)});En.displayName="NavLink";var ey=y.forwardRef(({discover:i="render",fetcherKey:c,navigate:o,reloadDocument:d,replace:u,state:m,method:f=Wr,action:b,onSubmit:g,relative:h,preventScrollReset:j,viewTransition:C,...L},$)=>{let O=ny(),_=ry(b,{relative:h}),N=f.toLowerCase()==="get"?"get":"post",w=typeof b=="string"&&A0.test(b),E=T=>{if(g&&g(T),T.defaultPrevented)return;T.preventDefault();let S=T.nativeEvent.submitter,M=S?.getAttribute("formmethod")||f;O(S||T.currentTarget,{fetcherKey:c,method:M,navigate:o,replace:u,state:m,relative:h,preventScrollReset:j,viewTransition:C})};return y.createElement("form",{ref:$,method:N,action:_,onSubmit:d?g:E,...L,"data-discover":!w&&i==="render"?"true":void 0})});ey.displayName="Form";function ty(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function M0(i){let c=y.useContext(yl);return He(c,ty(i)),c}function sy(i,{target:c,replace:o,state:d,preventScrollReset:u,relative:m,viewTransition:f}={}){let b=Bd(),g=na(),h=Un(i,{relative:m});return y.useCallback(j=>{if(Lp(j,c)){j.preventDefault();let C=o!==void 0?o:Tn(g)===Tn(h);b(i,{replace:C,state:d,preventScrollReset:u,relative:m,viewTransition:f})}},[g,b,h,o,d,c,i,u,m,f])}var ay=0,ly=()=>`__${String(++ay)}__`;function ny(){let{router:i}=M0("useSubmit"),{basename:c}=y.useContext(is),o=Sp();return y.useCallback(async(d,u={})=>{let{action:m,method:f,encType:b,formData:g,body:h}=qp(d,c);if(u.navigate===!1){let j=u.fetcherKey||ly();await i.fetch(j,o,u.action||m,{preventScrollReset:u.preventScrollReset,formData:g,body:h,formMethod:u.method||f,formEncType:u.encType||b,flushSync:u.flushSync})}else await i.navigate(u.action||m,{preventScrollReset:u.preventScrollReset,formData:g,body:h,formMethod:u.method||f,formEncType:u.encType||b,replace:u.replace,state:u.state,fromRouteId:o,flushSync:u.flushSync,viewTransition:u.viewTransition})},[i,c,o])}function ry(i,{relative:c}={}){let{basename:o}=y.useContext(is),d=y.useContext(It);He(d,"useFormAction must be used inside a RouteContext");let[u]=d.matches.slice(-1),m={...Un(i||".",{relative:c})},f=na();if(i==null){m.search=f.search;let b=new URLSearchParams(m.search),g=b.getAll("index");if(g.some(j=>j==="")){b.delete("index"),g.filter(C=>C).forEach(C=>b.append("index",C));let j=b.toString();m.search=j?`?${j}`:""}}return(!i||i===".")&&u.route.index&&(m.search=m.search?m.search.replace(/^\?/,"?index&"):"?index"),o!=="/"&&(m.pathname=m.pathname==="/"?o:Ss([o,m.pathname])),Tn(m)}function iy(i,{relative:c}={}){let o=y.useContext(v0);He(o!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:d}=M0("useViewTransitionState"),u=Un(i,{relative:c});if(!o.isTransitioning)return!1;let m=Cs(o.currentLocation.pathname,d)||o.currentLocation.pathname,f=Cs(o.nextLocation.pathname,d)||o.nextLocation.pathname;return si(u.pathname,f)!=null||si(u.pathname,m)!=null}const R0=y.createContext(),xt=()=>{const i=y.useContext(R0);if(!i)throw new Error("useAuth must be used within an AuthProvider");return i},jt={USER_VIEW:"user:view",USER_EDIT:"user:edit",USER_DELETE:"user:delete",USER_CREATE:"user:create",MESSAGE_SEND:"message:send",SETTINGS_MANAGE:"settings:manage"},cy={admin:[jt.USER_VIEW,jt.USER_EDIT,jt.USER_DELETE,jt.USER_CREATE,jt.MESSAGE_SEND,jt.SETTINGS_MANAGE],manager:[jt.USER_VIEW,jt.USER_EDIT,jt.USER_CREATE,jt.MESSAGE_SEND],operator:[jt.USER_VIEW,jt.MESSAGE_SEND],viewer:[jt.USER_VIEW]},dy=({children:i})=>{const[c,o]=y.useState({id:1,name:"山田太郎",email:"yamada@example.com",role:"admin",avatar:null}),[d,u]=y.useState(!0),g={user:c,isAuthenticated:d,login:async h=>{console.log("Login:",h),u(!0)},logout:()=>{console.log("Logout"),o(null),u(!1)},setUser:o,PERMISSIONS:jt,hasPermission:h=>!c||!c.role?!1:(cy[c.role]||[]).includes(h)};return h0.createElement(R0.Provider,{value:g},i)};/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oy=i=>i.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),uy=i=>i.replace(/^([A-Z])|[\s-_]+(\w)/g,(c,o,d)=>d?d.toUpperCase():o.toLowerCase()),a0=i=>{const c=uy(i);return c.charAt(0).toUpperCase()+c.slice(1)},_0=(...i)=>i.filter((c,o,d)=>!!c&&c.trim()!==""&&d.indexOf(c)===o).join(" ").trim(),my=i=>{for(const c in i)if(c.startsWith("aria-")||c==="role"||c==="title")return!0};/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var xy={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hy=y.forwardRef(({color:i="currentColor",size:c=24,strokeWidth:o=2,absoluteStrokeWidth:d,className:u="",children:m,iconNode:f,...b},g)=>y.createElement("svg",{ref:g,...xy,width:c,height:c,stroke:i,strokeWidth:d?Number(o)*24/Number(c):o,className:_0("lucide",u),...!m&&!my(b)&&{"aria-hidden":"true"},...b},[...f.map(([h,j])=>y.createElement(h,j)),...Array.isArray(m)?m:[m]]));/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P=(i,c)=>{const o=y.forwardRef(({className:d,...u},m)=>y.createElement(hy,{ref:m,iconNode:c,className:_0(`lucide-${oy(a0(i))}`,`lucide-${i}`,d),...u}));return o.displayName=a0(i),o};/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fy=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],fl=P("activity",fy);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gy=[["path",{d:"M17 12H7",key:"16if0g"}],["path",{d:"M19 18H5",key:"18s9l3"}],["path",{d:"M21 6H3",key:"1jwq7v"}]],D0=P("align-center",gy);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const py=[["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M17 18H3",key:"1amg6g"}],["path",{d:"M21 6H3",key:"1jwq7v"}]],U0=P("align-left",py);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yy=[["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M21 18H7",key:"1ygte8"}],["path",{d:"M21 6H3",key:"1jwq7v"}]],L0=P("align-right",yy);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const by=[["path",{d:"m7 7 10 10",key:"1fmybs"}],["path",{d:"M17 7v10H7",key:"6fjiku"}]],jy=P("arrow-down-right",by);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vy=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Ud=P("arrow-left",vy);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ny=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],wy=P("arrow-right",Ny);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sy=[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]],wn=P("arrow-up-right",Sy);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cy=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],bl=P("bell",Cy);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ky=[["path",{d:"M6 12h9a4 4 0 0 1 0 8H7a1 1 0 0 1-1-1V5a1 1 0 0 1 1-1h7a4 4 0 0 1 0 8",key:"mg9rjx"}]],O0=P("bold",ky);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ty=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],ai=P("book-open",Ty);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ey=[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]],ea=P("bot",Ey);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ay=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],ci=P("calendar",Ay);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const My=[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],Ry=P("camera",My);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _y=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],ka=P("chart-column",_y);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dy=[["line",{x1:"12",x2:"12",y1:"20",y2:"10",key:"1vz5eb"}],["line",{x1:"18",x2:"18",y1:"20",y2:"4",key:"cun8e5"}],["line",{x1:"6",x2:"6",y1:"20",y2:"16",key:"hq0ia6"}]],l0=P("chart-no-axes-column-increasing",Dy);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uy=[["path",{d:"M18 6 7 17l-5-5",key:"116fxf"}],["path",{d:"m22 10-7.5 7.5L13 16",key:"ke71qq"}]],Fr=P("check-check",Uy);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ly=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],n0=P("check",Ly);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oy=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Cn=P("chevron-down",Oy);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zy=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],qy=P("chevron-right",zy);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hy=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],By=P("chevron-up",Hy);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $y=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],z0=P("circle-alert",$y);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zy=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],rt=P("circle-check-big",Zy);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gy=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Vy=P("circle-question-mark",Gy);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yy=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],ks=P("circle-x",Yy);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qy=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],ut=P("clock",Qy);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xy=[["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M14 2v2",key:"6buw04"}],["path",{d:"M16 8a1 1 0 0 1 1 1v8a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4V9a1 1 0 0 1 1-1h14a4 4 0 1 1 0 8h-1",key:"pwadti"}],["path",{d:"M6 2v2",key:"colzsn"}]],Ky=P("coffee",Xy);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jy=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],ws=P("copy",Jy);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iy=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],Fy=P("crown",Iy);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wy=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],ei=P("database",Wy);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Py=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],Gt=P("download",Py);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eb=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]],di=P("ellipsis",eb);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tb=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],li=P("external-link",tb);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sb=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],q0=P("eye-off",sb);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ab=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Ue=P("eye",ab);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lb=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],oi=P("file-text",lb);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nb=[["path",{d:"M4 22V4a1 1 0 0 1 .4-.8A6 6 0 0 1 8 2c3 0 5 2 7.333 2q2 0 3.067-.8A1 1 0 0 1 20 4v10a1 1 0 0 1-.4.8A6 6 0 0 1 16 16c-3 0-5-2-8-2a6 6 0 0 0-4 1.528",key:"1jaruq"}]],rb=P("flag",nb);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ib=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],H0=P("funnel",ib);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cb=[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]],xl=P("gift",cb);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const db=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],kn=P("globe",db);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ob=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]],B0=P("grid-3x3",ob);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ub=[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]],mb=P("hash",ub);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xb=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],Yd=P("heart",xb);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hb=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],r0=P("history",hb);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fb=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],$0=P("house",fb);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gb=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],An=P("image",gb);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pb=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],Ln=P("info",pb);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yb=[["line",{x1:"19",x2:"10",y1:"4",y2:"4",key:"15jd3p"}],["line",{x1:"14",x2:"5",y1:"20",y2:"20",key:"bu0au3"}],["line",{x1:"15",x2:"9",y1:"4",y2:"20",key:"uljnxc"}]],Z0=P("italic",yb);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bb=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],Ld=P("key",bb);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jb=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]],Qd=P("link",jb);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vb=[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]],G0=P("list",vb);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nb=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],wb=P("lock",Nb);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sb=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],V0=P("log-out",Sb);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cb=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],Y0=P("mail",Cb);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kb=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],Xd=P("map-pin",kb);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tb=[["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 18h16",key:"19g7jn"}],["path",{d:"M4 6h16",key:"1o0s65"}]],Mn=P("menu",Tb);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eb=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]],Zt=P("message-circle",Eb);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ab=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],Oe=P("message-square",Ab);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mb=[["path",{d:"M12 19v3",key:"npa21l"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["rect",{x:"9",y:"2",width:"6",height:"13",rx:"3",key:"s6n7sd"}]],Kd=P("mic",Mb);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rb=[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]],Rd=P("monitor",Rb);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _b=[["path",{d:"M12.586 12.586 19 19",key:"ea5xo7"}],["path",{d:"M3.688 3.037a.497.497 0 0 0-.651.651l6.5 15.999a.501.501 0 0 0 .947-.062l1.569-6.083a2 2 0 0 1 1.448-1.479l6.124-1.579a.5.5 0 0 0 .063-.947z",key:"277e5u"}]],Db=P("mouse-pointer",_b);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ub=[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]],Lb=P("music",Ub);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ob=[["path",{d:"m16 6-8.414 8.586a2 2 0 0 0 2.829 2.829l8.414-8.586a4 4 0 1 0-5.657-5.657l-8.379 8.551a6 6 0 1 0 8.485 8.485l8.379-8.551",key:"1miecu"}]],Q0=P("paperclip",Ob);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zb=[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],ta=P("pen-line",zb);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qb=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],Ca=P("pen",qb);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hb=[["path",{d:"M13 2a9 9 0 0 1 9 9",key:"1itnx2"}],["path",{d:"M13 6a5 5 0 0 1 5 5",key:"11nki7"}],["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],hl=P("phone-call",Hb);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bb=[["path",{d:"M16 2v6h6",key:"1mfrl5"}],["path",{d:"m22 2-6 6",key:"6f0sa0"}],["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],i0=P("phone-incoming",Bb);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $b=[["path",{d:"m16 2 6 6",key:"1gw87d"}],["path",{d:"m22 2-6 6",key:"6f0sa0"}],["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],c0=P("phone-missed",$b);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zb=[["path",{d:"m16 8 6-6",key:"oawc05"}],["path",{d:"M22 8V2h-6",key:"oqy2zc"}],["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],d0=P("phone-outgoing",Zb);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gb=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],aa=P("phone",Gb);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vb=[["path",{d:"M12 17v5",key:"bb1du9"}],["path",{d:"M15 9.34V7a1 1 0 0 1 1-1 2 2 0 0 0 0-4H7.89",key:"znwnzq"}],["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M9 9v1.76a2 2 0 0 1-1.11 1.79l-1.78.9A2 2 0 0 0 5 15.24V16a1 1 0 0 0 1 1h11",key:"c9qhm2"}]],Yb=P("pin-off",Vb);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qb=[["path",{d:"M12 17v5",key:"bb1du9"}],["path",{d:"M9 10.76a2 2 0 0 1-1.11 1.79l-1.78.9A2 2 0 0 0 5 15.24V16a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-.76a2 2 0 0 0-1.11-1.79l-1.78-.9A2 2 0 0 1 15 10.76V7a1 1 0 0 1 1-1 2 2 0 0 0 0-4H8a2 2 0 0 0 0 4 1 1 0 0 1 1 1z",key:"1nkz8b"}]],o0=P("pin",Qb);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xb=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],Kb=P("play",Xb);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jb=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],it=P("plus",Jb);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ib=[["path",{d:"M18.36 6.64A9 9 0 0 1 20.77 15",key:"dxknvb"}],["path",{d:"M6.16 6.16a9 9 0 1 0 12.68 12.68",key:"1x7qb5"}],["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],Fb=P("power-off",Ib);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wb=[["path",{d:"M12 2v10",key:"mnfbl"}],["path",{d:"M18.4 6.6a9 9 0 1 1-12.77.04",key:"obofu9"}]],Pb=P("power",Wb);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ej=[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]],Sn=P("qr-code",ej);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tj=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],Vt=P("refresh-cw",tj);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sj=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Ts=P("save",sj);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aj=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],mt=P("search",aj);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lj=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],We=P("send",lj);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nj=[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]],rj=P("server",nj);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ij=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],_t=P("settings",ij);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cj=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],dj=P("share-2",cj);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oj=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],la=P("shield",oj);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uj=[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]],ti=P("smartphone",uj);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mj=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]],Es=P("smile",mj);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xj=[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],X0=P("square-check-big",xj);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hj=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],K0=P("square-pen",hj);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fj=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]],J0=P("square",fj);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gj=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],rs=P("star",gj);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pj=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],I0=P("tag",pj);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yj=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],sa=P("target",yj);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bj=[["path",{d:"M14.5 2v17.5c0 1.4-1.1 2.5-2.5 2.5c-1.4 0-2.5-1.1-2.5-2.5V2",key:"125lnx"}],["path",{d:"M8.5 2h7",key:"csnxdl"}],["path",{d:"M14.5 16h-5",key:"1ox875"}]],jj=P("test-tube",bj);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vj=[["circle",{cx:"9",cy:"12",r:"3",key:"u3jwor"}],["rect",{width:"20",height:"14",x:"2",y:"5",rx:"7",key:"g7kal2"}]],u0=P("toggle-left",vj);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nj=[["circle",{cx:"15",cy:"12",r:"3",key:"1afu0r"}],["rect",{width:"20",height:"14",x:"2",y:"5",rx:"7",key:"g7kal2"}]],m0=P("toggle-right",Nj);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wj=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],vt=P("trash-2",wj);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sj=[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]],Cj=P("trending-down",Sj);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kj=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],Jt=P("trending-up",kj);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tj=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Ta=P("triangle-alert",Tj);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ej=[["path",{d:"M6 4v6a6 6 0 0 0 12 0V4",key:"9kb039"}],["line",{x1:"4",x2:"20",y1:"20",y2:"20",key:"nun2al"}]],F0=P("underline",Ej);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Aj=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],ls=P("upload",Aj);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mj=[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Rj=P("user-check",Mj);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _j=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],W0=P("user-plus",_j);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dj=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]],ni=P("user-x",Dj);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uj=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],st=P("user",Uj);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lj=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],_e=P("users",Lj);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oj=[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]],Od=P("video",Oj);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zj=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]],qj=P("volume-x",zj);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hj=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],ot=P("x",Hj);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bj=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],P0=P("zap",Bj),$j=({setSidebarOpen:i})=>{const{user:c,logout:o}=xt(),[d,u]=y.useState(!1),[m,f]=y.useState(!1),b=y.useRef(null),g=y.useRef(null);y.useEffect(()=>{const C=L=>{b.current&&!b.current.contains(L.target)&&u(!1),g.current&&!g.current.contains(L.target)&&f(!1)};return document.addEventListener("mousedown",C),()=>document.removeEventListener("mousedown",C)},[]);const h=[{id:1,message:"新しいユーザーが登録されました",time:"5分前",unread:!0},{id:2,message:"プッシュ通知の送信が完了しました",time:"10分前",unread:!0},{id:3,message:"システムメンテナンスのお知らせ",time:"1時間前",unread:!1}],j=h.filter(C=>C.unread).length;return e.jsxs("div",{className:"sticky top-0 z-20 flex-shrink-0 flex h-16 bg-white/90 backdrop-blur-xl shadow-lg shadow-black/5 border-b border-gray-200/50",children:[e.jsxs("button",{type:"button",className:"px-4 border-r border-gray-200/50 text-gray-500 hover:text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-green-500 lg:hidden transition-all duration-200",onClick:()=>i(!0),children:[e.jsx("span",{className:"sr-only",children:"サイドバーを開く"}),e.jsx(Mn,{className:"h-6 w-6"})]}),e.jsxs("div",{className:"flex-1 px-4 flex justify-between",children:[e.jsx("div",{className:"flex-1 flex items-center",children:e.jsxs("div",{className:"w-full max-w-lg mx-auto",children:[e.jsx("label",{htmlFor:"search-field",className:"sr-only",children:"検索"}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 flex items-center pointer-events-none pl-3",children:e.jsx(mt,{className:"h-5 w-5 text-gray-400"})}),e.jsx("input",{id:"search-field",className:"block w-full pl-10 pr-3 py-2 border border-gray-200 rounded-xl bg-gray-50/50 text-gray-900 placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent focus:bg-white transition-all duration-200",placeholder:"検索...",type:"search"})]})]})}),e.jsxs("div",{className:"ml-4 flex items-center md:ml-6 space-x-4",children:[e.jsxs("div",{className:"relative",ref:g,children:[e.jsxs("button",{className:"relative p-2 rounded-xl bg-gray-50/50 text-gray-500 hover:text-gray-700 hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-green-500 transition-all duration-200",onClick:()=>f(!m),children:[e.jsx("span",{className:"sr-only",children:"通知を表示"}),e.jsx(bl,{className:"h-5 w-5"}),j>0&&e.jsx("span",{className:"absolute -top-1 -right-1 h-5 w-5 bg-gradient-to-r from-red-500 to-pink-500 text-white rounded-full text-xs flex items-center justify-center font-bold shadow-lg",children:j})]}),m&&e.jsx("div",{className:"origin-top-right absolute right-0 mt-2 w-80 rounded-md shadow-lg bg-white ring-1 ring-black ring-opacity-5",children:e.jsxs("div",{className:"py-1",children:[e.jsx("div",{className:"px-4 py-2 border-b border-gray-200",children:e.jsx("h3",{className:"text-sm font-medium text-gray-900",children:"通知"})}),h.map(C=>e.jsxs("div",{className:`px-4 py-3 hover:bg-gray-50 ${C.unread?"bg-blue-50":""}`,children:[e.jsx("p",{className:"text-sm text-gray-900",children:C.message}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:C.time})]},C.id)),e.jsx("div",{className:"px-4 py-2 border-t border-gray-200",children:e.jsx("button",{className:"text-sm text-green-600 hover:text-green-900",children:"すべて表示"})})]})})]}),e.jsxs("div",{className:"relative",ref:b,children:[e.jsxs("button",{className:"max-w-xs bg-white flex items-center text-sm rounded-full focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500",onClick:()=>u(!d),children:[e.jsx("span",{className:"sr-only",children:"ユーザーメニューを開く"}),e.jsx("div",{className:"h-8 w-8 rounded-full overflow-hidden bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center ring-2 ring-white shadow-sm",children:c?.avatar?e.jsx("img",{src:c.avatar,alt:c.name,className:"h-full w-full object-cover"}):e.jsx("span",{className:"text-white text-sm font-semibold",children:c?.name?c.name.charAt(0).toUpperCase():c?.email?.charAt(0).toUpperCase()||"U"})}),e.jsxs("div",{className:"ml-3 hidden md:block",children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:c?.name||c?.email?.split("@")[0]||"ゲストユーザー"}),e.jsxs("div",{className:"text-xs text-gray-500 flex items-center space-x-2",children:[e.jsx("span",{children:c?.email||"メールアドレスなし"}),e.jsx("span",{className:"w-1 h-1 bg-gray-300 rounded-full"}),e.jsx("span",{className:`px-1.5 py-0.5 rounded-full text-xs font-medium ${c?.role==="super_admin"?"bg-purple-100 text-purple-700":c?.role==="admin"?"bg-red-100 text-red-700":c?.role==="manager"?"bg-blue-100 text-blue-700":c?.role==="operator"?"bg-green-100 text-green-700":"bg-gray-100 text-gray-700"}`,children:c?.role==="super_admin"?"スーパー管理者":c?.role==="admin"?"管理者":c?.role==="manager"?"マネージャー":c?.role==="operator"?"オペレーター":"閲覧者"})]})]}),e.jsx("svg",{className:"ml-2 h-4 w-4 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),d&&e.jsx("div",{className:"origin-top-right absolute right-0 mt-2 w-48 rounded-md shadow-lg bg-white ring-1 ring-black ring-opacity-5",children:e.jsxs("div",{className:"py-1",children:[e.jsxs("div",{className:"px-4 py-3 border-b border-gray-200 bg-gradient-to-r from-blue-50 to-purple-50",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"h-10 w-10 rounded-full overflow-hidden bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center",children:c?.avatar?e.jsx("img",{src:c.avatar,alt:c.name,className:"h-full w-full object-cover"}):e.jsx("span",{className:"text-white text-sm font-semibold",children:c?.name?c.name.charAt(0).toUpperCase():c?.email?.charAt(0).toUpperCase()||"U"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm font-semibold text-gray-900",children:c?.name||c?.email?.split("@")[0]||"ゲストユーザー"}),e.jsx("p",{className:"text-xs text-gray-600",children:c?.email||"メールアドレスなし"}),e.jsxs("div",{className:"mt-1 flex items-center space-x-2",children:[e.jsx("span",{className:`inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium ${c?.role==="super_admin"?"bg-purple-100 text-purple-800":c?.role==="admin"?"bg-red-100 text-red-800":c?.role==="manager"?"bg-blue-100 text-blue-800":c?.role==="operator"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:c?.role==="super_admin"?"スーパー管理者":c?.role==="admin"?"管理者":c?.role==="manager"?"マネージャー":c?.role==="operator"?"オペレーター":"閲覧者"}),c?.isActive!==void 0&&e.jsx("span",{className:`inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium ${c.isActive?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:c.isActive?"アクティブ":"無効"})]})]})]}),c?.lastLoginAt&&e.jsxs("div",{className:"mt-2 text-xs text-gray-500",children:["最終ログイン: ",new Date(c.lastLoginAt).toLocaleString("ja-JP")]})]}),e.jsxs("a",{href:"/profile",className:"group flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",children:[e.jsx(st,{className:"mr-3 h-4 w-4 text-gray-400 group-hover:text-gray-500"}),"プロフィール"]}),e.jsxs("a",{href:"/settings",className:"group flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",children:[e.jsx(_t,{className:"mr-3 h-4 w-4 text-gray-400 group-hover:text-gray-500"}),"設定"]}),e.jsxs("button",{onClick:o,className:"group flex w-full items-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",children:[e.jsx(V0,{className:"mr-3 h-4 w-4 text-gray-400 group-hover:text-gray-500"}),"ログアウト"]})]})})]})]})]})]})},eh=()=>{const[i,c]=y.useState({width:typeof window<"u"?window.innerWidth:1024,height:typeof window<"u"?window.innerHeight:768}),[o,d]=y.useState("desktop");y.useEffect(()=>{const m=()=>{const f=window.innerWidth,b=window.innerHeight;c({width:f,height:b}),f<640?d("mobile"):f<1024?d("tablet"):d("desktop")};return m(),window.addEventListener("resize",m),()=>{window.removeEventListener("resize",m)}},[]);const u={sm:i.width>=640,md:i.width>=768,lg:i.width>=1024,xl:i.width>=1280,"2xl":i.width>=1536};return{screenSize:i,deviceType:o,breakpoints:u,isMobile:o==="mobile",isTablet:o==="tablet",isDesktop:o==="desktop"}},Zj=({showDetails:i=!1})=>{const{user:c,logout:o}=xt(),{isMobile:d}=eh(),[u,m]=y.useState(!1),f=y.useRef(null);y.useEffect(()=>{const j=C=>{f.current&&!f.current.contains(C.target)&&m(!1)};return document.addEventListener("mousedown",j),()=>document.removeEventListener("mousedown",j)},[]);const g=(j=>{switch(j){case"admin":return{icon:Fy,label:"管理者",bgColor:"bg-gradient-to-r from-purple-500 to-indigo-600",textColor:"text-purple-600",bgLight:"bg-purple-50"};case"manager":return{icon:la,label:"マネージャー",bgColor:"bg-gradient-to-r from-blue-500 to-blue-600",textColor:"text-blue-600",bgLight:"bg-blue-50"};case"operator":return{icon:rs,label:"オペレーター",bgColor:"bg-gradient-to-r from-green-500 to-emerald-600",textColor:"text-green-600",bgLight:"bg-green-50"};default:return{icon:st,label:"ユーザー",bgColor:"bg-gradient-to-r from-gray-500 to-gray-600",textColor:"text-gray-600",bgLight:"bg-gray-50"}}})(c?.role),h=g.icon;return e.jsxs("div",{className:"relative",ref:f,children:[e.jsxs("button",{onClick:()=>m(!u),className:"flex items-center space-x-3 w-full px-3 py-2 text-left hover:bg-gray-50 rounded-xl transition-all duration-200 group",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:`w-10 h-10 rounded-xl ${g.bgColor} flex items-center justify-center shadow-lg`,children:e.jsx("span",{className:"text-white font-semibold text-sm",children:c?.name?c.name.charAt(0).toUpperCase():"U"})}),e.jsx("div",{className:"absolute -bottom-0.5 -right-0.5 w-3 h-3 bg-green-400 rounded-full border-2 border-white shadow-sm"})]}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:c?.name||"ユーザー"}),e.jsxs("div",{className:`inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium ${g.bgLight} ${g.textColor}`,children:[e.jsx(h,{className:"h-3 w-3 mr-1"}),g.label]})]}),e.jsx("p",{className:"text-xs text-gray-500 truncate",children:c?.email||"user@example.com"})]}),e.jsx(Cn,{className:`h-4 w-4 text-gray-400 transition-transform duration-200 ${u?"transform rotate-180":""}`})]}),u&&e.jsxs("div",{className:`absolute right-0 ${d?"bottom-full mb-2":"top-full mt-2"} w-64 bg-white rounded-xl shadow-xl ring-1 ring-black ring-opacity-5 animate-in slide-in-from-bottom-2 duration-200 z-50`,children:[e.jsxs("div",{className:"p-4 border-b border-gray-100",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:`w-12 h-12 rounded-xl ${g.bgColor} flex items-center justify-center shadow-lg`,children:e.jsx("span",{className:"text-white font-semibold",children:c?.name?c.name.charAt(0).toUpperCase():"U"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:c?.name||"ユーザー"}),e.jsx("p",{className:"text-xs text-gray-500",children:c?.email||"user@example.com"}),e.jsxs("div",{className:`inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium mt-1 ${g.bgLight} ${g.textColor}`,children:[e.jsx(h,{className:"h-3 w-3 mr-1"}),g.label]})]})]}),e.jsxs("div",{className:"mt-3 grid grid-cols-2 gap-3",children:[e.jsxs("div",{className:"bg-gray-50 rounded-lg p-2 text-center",children:[e.jsx("div",{className:"text-lg font-semibold text-gray-900",children:"147"}),e.jsx("div",{className:"text-xs text-gray-500",children:"送信メッセージ"})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg p-2 text-center",children:[e.jsx("div",{className:"text-lg font-semibold text-gray-900",children:"23"}),e.jsx("div",{className:"text-xs text-gray-500",children:"今日のアクティビティ"})]})]})]}),e.jsxs("div",{className:"p-2",children:[e.jsxs("button",{className:"w-full flex items-center space-x-3 px-3 py-2 text-left text-sm text-gray-700 hover:bg-gray-50 rounded-lg transition-colors duration-150",children:[e.jsx(_t,{className:"h-4 w-4 text-gray-500"}),e.jsx("span",{children:"設定"})]}),e.jsxs("button",{className:"w-full flex items-center space-x-3 px-3 py-2 text-left text-sm text-gray-700 hover:bg-gray-50 rounded-lg transition-colors duration-150",children:[e.jsx(st,{className:"h-4 w-4 text-gray-500"}),e.jsx("span",{children:"プロフィール"})]}),e.jsx("hr",{className:"my-2 border-gray-100"}),e.jsxs("button",{onClick:o,className:"w-full flex items-center space-x-3 px-3 py-2 text-left text-sm text-red-600 hover:bg-red-50 rounded-lg transition-colors duration-150",children:[e.jsx(V0,{className:"h-4 w-4"}),e.jsx("span",{children:"ログアウト"})]})]})]})]})},Gj=({sidebarOpen:i,setSidebarOpen:c,userRole:o})=>{const d=na(),m=[{name:"ダッシュボード",href:"/",icon:$0,roles:["admin","manager","operator","viewer"]},{name:"メッセージ管理",href:"/messages",icon:Oe,roles:["admin","manager","operator"],subItems:[{name:"メッセージ作成",href:"/messages"},{name:"一斉配信",href:"/test-broadcast"},{name:"配信履歴",href:"/broadcast-history"},{name:"テンプレート",href:"/templates"},{name:"友だち獲得",href:"/friend-growth"}]},{name:"チャット",href:"/chat",icon:Oe,roles:["admin","manager","operator"],subItems:[{name:"チャット管理",href:"/chat"},{name:"LINE通話要請",href:"/call-request"},{name:"通話履歴",href:"/call-history"}]},{name:"自動化",href:"/automation",icon:ea,roles:["admin","manager","operator"],subItems:[{name:"自動返信",href:"/automation/auto-reply"}]},{name:"絵文字・スタンプ",href:"/emoji-manager",icon:Es,roles:["admin","manager","operator"]},{name:"ユーザー管理",href:"/users",icon:_e,roles:["admin","manager"]},{name:"プッシュ通知",href:"/notifications",icon:bl,roles:["admin","manager","operator"]},{name:"分析・統計",href:"/analytics",icon:ka,roles:["admin","manager","operator","viewer"]},{name:"LINE設定",href:"/line-settings",icon:_t,roles:["admin","manager"]},{name:"システム設定",href:"/system",icon:_t,roles:["admin"]},{name:"ヘルプ・取扱説明書",href:"/user-guide",icon:Vy,roles:["admin","manager","operator","viewer"]}].filter(f=>f.roles.includes(o));return e.jsxs(e.Fragment,{children:[i&&e.jsxs("div",{className:"fixed inset-0 flex z-40 lg:hidden",children:[e.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-75",onClick:()=>c(!1)}),e.jsxs("div",{className:"relative flex-1 flex flex-col max-w-xs w-full bg-white",children:[e.jsx("div",{className:"absolute top-0 right-0 -mr-12 pt-2",children:e.jsxs("button",{type:"button",className:"ml-1 flex items-center justify-center h-10 w-10 rounded-full focus:outline-none focus:ring-2 focus:ring-inset focus:ring-white",onClick:()=>c(!1),children:[e.jsx("span",{className:"sr-only",children:"サイドバーを閉じる"}),e.jsx(ot,{className:"h-6 w-6 text-white"})]})}),e.jsx(x0,{navigation:m,currentPath:d.pathname,setSidebarOpen:c})]})]}),e.jsx("div",{className:"hidden lg:flex lg:w-64 lg:flex-col lg:fixed lg:inset-y-0",children:e.jsx(x0,{navigation:m,currentPath:d.pathname})})]})},x0=({navigation:i,currentPath:c,setSidebarOpen:o})=>{const[d,u]=h0.useState(new Set),m=f=>{const b=new Set(d);b.has(f)?b.delete(f):b.add(f),u(b)};return e.jsxs("div",{className:"flex-1 flex flex-col min-h-0 bg-white/95 backdrop-blur-xl shadow-2xl border-r border-white/20",children:[e.jsxs("div",{className:"flex items-center h-16 flex-shrink-0 px-4 bg-gradient-to-r from-green-600 via-green-500 to-emerald-500 relative overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-green-600/90 to-emerald-500/90"}),e.jsxs("div",{className:"absolute inset-0 opacity-20",children:[e.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-white rounded-full -translate-y-16 translate-x-16"}),e.jsx("div",{className:"absolute bottom-0 left-0 w-24 h-24 bg-white/50 rounded-full translate-y-12 -translate-x-12"})]}),e.jsxs("div",{className:"flex items-center relative z-10",children:[e.jsx("div",{className:"w-8 h-8 bg-white rounded-xl flex items-center justify-center shadow-lg",children:e.jsx("span",{className:"text-green-600 font-bold text-lg",children:"L"})}),e.jsx("h1",{className:"ml-3 text-white text-lg font-bold tracking-wide",children:"LINE管理"})]})]}),e.jsxs("div",{className:"flex-1 flex flex-col overflow-y-auto",children:[e.jsx("nav",{className:"flex-1 px-2 py-4 space-y-1",children:i.map(f=>{const b=c===f.href||f.href!=="/"&&c.startsWith(f.href),g=f.subItems&&f.subItems.length>0,h=d.has(f.name);return e.jsxs("div",{children:[g?e.jsxs("button",{onClick:()=>m(f.name),className:`w-full group flex items-center px-3 py-3 text-sm font-medium rounded-xl transition-all duration-200 ${b?"bg-gradient-to-r from-green-500 to-emerald-500 text-white shadow-lg shadow-green-500/25":"text-gray-600 hover:bg-gradient-to-r hover:from-gray-50 hover:to-gray-100 hover:text-gray-900 hover:shadow-md"}`,children:[e.jsx(f.icon,{className:`mr-3 flex-shrink-0 h-5 w-5 transition-all duration-200 ${b?"text-white":"text-gray-400 group-hover:text-green-500"}`}),e.jsx("span",{className:"flex-1 text-left",children:f.name}),e.jsx("svg",{className:`w-4 h-4 transition-transform duration-200 ${h?"transform rotate-90":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]}):e.jsxs(En,{to:f.href,onClick:()=>o&&o(!1),className:({isActive:j})=>`group flex items-center px-3 py-3 text-sm font-medium rounded-xl transition-all duration-200 ${b||j?"bg-gradient-to-r from-green-500 to-emerald-500 text-white shadow-lg shadow-green-500/25":"text-gray-600 hover:bg-gradient-to-r hover:from-gray-50 hover:to-gray-100 hover:text-gray-900 hover:shadow-md"}`,children:[e.jsx(f.icon,{className:`mr-3 flex-shrink-0 h-5 w-5 transition-all duration-200 ${b?"text-white":"text-gray-400 group-hover:text-green-500"}`}),f.name]}),g&&h&&e.jsx("div",{className:"ml-6 mt-2 space-y-1 animate-in slide-in-from-top-1 duration-200",children:f.subItems.map(j=>{const C=c===j.href;return e.jsxs(En,{to:j.href,onClick:()=>o&&o(!1),className:`group flex items-center px-3 py-2 text-sm rounded-lg transition-all duration-200 ${C?"bg-green-50 text-green-700 font-medium shadow-sm border-l-2 border-green-400":"text-gray-500 hover:bg-gray-50 hover:text-gray-700 hover:translate-x-1"}`,children:[e.jsx("div",{className:`w-2 h-2 rounded-full mr-3 flex-shrink-0 transition-colors duration-200 ${C?"bg-green-400":"bg-gray-300"}`}),j.name]},j.name)})})]},f.name)})}),e.jsx("div",{className:"flex-shrink-0 border-t border-gray-200/50 p-4",children:e.jsx(Zj,{})})]})]})},Vj=({userRole:i})=>{const[c,o]=y.useState(!1),{isMobile:d}=eh();if(!d)return null;const u=[{name:"ダッシュボード",href:"/",icon:$0,roles:["admin","manager","operator","viewer"]},{name:"メッセージ",href:"/messages",icon:Oe,roles:["admin","manager","operator"]},{name:"ユーザー",href:"/users",icon:_e,roles:["admin","manager"]},{name:"分析",href:"/analytics",icon:ka,roles:["admin","manager","operator","viewer"]}],m=[{name:"通知",href:"/notifications",icon:bl,roles:["admin","manager","operator"]},{name:"設定",href:"/system",icon:_t,roles:["admin"]}],f=u.filter(g=>g.roles.includes(i)),b=m.filter(g=>g.roles.includes(i));return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"fixed bottom-0 left-0 right-0 z-50 bg-white/95 backdrop-blur-xl border-t border-gray-200/50 shadow-lg",children:[e.jsx("div",{className:"px-4 py-2",children:e.jsxs("div",{className:"flex items-center justify-around",children:[f.map(g=>e.jsxs(En,{to:g.href,className:({isActive:h})=>`flex flex-col items-center px-3 py-2 text-xs font-medium transition-all duration-200 rounded-xl ${h?"text-green-600 bg-green-50":"text-gray-500 hover:text-green-600 hover:bg-gray-50"}`,children:[e.jsx(g.icon,{className:"h-5 w-5 mb-1"}),e.jsx("span",{className:"truncate max-w-[50px]",children:g.name})]},g.name)),e.jsxs("button",{onClick:()=>o(!c),className:"flex flex-col items-center px-3 py-2 text-xs font-medium text-gray-500 hover:text-green-600 hover:bg-gray-50 transition-all duration-200 rounded-xl",children:[c?e.jsx(By,{className:"h-5 w-5 mb-1"}):e.jsx(Mn,{className:"h-5 w-5 mb-1"}),e.jsx("span",{children:"その他"})]})]})}),c&&e.jsx("div",{className:"border-t border-gray-200/50 bg-white/98 backdrop-blur-xl",children:e.jsx("div",{className:"px-4 py-3",children:e.jsx("div",{className:"grid grid-cols-2 gap-2",children:b.map(g=>e.jsxs(En,{to:g.href,onClick:()=>o(!1),className:({isActive:h})=>`flex items-center px-4 py-3 text-sm font-medium transition-all duration-200 rounded-xl ${h?"text-green-600 bg-green-50 shadow-sm":"text-gray-700 hover:text-green-600 hover:bg-gray-50"}`,children:[e.jsx(g.icon,{className:"h-4 w-4 mr-3"}),g.name]},g.name))})})})]}),e.jsx("div",{className:"h-20"})]})},Yj=()=>{const[i,c]=y.useState(!1),{user:o}=xt();return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-50 flex",children:[e.jsx(Gj,{sidebarOpen:i,setSidebarOpen:c,userRole:o?.role}),e.jsxs("div",{className:"flex-1 flex flex-col lg:pl-64 transition-all duration-300",children:[e.jsx($j,{setSidebarOpen:c}),e.jsxs("main",{className:"flex-1 relative",children:[e.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[e.jsx("div",{className:"absolute -top-40 -right-40 w-80 h-80 bg-gradient-to-br from-blue-400/20 to-purple-600/20 rounded-full blur-3xl"}),e.jsx("div",{className:"absolute -bottom-40 -left-40 w-96 h-96 bg-gradient-to-tr from-green-400/15 to-blue-600/15 rounded-full blur-3xl"})]}),e.jsx("div",{className:"relative z-10 py-6 sm:py-8",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsx(Ep,{})})})]}),e.jsx(Vj,{userRole:o?.role})]})]})},Qj=()=>{const[i,c]=y.useState({type:"text",content:"",quickReply:[],actions:[]}),[o,d]=y.useState({bold:!1,italic:!1,underline:!1,align:"left",color:"#000000"}),[u,m]=y.useState([]),[f,b]=y.useState(null),[g,h]=y.useState("individual"),[j,C]=y.useState(!1),[L,$]=y.useState(""),[O]=y.useState([{id:1,name:"カフェ山田",displayName:"@cafe_yamada",followers:1250},{id:2,name:"美容室サクラ",displayName:"@sakura_beauty",followers:890},{id:3,name:"フィットネスジム",displayName:"@fitness_gym",followers:2100}]),[_]=y.useState([{id:1,name:"田中太郎",displayName:"Taro",avatar:"",lastActive:"2時間前",isOnline:!0},{id:2,name:"佐藤花子",displayName:"Hanako",avatar:"",lastActive:"1日前",isOnline:!1},{id:3,name:"山田次郎",displayName:"Jiro",avatar:"",lastActive:"3時間前",isOnline:!0},{id:4,name:"鈴木美咲",displayName:"Misaki",avatar:"",lastActive:"30分前",isOnline:!0},{id:5,name:"高橋健一",displayName:"Kenichi",avatar:"",lastActive:"2日前",isOnline:!1}]),N=_.filter(M=>M.name.toLowerCase().includes(L.toLowerCase())||M.displayName.toLowerCase().includes(L.toLowerCase())),w=y.useCallback(M=>{c(H=>({...H,content:M.target.value}))},[]),E=M=>{m(H=>H.find(Y=>Y.id===M.id)?H.filter(Y=>Y.id!==M.id):[...H,M])},T=()=>{u.length===N.length?m([]):m(N)},S=()=>{if(!i.content.trim()){alert("メッセージ内容を入力してください");return}if(!f){alert("送信元の公式LINEアカウントを選択してください");return}if(g==="individual"&&u.length===0){alert("送信先のユーザーを選択してください");return}const M={from:f,to:g==="broadcast"?"全ユーザー":u,type:g,content:i.content,quickReply:i.quickReply,timestamp:new Date};console.log("Sending message:",M),alert(`メッセージを送信しました！
送信先: ${g==="broadcast"?"全ユーザー":u.length+"人"}`),c({type:"text",content:"",quickReply:[],actions:[]}),m([])};return e.jsxs("div",{className:"h-full bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-50 flex flex-col",children:[e.jsx("div",{className:"bg-white/90 backdrop-blur-xl border-b border-gray-200/50 p-6 shadow-sm",children:e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-blue-500 to-purple-500 rounded-2xl flex items-center justify-center shadow-lg",children:e.jsx(Oe,{className:"h-5 w-5 text-white"})}),e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"メッセージエディター"})]})})}),e.jsx("div",{className:"flex-1 p-6",children:e.jsx("div",{className:"max-w-4xl mx-auto",children:e.jsxs("div",{className:"bg-white/70 backdrop-blur-xl rounded-2xl shadow-lg shadow-black/5 border border-white/20 p-8",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"送信元公式LINEアカウント"}),e.jsxs("select",{value:f?.id||"",onChange:M=>{const H=O.find(ee=>ee.id===parseInt(M.target.value));b(H||null)},className:"w-full p-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsx("option",{value:"",children:"送信元を選択してください"}),O.map(M=>e.jsxs("option",{value:M.id,children:[M.name," (",M.displayName,")"]},M.id))]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"送信方法"}),e.jsxs("div",{className:"flex space-x-4",children:[e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"radio",name:"recipientType",value:"individual",checked:g==="individual",onChange:M=>h(M.target.value),className:"mr-2"}),e.jsx(st,{className:"h-4 w-4 mr-1"}),"個別送信"]}),e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"radio",name:"recipientType",value:"broadcast",checked:g==="broadcast",onChange:M=>h(M.target.value),className:"mr-2"}),e.jsx(_e,{className:"h-4 w-4 mr-1"}),"一斉送信"]})]})]}),g==="individual"&&e.jsxs("div",{className:"mb-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:["送信先ユーザー (",u.length,"人選択中)"]}),e.jsx("button",{onClick:()=>C(!j),className:"px-3 py-1 text-sm bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:j?"閉じる":"ユーザー選択"})]}),u.length>0&&e.jsx("div",{className:"flex flex-wrap gap-2 mb-2",children:u.map(M=>e.jsxs("span",{className:"inline-flex items-center px-3 py-1 bg-blue-100 text-blue-800 text-sm rounded-full",children:[M.name,e.jsx("button",{onClick:()=>E(M),className:"ml-2 hover:text-blue-600",children:"×"})]},M.id))}),j&&e.jsxs("div",{className:"border border-gray-200 rounded-xl p-4 bg-gray-50 max-h-64 overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("input",{type:"text",placeholder:"ユーザーを検索...",value:L,onChange:M=>$(M.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg text-sm mr-3"}),e.jsx("button",{onClick:T,className:"px-3 py-2 text-sm bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors",children:u.length===N.length?"全解除":"全選択"})]}),e.jsx("div",{className:"space-y-2",children:N.map(M=>{const H=u.find(ee=>ee.id===M.id);return e.jsxs("div",{onClick:()=>E(M),className:`flex items-center p-2 rounded-lg cursor-pointer transition-colors ${H?"bg-blue-100 text-blue-900":"hover:bg-white"}`,children:[H?e.jsx(X0,{className:"h-4 w-4 mr-3 text-blue-600"}):e.jsx(J0,{className:"h-4 w-4 mr-3 text-gray-400"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"font-medium text-sm",children:M.name}),e.jsxs("div",{className:"text-xs text-gray-500",children:[M.displayName," • ",M.lastActive,M.isOnline&&e.jsx("span",{className:"ml-2 inline-block w-2 h-2 bg-green-500 rounded-full"})]})]})]},M.id)})})]})]}),g==="broadcast"&&e.jsx("div",{className:"mb-6 p-4 bg-yellow-50 border border-yellow-200 rounded-xl",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(_e,{className:"h-5 w-5 text-yellow-600 mr-2"}),e.jsxs("span",{className:"text-sm font-medium text-yellow-800",children:["すべてのユーザー（",f?.followers||0,"人）に一斉送信されます"]})]})}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"メッセージ内容"}),e.jsxs("div",{className:"mb-2 flex items-center space-x-2 p-2 bg-gray-50 rounded",children:[e.jsx("button",{type:"button",onClick:()=>d(M=>({...M,bold:!M.bold})),className:`p-2 rounded transition-colors ${o.bold?"bg-blue-100 text-blue-600":"hover:bg-gray-200"}`,children:e.jsx(O0,{className:"h-4 w-4"})}),e.jsx("button",{type:"button",onClick:()=>d(M=>({...M,italic:!M.italic})),className:`p-2 rounded transition-colors ${o.italic?"bg-blue-100 text-blue-600":"hover:bg-gray-200"}`,children:e.jsx(Z0,{className:"h-4 w-4"})}),e.jsx("button",{type:"button",onClick:()=>d(M=>({...M,underline:!M.underline})),className:`p-2 rounded transition-colors ${o.underline?"bg-blue-100 text-blue-600":"hover:bg-gray-200"}`,children:e.jsx(F0,{className:"h-4 w-4"})}),e.jsx("div",{className:"w-px h-6 bg-gray-300"}),e.jsx("button",{type:"button",onClick:()=>d(M=>({...M,align:"left"})),className:`p-2 rounded transition-colors ${o.align==="left"?"bg-blue-100 text-blue-600":"hover:bg-gray-200"}`,children:e.jsx(U0,{className:"h-4 w-4"})}),e.jsx("button",{type:"button",onClick:()=>d(M=>({...M,align:"center"})),className:`p-2 rounded transition-colors ${o.align==="center"?"bg-blue-100 text-blue-600":"hover:bg-gray-200"}`,children:e.jsx(D0,{className:"h-4 w-4"})}),e.jsx("button",{type:"button",onClick:()=>d(M=>({...M,align:"right"})),className:`p-2 rounded transition-colors ${o.align==="right"?"bg-blue-100 text-blue-600":"hover:bg-gray-200"}`,children:e.jsx(L0,{className:"h-4 w-4"})})]}),e.jsx("textarea",{value:i.content,onChange:w,placeholder:"メッセージを入力してください...",className:"w-full h-32 p-3 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none",style:{fontWeight:o.bold?"bold":"normal",fontStyle:o.italic?"italic":"normal",textDecoration:o.underline?"underline":"none",textAlign:o.align,color:o.color}})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"クイックリプライ"}),e.jsxs("div",{className:"space-y-2",children:[i.quickReply.map((M,H)=>e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"text",value:M.label||"",onChange:ee=>{const Y=[...i.quickReply];Y[H]={...M,label:ee.target.value},c(le=>({...le,quickReply:Y}))},className:"flex-1 p-2 border border-gray-300 rounded-md",placeholder:"クイックリプライのテキスト"}),e.jsx("button",{type:"button",onClick:()=>{const ee=i.quickReply.filter((Y,le)=>le!==H);c(Y=>({...Y,quickReply:ee}))},className:"p-2 text-red-600 hover:bg-red-50 rounded transition-colors",children:e.jsx(vt,{className:"h-4 w-4"})})]},H)),e.jsxs("button",{type:"button",onClick:()=>{const M=[...i.quickReply,{label:"",value:"",type:"text"}];c(H=>({...H,quickReply:M}))},className:"w-full p-2 border-2 border-dashed border-gray-300 rounded-md text-gray-600 hover:border-gray-400 hover:text-gray-800 flex items-center justify-center space-x-2 transition-colors",children:[e.jsx(it,{className:"h-4 w-4"}),e.jsx("span",{className:"text-sm",children:"クイックリプライを追加"})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[(f||u.length>0||g==="broadcast")&&e.jsxs("div",{className:"p-4 bg-gray-50 border border-gray-200 rounded-xl",children:[e.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"送信プレビュー"}),e.jsxs("div",{className:"text-sm space-y-1",children:[e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"送信元:"})," ",f?f.name:"未選択"]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"送信先:"})," ",g==="broadcast"?`全ユーザー（${f?.followers||0}人）`:`個別送信（${u.length}人選択中）`]}),u.length>0&&g==="individual"&&e.jsx("div",{className:"text-xs text-gray-500 mt-1",children:u.map(M=>M.name).join(", ")})]})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("button",{onClick:()=>C(!j),className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-xl hover:bg-gray-50 flex items-center space-x-2 transition-colors",children:[e.jsx(Ue,{className:"h-4 w-4"}),e.jsx("span",{children:"プレビュー"})]}),e.jsxs("button",{onClick:S,disabled:!i.content.trim()||!f||g==="individual"&&u.length===0,className:"px-6 py-2 bg-blue-600 text-white rounded-xl hover:bg-blue-700 disabled:bg-gray-400 disabled:cursor-not-allowed flex items-center space-x-2 transition-colors",children:[e.jsx(We,{className:"h-4 w-4"}),e.jsx("span",{children:"送信"})]})]})]})]})})})]})},Xj=()=>{const[i,c]=y.useState({type:"text",content:"",quickReply:[],actions:[]}),[o,d]=y.useState({bold:!1,italic:!1,underline:!1,align:"left",color:"#000000"}),u=y.useCallback(m=>{c(f=>({...f,content:m.target.value}))},[]);return e.jsxs("div",{className:"h-full bg-gray-50 flex flex-col",children:[e.jsx("div",{className:"bg-white border-b border-gray-200 p-4",children:e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx(Oe,{className:"h-6 w-6 text-blue-600"}),e.jsx("h1",{className:"text-xl font-semibold text-gray-900",children:"メッセージエディター（修正版）"})]})})}),e.jsx("div",{className:"flex-1 p-6",children:e.jsx("div",{className:"max-w-4xl mx-auto",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"メッセージ内容"}),e.jsxs("div",{className:"mb-2 flex items-center space-x-2 p-2 bg-gray-50 rounded",children:[e.jsx("button",{type:"button",onClick:()=>d(m=>({...m,bold:!m.bold})),className:`p-2 rounded transition-colors ${o.bold?"bg-blue-100 text-blue-600":"hover:bg-gray-200"}`,children:e.jsx(O0,{className:"h-4 w-4"})}),e.jsx("button",{type:"button",onClick:()=>d(m=>({...m,italic:!m.italic})),className:`p-2 rounded transition-colors ${o.italic?"bg-blue-100 text-blue-600":"hover:bg-gray-200"}`,children:e.jsx(Z0,{className:"h-4 w-4"})}),e.jsx("button",{type:"button",onClick:()=>d(m=>({...m,underline:!m.underline})),className:`p-2 rounded transition-colors ${o.underline?"bg-blue-100 text-blue-600":"hover:bg-gray-200"}`,children:e.jsx(F0,{className:"h-4 w-4"})}),e.jsx("div",{className:"w-px h-6 bg-gray-300"}),e.jsx("button",{type:"button",onClick:()=>d(m=>({...m,align:"left"})),className:`p-2 rounded transition-colors ${o.align==="left"?"bg-blue-100 text-blue-600":"hover:bg-gray-200"}`,children:e.jsx(U0,{className:"h-4 w-4"})}),e.jsx("button",{type:"button",onClick:()=>d(m=>({...m,align:"center"})),className:`p-2 rounded transition-colors ${o.align==="center"?"bg-blue-100 text-blue-600":"hover:bg-gray-200"}`,children:e.jsx(D0,{className:"h-4 w-4"})}),e.jsx("button",{type:"button",onClick:()=>d(m=>({...m,align:"right"})),className:`p-2 rounded transition-colors ${o.align==="right"?"bg-blue-100 text-blue-600":"hover:bg-gray-200"}`,children:e.jsx(L0,{className:"h-4 w-4"})})]}),e.jsx("textarea",{value:i.content,onChange:u,placeholder:"メッセージを入力してください...",className:"w-full h-32 p-3 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none",style:{fontWeight:o.bold?"bold":"normal",fontStyle:o.italic?"italic":"normal",textDecoration:o.underline?"underline":"none",textAlign:o.align,color:o.color}})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"クイックリプライ"}),e.jsxs("div",{className:"space-y-2",children:[i.quickReply.map((m,f)=>e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"text",value:m.label||"",onChange:b=>{const g=[...i.quickReply];g[f]={...m,label:b.target.value},c(h=>({...h,quickReply:g}))},className:"flex-1 p-2 border border-gray-300 rounded-md",placeholder:"クイックリプライのテキスト"}),e.jsx("button",{type:"button",onClick:()=>{const b=i.quickReply.filter((g,h)=>h!==f);c(g=>({...g,quickReply:b}))},className:"p-2 text-red-600 hover:bg-red-50 rounded transition-colors",children:e.jsx(vt,{className:"h-4 w-4"})})]},f)),e.jsxs("button",{type:"button",onClick:()=>{const m=[...i.quickReply,{label:"",value:"",type:"text"}];c(f=>({...f,quickReply:m}))},className:"w-full p-2 border-2 border-dashed border-gray-300 rounded-md text-gray-600 hover:border-gray-400 hover:text-gray-800 flex items-center justify-center space-x-2 transition-colors",children:[e.jsx(it,{className:"h-4 w-4"}),e.jsx("span",{className:"text-sm",children:"クイックリプライを追加"})]})]})]}),e.jsx("div",{className:"flex justify-end",children:e.jsxs("button",{onClick:()=>{console.log("Sending message:",i),alert("メッセージが送信されました（デモ）")},className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 flex items-center space-x-2",children:[e.jsx(We,{className:"h-4 w-4"}),e.jsx("span",{children:"送信"})]})})]})})})]})},Kj=({onEmojiSelect:i,isVisible:c,onClose:o})=>{const[d,u]=y.useState("frequently-used"),m={"frequently-used":{name:"よく使う",icon:rs,emojis:["😊","👍","❤️","😂","🎉","👏","💕","😍","🙏","✨","💖","🔥","👌","😘","💪"]},people:{name:"顔・人物",icon:Es,emojis:["😀","😃","😄","😁","😆","😅","🤣","😂","🙂","🙃","😉","😊","😇","🥰","😍","🤩","😘","😗","😚","😙","😋","😛","😜","🤪","😝","🤑","🤗","🤭","🤫","🤔","🤐","🤨","😐","😑","😶","😏","😒","🙄","😬","🤥","😔","😪","🤤","😴","😷","👶","👧","🧒","👦","👩","🧑","👨","👱‍♀️","👱","👱‍♂️","🧔","👵","🧓","👴","👲"]},heart:{name:"ハート",icon:Yd,emojis:["❤️","🧡","💛","💚","💙","💜","🖤","🤍","🤎","💔","❣️","💕","💞","💓","💗","💖","💘","💝","💟","💌","💋","😍","🥰","😘","💑","💏","👨‍❤️‍👨","👩‍❤️‍👩","💒","💐"]},animals:{name:"動物",icon:xl,emojis:["🐶","🐱","🐭","🐹","🐰","🦊","🐻","🐼","🐨","🐯","🦁","🐮","🐷","🐸","🐵","🙈","🙉","🙊","🐒","🐔","🐧","🐦","🐤","🐣","🐥","🦆","🦅","🦉","🦇","🐺","🐗","🐴","🦄","🐝","🐛","🦋","🐌","🐞","🐜","🦟","🦗","🕷️","🐢","🐍","🦎"]},food:{name:"食べ物",icon:Ky,emojis:["🍎","🍐","🍊","🍋","🍌","🍉","🍇","🍓","🫐","🍈","🍒","🍑","🥭","🍍","🥥","🥝","🍅","🍆","🥑","🥦","🥬","🥒","🌶️","🫑","🌽","🥕","🫒","🧄","🧅","🥔","🍠","🥐","🥖","🍞","🥨","🥯","🧀","🥚","🍳","🧈","🥞","🧇","🥓","🥩","🍗"]},activities:{name:"アクティビティ",icon:Lb,emojis:["⚽","🏀","🏈","⚾","🥎","🎾","🏐","🏉","🥏","🎱","🪀","🏓","🏸","🏒","🏑","🥍","🏏","🪃","🥅","⛳","🪁","🏹","🎣","🤿","🥊","🥋","🎽","🛹","🛷","⛸️","🥌","🎿","⛷️","🏂","🪂","🏋️‍♀️","🏋️","🏋️‍♂️","🤼‍♀️","🤼","🤼‍♂️","🤸‍♀️","🤸","🤸‍♂️","⛹️‍♀️"]},travel:{name:"旅行・場所",icon:Ry,emojis:["🚗","🚕","🚙","🚌","🚎","🏎️","🚓","🚑","🚒","🚐","🛻","🚚","🚛","🚜","🏍️","🛵","🚲","🛴","🛹","🛼","🚁","🛸","✈️","🛩️","🛫","🛬","🪂","💺","🚀","🛰️","🚢","⛵","🚤","🛥️","🛶","⚓","⛽","🚧","🚦","🚥","🗺️","🗿","🗽","🗼","🏰"]},symbols:{name:"記号",icon:rb,emojis:["❤️","🧡","💛","💚","💙","💜","🖤","🤍","🤎","💔","❣️","💕","💞","💓","💗","💖","💘","💝","⭐","🌟","✨","💫","⚡","💥","💢","💨","💦","💤","💭","🗯️","💬","💋","👁️‍🗨️","🗨️","🗯️","💭","💤","👋","🤚","🖐️","✋","🖖","👌","🤌","🤏"]}},f=[{id:1,name:"コニー",image:"🐰",category:"line-friends"},{id:2,name:"ブラウン",image:"🐻",category:"line-friends"},{id:3,name:"サリー",image:"🐥",category:"line-friends"},{id:4,name:"レナード",image:"🐸",category:"line-friends"},{id:5,name:"ムーン",image:"🌙",category:"line-friends"},{id:6,name:"ジェシカ",image:"🦊",category:"line-friends"},{id:7,name:"おめでとう",image:"🎉",category:"celebration"},{id:8,name:"ありがとう",image:"🙏",category:"thanks"},{id:9,name:"おつかれさま",image:"😊",category:"greeting"},{id:10,name:"がんばって",image:"💪",category:"support"}],b=y.useCallback(h=>{i(h),o()},[i,o]),g=y.useCallback(h=>{i(`[スタンプ:${h.name}]`),o()},[i,o]);return c?e.jsxs("div",{className:"absolute bottom-12 left-0 w-80 bg-white border border-gray-200 rounded-lg shadow-lg z-50",children:[e.jsxs("div",{className:"flex border-b border-gray-200",children:[Object.entries(m).map(([h,j])=>{const C=j.icon;return e.jsx("button",{onClick:()=>u(h),className:`flex-1 p-2 text-center hover:bg-gray-50 ${d===h?"bg-blue-50 border-b-2 border-blue-500":""}`,title:j.name,children:e.jsx(C,{className:"w-4 h-4 mx-auto"})},h)}),e.jsx("button",{onClick:()=>u("stickers"),className:`flex-1 p-2 text-center hover:bg-gray-50 ${d==="stickers"?"bg-blue-50 border-b-2 border-blue-500":""}`,title:"スタンプ",children:e.jsx(xl,{className:"w-4 h-4 mx-auto"})})]}),e.jsx("div",{className:"h-48 overflow-y-auto p-2",children:d==="stickers"?e.jsx("div",{className:"grid grid-cols-5 gap-1",children:f.map(h=>e.jsxs("button",{onClick:()=>g(h),className:"p-2 hover:bg-gray-100 rounded text-center",title:h.name,children:[e.jsx("div",{className:"text-2xl",children:h.image}),e.jsx("div",{className:"text-xs text-gray-600 mt-1 truncate",children:h.name})]},h.id))}):e.jsx("div",{className:"grid grid-cols-8 gap-1",children:m[d]?.emojis.map((h,j)=>e.jsx("button",{onClick:()=>b(h),className:"p-2 hover:bg-gray-100 rounded text-center text-xl",title:h,children:h},j))})}),e.jsx("div",{className:"border-t border-gray-200 p-2 text-xs text-gray-500 text-center",children:d==="stickers"?"スタンプ":m[d]?.name})]}):null},zd=({value:i,onChange:c,onSend:o,onFileSelect:d,placeholder:u="メッセージを入力...",disabled:m=!1,maxLength:f=5e3,showFileUpload:b=!0,showVoice:g=!0,className:h=""})=>{const[j,C]=y.useState(!1),[L,$]=y.useState(0),O=y.useRef(null),_=y.useRef(null),N=y.useCallback(H=>{const ee=O.current;if(!ee)return;const Y=ee.selectionStart,le=ee.selectionEnd,F=i.slice(0,Y)+H+i.slice(le);c(F),setTimeout(()=>{const ce=Y+H.length;ee.setSelectionRange(ce,ce),ee.focus()},0)},[i,c]),w=H=>{c(H.target.value),$(H.target.selectionStart)},E=H=>{H.key==="Enter"&&!H.shiftKey&&(H.preventDefault(),i.trim()&&!m&&o())},T=H=>{const ee=H.target.files[0];ee&&d&&d(ee),H.target.value=""},S=()=>{_.current?.click()},M=()=>{i.trim()&&!m&&o()};return e.jsxs("div",{className:`relative ${h}`,children:[e.jsx("div",{className:"border border-gray-300 rounded-lg bg-white focus-within:border-blue-500 focus-within:ring-1 focus-within:ring-blue-500",children:e.jsxs("div",{className:"flex items-end p-3 space-x-2",children:[e.jsxs("div",{className:"flex-1 relative",children:[e.jsx("textarea",{ref:O,value:i,onChange:w,onKeyDown:E,onSelect:H=>$(H.target.selectionStart),placeholder:u,disabled:m,maxLength:f,rows:3,className:"w-full resize-none border-0 outline-none placeholder-gray-400 text-sm leading-5",style:{minHeight:"60px",maxHeight:"120px"}}),e.jsxs("div",{className:"absolute bottom-1 right-1 text-xs text-gray-400",children:[i.length,"/",f]})]}),e.jsxs("div",{className:"flex flex-col space-y-2",children:[e.jsxs("div",{className:"flex space-x-1",children:[e.jsx("button",{type:"button",onClick:()=>C(!j),className:"p-2 text-gray-500 hover:text-blue-500 hover:bg-blue-50 rounded transition-colors",title:"絵文字・スタンプ",disabled:m,children:e.jsx(Es,{className:"w-5 h-5"})}),b&&e.jsx("button",{type:"button",onClick:S,className:"p-2 text-gray-500 hover:text-blue-500 hover:bg-blue-50 rounded transition-colors",title:"ファイル添付",disabled:m,children:e.jsx(Q0,{className:"w-5 h-5"})}),e.jsx("button",{type:"button",onClick:()=>{const H=document.createElement("input");H.type="file",H.accept="image/*",H.onchange=ee=>{const Y=ee.target.files[0];Y&&d&&d(Y)},H.click()},className:"p-2 text-gray-500 hover:text-blue-500 hover:bg-blue-50 rounded transition-colors",title:"画像",disabled:m,children:e.jsx(An,{className:"w-5 h-5"})}),g&&e.jsx("button",{type:"button",className:"p-2 text-gray-500 hover:text-blue-500 hover:bg-blue-50 rounded transition-colors",title:"音声メッセージ",disabled:m,onClick:()=>{alert("音声録音機能は準備中です")},children:e.jsx(Kd,{className:"w-5 h-5"})})]}),e.jsx("button",{type:"button",onClick:M,disabled:!i.trim()||m,className:`p-2 rounded transition-colors ${i.trim()&&!m?"bg-blue-500 text-white hover:bg-blue-600":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,title:"送信",children:e.jsx(We,{className:"w-5 h-5"})})]})]})}),e.jsx("input",{ref:_,type:"file",onChange:T,className:"hidden",accept:"image/*,video/*,audio/*,.pdf,.doc,.docx,.txt"}),e.jsx(Kj,{isVisible:j,onEmojiSelect:N,onClose:()=>C(!1)}),j&&e.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>C(!1)})]})},Jj=()=>{const[i,c]=y.useState([{id:1,title:"新商品告知キャンペーン",type:"mass",messageType:"text",status:"completed",targets:{type:"all",count:5420},content:{text:`🎉 新商品のお知らせ

待望の新商品が登場しました！`},createdAt:"2024-01-15T10:00:00Z",sentAt:"2024-01-15T14:00:00Z",deliveredCount:5420,openedCount:3247},{id:2,title:"セール告知",type:"segment",messageType:"image",status:"completed",targets:{type:"segments",segments:["VIP顧客"],count:1232},content:{text:"🛍️ 期間限定セール開催中！",image:"/images/sale.jpg"},createdAt:"2024-01-14T09:00:00Z",scheduledAt:"2024-01-16T12:00:00Z",sentAt:"2024-01-16T12:00:15Z",deliveredCount:1232,openedCount:987}]),[o,d]=y.useState(!1),[u,m]=y.useState(!1),[f,b]=y.useState(null),[g,h]=y.useState(""),[j,C]=y.useState("all"),[L,$]=y.useState(""),[O,_]=y.useState([{id:1,name:"新商品告知",content:`🎉 新商品のお知らせ

待望の新商品が登場しました！期間限定の特別価格でご提供中です。

詳細はこちら👇`,messageType:"text",category:"marketing",createdAt:"2024-01-01T09:00:00Z"},{id:2,name:"セール告知",content:`🛍️ 期間限定セール開催中！

最大50%OFFの特別価格でご提供しています。この機会をお見逃しなく！`,messageType:"text",category:"sales",createdAt:"2024-01-01T10:00:00Z"},{id:3,name:"イベント案内",content:`📅 イベント開催のお知らせ

来週開催のイベントにぜひご参加ください。楽しい企画をご用意しています！`,messageType:"text",category:"event",createdAt:"2024-01-01T11:00:00Z"}]),[N,w]=y.useState(null),[E,T]=y.useState({name:"",content:"",messageType:"text",category:"general"}),[S,M]=y.useState({title:"",type:"mass",messageType:"text",content:{text:"",image:"",video:"",audio:"",alt_text:""},targets:{type:"all",count:5420,segments:[],users:[],selectedSegments:[],selectedUsers:[]},schedule:{type:"immediate",scheduledAt:""}}),[H]=y.useState([{id:1,name:"VIP顧客",count:234,description:"月間購入額10万円以上"},{id:2,name:"リピーター",count:567,description:"3回以上購入履歴あり"},{id:3,name:"新規顧客",count:890,description:"初回購入から30日以内"},{id:4,name:"アクティブユーザー",count:1200,description:"7日以内にアクセス"},{id:5,name:"休眠顧客",count:345,description:"30日以上非アクティブ"}]),[ee]=y.useState([{id:1,name:"田中太郎",email:"tanaka@example.com",segment:"VIP顧客"},{id:2,name:"佐藤花子",email:"sato@example.com",segment:"リピーター"},{id:3,name:"山田次郎",email:"yamada@example.com",segment:"新規顧客"},{id:4,name:"鈴木美咲",email:"suzuki@example.com",segment:"VIP顧客"},{id:5,name:"高橋健一",email:"takahashi@example.com",segment:"アクティブユーザー"},{id:6,name:"伊藤さくら",email:"ito@example.com",segment:"リピーター"},{id:7,name:"渡辺大介",email:"watanabe@example.com",segment:"新規顧客"},{id:8,name:"小林麻衣",email:"kobayashi@example.com",segment:"VIP顧客"},{id:9,name:"加藤慎一",email:"kato@example.com",segment:"アクティブユーザー"},{id:10,name:"吉田美穂",email:"yoshida@example.com",segment:"休眠顧客"},{id:11,name:"松本裕子",email:"matsumoto@example.com",segment:"リピーター"},{id:12,name:"中村健太",email:"nakamura@example.com",segment:"新規顧客"},{id:13,name:"林愛子",email:"hayashi@example.com",segment:"VIP顧客"},{id:14,name:"清水一郎",email:"shimizu@example.com",segment:"アクティブユーザー"},{id:15,name:"森田陽子",email:"morita@example.com",segment:"休眠顧客"}]),Y=ee.filter(R=>R.name.toLowerCase().includes(L.toLowerCase())||R.email.toLowerCase().includes(L.toLowerCase())||R.segment.toLowerCase().includes(L.toLowerCase()));y.useEffect(()=>{const R=new Set,v=()=>{const X=new Date;c(se=>se.map(ae=>{if(R.has(ae.id))return ae;if(ae.status==="scheduled"&&ae.scheduledAt){const ue=new Date(ae.scheduledAt);if(X>=ue){console.log("📤 配信実行開始:",ae.title,"at",X.toLocaleTimeString()),R.add(ae.id);const U={...ae,status:"sending"};return setTimeout(()=>{c(ne=>ne.map(fe=>fe.id===ae.id?{...fe,status:"completed",deliveredCount:ae.targets.count,openedCount:Math.floor(ae.targets.count*.6),sentAt:new Date().toISOString()}:fe)),console.log("✅ 配信完了:",ae.title),((ne,fe)=>{let ht=Math.floor(fe*.6),Nt=0;const ra=setInterval(()=>{Nt++;const jl=Math.floor(Math.random()*Math.floor(fe*.03)),As=Math.min(ht+jl,Math.floor(fe*.8));c(ui=>ui.map(vl=>vl.id===ne?{...vl,openedCount:As}:vl)),ht=As,(As>=Math.floor(fe*.8)||Nt>=5)&&(clearInterval(ra),console.log("📊 開封率更新完了:",Math.round(As/fe*100)+"%"))},4e3)})(ae.id,ae.targets.count)},2e3),U}}return ae}))};v();const G=setInterval(v,15e3);return()=>{clearInterval(G),R.clear()}},[]);const le=[{value:"mass",label:"一斉配信",icon:_e,color:"blue",description:"すべての友だちに一括配信"},{value:"segment",label:"セグメント配信",icon:sa,color:"green",description:"特定のセグメントに配信"},{value:"individual",label:"個別配信",icon:st,color:"purple",description:"個別ユーザーに配信"}],F=[{value:"text",label:"テキスト",icon:oi,color:"gray"},{value:"image",label:"画像",icon:An,color:"blue"},{value:"video",label:"動画",icon:Od,color:"red"},{value:"audio",label:"音声",icon:Kd,color:"green"}],ce=[{value:"draft",label:"下書き",color:"gray",icon:ta},{value:"scheduled",label:"送信予約",color:"yellow",icon:ut},{value:"sending",label:"送信中",color:"blue",icon:We},{value:"completed",label:"送信完了",color:"green",icon:rt},{value:"failed",label:"送信失敗",color:"red",icon:ks}],J=i.filter(R=>{const v=R.title.toLowerCase().includes(g.toLowerCase()),G=j==="all"||R.status===j;return v&&G}),de=y.useCallback((R,v,G)=>{switch(R){case"mass":return 5420;case"segment":return v.reduce((X,se)=>{const ae=H.find(ue=>ue.id===se);return X+(ae?ae.count:0)},0);case"individual":return G.length;default:return 0}},[H]);y.useEffect(()=>{const R=de(S.type,S.targets.selectedSegments,S.targets.selectedUsers);M(v=>({...v,targets:{...v.targets,count:R}}))},[S.type,S.targets.selectedSegments,S.targets.selectedUsers,de]);const pe=y.useCallback((R,v)=>{if(!v)return;if(v.size>10*1024*1024){alert("ファイルサイズは10MB以下にしてください。");return}if(!{image:["image/jpeg","image/png","image/gif","image/webp"],video:["video/mp4","video/mov","video/avi"],audio:["audio/mp3","audio/wav","audio/aac","audio/ogg"]}[R]?.includes(v.type)){alert(`${R}ファイルの形式が正しくありません。`);return}const X=new FileReader;X.onload=se=>{try{M(ae=>({...ae,content:{...ae.content,[R]:se.target.result,alt_text:v.name}}))}catch(ae){console.error("ファイル読み込みエラー:",ae),alert("ファイルの読み込みに失敗しました。")}},X.onerror=()=>{alert("ファイルの読み込みに失敗しました。")},X.readAsDataURL(v)},[]),Ce=y.useCallback(()=>{if(!E.name||!E.content){alert("テンプレート名と内容を入力してください。");return}if(O.length>=20){alert("テンプレートは最大20件まで保存できます。");return}const R={id:N?N.id:Date.now(),...E,createdAt:N?N.createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};_(N?v=>v.map(G=>G.id===N.id?R:G):v=>[R,...v]),T({name:"",content:"",messageType:"text",category:"general"}),w(null),m(!1)},[E,N,O]),A=y.useCallback(R=>{M(v=>({...v,content:{...v.content,text:R.content},messageType:R.messageType})),m(!1)},[]),Q=y.useCallback(()=>{if(!S.title.trim()){alert("配信名を入力してください。");return}if(!S.content.text.trim()&&!S.content.image&&!S.content.video&&!S.content.audio){alert("メッセージ内容を入力してください。");return}if(S.type==="segment"&&S.targets.selectedSegments.length===0){alert("配信対象のセグメントを選択してください。");return}if(S.type==="individual"&&S.targets.selectedUsers.length===0){alert("配信対象のユーザーを選択してください。");return}const R={id:Date.now(),...S,status:S.schedule.type==="immediate"?"sending":"scheduled",createdAt:new Date().toISOString(),deliveredCount:0,openedCount:0};c(v=>[R,...v]),M({title:"",type:"mass",messageType:"text",content:{text:"",image:"",video:"",audio:"",alt_text:""},targets:{type:"all",count:5420,segments:[],users:[],selectedSegments:[],selectedUsers:[]},schedule:{type:"immediate",scheduledAt:""}}),d(!1),S.schedule.type==="immediate"&&setTimeout(()=>{c(G=>G.map(X=>X.id===R.id?{...X,status:"completed",deliveredCount:R.targets.count,openedCount:Math.floor(R.targets.count*.6),sentAt:new Date().toISOString()}:X)),((G,X)=>{let se=Math.floor(X*.6);const ae=setInterval(()=>{const ue=Math.floor(Math.random()*Math.floor(X*.1)),U=Math.min(se+ue,Math.floor(X*.8));c(re=>re.map(ne=>ne.id===G?{...ne,openedCount:U}:ne)),se=U,U>=Math.floor(X*.8)&&clearInterval(ae)},5e3);setTimeout(()=>clearInterval(ae),3e4)})(R.id,R.targets.count)},2e3)},[S]),te=R=>{const v=ce.find(X=>X.value===R);return v&&{gray:"bg-gray-100 text-gray-800",yellow:"bg-yellow-100 text-yellow-800",blue:"bg-blue-100 text-blue-800",green:"bg-green-100 text-green-800",red:"bg-red-100 text-red-800"}[v.color]||"bg-gray-100 text-gray-800"};return e.jsxs("div",{className:"h-full bg-gray-50",children:[e.jsxs("div",{className:"bg-white border-b border-gray-200 p-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"メッセージ一斉配信"}),e.jsx("p",{className:"text-gray-600 mt-1",children:"友だちにメッセージを一括送信できます"})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs("button",{onClick:()=>m(!0),className:"bg-gray-600 text-white px-4 py-2 rounded-lg hover:bg-gray-700 flex items-center space-x-2",children:[e.jsx(ai,{className:"h-4 w-4"}),e.jsx("span",{children:"テンプレート管理"})]}),e.jsxs("button",{onClick:()=>d(!0),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 flex items-center space-x-2",children:[e.jsx(it,{className:"h-4 w-4"}),e.jsx("span",{children:"新規配信作成"})]})]})]}),e.jsxs("div",{className:"flex items-center space-x-4 mt-6",children:[e.jsxs("div",{className:"flex-1 relative",children:[e.jsx(mt,{className:"h-4 w-4 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"配信名で検索...",value:g,onChange:R=>h(R.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),e.jsxs("select",{value:j,onChange:R=>C(R.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"all",children:"すべてのステータス"}),ce.map(R=>e.jsx("option",{value:R.value,children:R.label},R.value))]})]})]}),e.jsx("div",{className:"p-6",children:e.jsx("div",{className:"bg-white rounded-lg shadow",children:J.length===0?e.jsxs("div",{className:"p-12 text-center",children:[e.jsx(Oe,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"配信が見つかりません"}),e.jsx("p",{className:"text-gray-600",children:"新しい配信を作成するか、検索条件を変更してください。"})]}):e.jsx("div",{className:"overflow-hidden",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"配信名"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"タイプ"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"ステータス"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"対象者数"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"配信結果"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"作成日時"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"操作"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:J.map(R=>{const v=le.find(X=>X.value===R.type),G=F.find(X=>X.value===R.messageType);return e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(G.icon,{className:"h-5 w-5 text-gray-400 mr-3"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:R.title}),e.jsx("div",{className:"text-sm text-gray-500 truncate max-w-xs",children:R.content.text})]})]})}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(v.icon,{className:"h-4 w-4 mr-2 text-gray-500"}),e.jsx("span",{className:"text-sm text-gray-900",children:v.label})]})}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${te(R.status)}`,children:ce.find(X=>X.value===R.status)?.label})}),e.jsxs("td",{className:"px-6 py-4 text-sm text-gray-900",children:[R.targets.count.toLocaleString(),"名"]}),e.jsxs("td",{className:"px-6 py-4",children:[e.jsxs("div",{className:"text-sm text-gray-900",children:["配信: ",R.deliveredCount.toLocaleString()]}),e.jsxs("div",{className:"text-sm text-gray-500",children:["開封: ",R.openedCount.toLocaleString(),R.deliveredCount>0&&e.jsxs("span",{className:"ml-1",children:["(",Math.round(R.openedCount/R.deliveredCount*100),"%)"]})]})]}),e.jsx("td",{className:"px-6 py-4 text-sm text-gray-500",children:new Date(R.createdAt).toLocaleDateString("ja-JP")}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>b(R),className:"text-blue-600 hover:text-blue-800",children:e.jsx(Ue,{className:"h-4 w-4"})}),e.jsx("button",{className:"text-gray-400 hover:text-gray-600",children:e.jsx(ta,{className:"h-4 w-4"})}),e.jsx("button",{className:"text-red-400 hover:text-red-600",children:e.jsx(vt,{className:"h-4 w-4"})})]})})]},R.id)})})]})})})}),o&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:e.jsxs("div",{className:"bg-white rounded-lg max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"p-6 border-b border-gray-200",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"メッセージ配信実行"}),e.jsx("p",{className:"text-gray-600 mt-1",children:"配信内容を設定して実行してください"})]}),e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"配信名"}),e.jsx("input",{type:"text",value:S.title,onChange:R=>M(v=>({...v,title:R.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500",placeholder:"配信名を入力してください"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"配信タイプ"}),e.jsx("div",{className:"grid grid-cols-3 gap-3",children:le.map(R=>e.jsxs("button",{onClick:()=>M(v=>({...v,type:R.value,targets:{...v.targets,selectedSegments:[],selectedUsers:[]}})),className:`p-3 border rounded-lg text-left ${S.type===R.value?"border-blue-500 bg-blue-50":"border-gray-300 hover:border-gray-400"}`,children:[e.jsx(R.icon,{className:"h-5 w-5 mb-2"}),e.jsx("div",{className:"font-medium text-sm",children:R.label}),e.jsx("div",{className:"text-xs text-gray-500",children:R.description})]},R.value))})]}),S.type==="segment"&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"配信対象セグメント"}),e.jsx("div",{className:"border border-gray-300 rounded-md p-3 max-h-48 overflow-y-auto",children:H.map(R=>e.jsxs("label",{className:"flex items-center p-2 hover:bg-gray-50 rounded",children:[e.jsx("input",{type:"checkbox",checked:S.targets.selectedSegments.includes(R.id),onChange:v=>{const G=v.target.checked?[...S.targets.selectedSegments,R.id]:S.targets.selectedSegments.filter(X=>X!==R.id);M(X=>({...X,targets:{...X.targets,selectedSegments:G}}))},className:"mr-3"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"font-medium text-sm",children:R.name}),e.jsx("div",{className:"text-xs text-gray-500",children:R.description})]}),e.jsxs("div",{className:"text-sm text-gray-600",children:[R.count,"名"]})]},R.id))})]}),S.type==="individual"&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"配信対象ユーザー"}),e.jsxs("div",{className:"mb-3",children:[e.jsxs("div",{className:"relative",children:[e.jsx(mt,{className:"h-4 w-4 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"ユーザー名、メール、セグメントで検索...",value:L,onChange:R=>$(R.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm"})]}),L&&e.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[Y.length,"件のユーザーが見つかりました"]})]}),e.jsx("div",{className:"border border-gray-300 rounded-md p-3 max-h-48 overflow-y-auto",children:Y.length===0?e.jsxs("div",{className:"text-center py-4 text-gray-500",children:[e.jsx(st,{className:"h-8 w-8 mx-auto mb-2 text-gray-300"}),e.jsx("p",{className:"text-sm",children:"ユーザーが見つかりません"})]}):Y.map(R=>e.jsxs("label",{className:"flex items-center p-2 hover:bg-gray-50 rounded",children:[e.jsx("input",{type:"checkbox",checked:S.targets.selectedUsers.includes(R.id),onChange:v=>{const G=v.target.checked?[...S.targets.selectedUsers,R.id]:S.targets.selectedUsers.filter(X=>X!==R.id);M(X=>({...X,targets:{...X.targets,selectedUsers:G}}))},className:"mr-3"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"font-medium text-sm",children:R.name}),e.jsx("div",{className:"text-xs text-gray-500",children:R.email})]}),e.jsx("div",{className:"text-xs text-gray-400",children:R.segment})]},R.id))}),S.targets.selectedUsers.length>0&&e.jsxs("div",{className:"mt-2 p-2 bg-blue-50 rounded border border-blue-200",children:[e.jsxs("p",{className:"text-xs text-blue-700 font-medium mb-1",children:["選択済みユーザー (",S.targets.selectedUsers.length,"名)"]}),e.jsxs("div",{className:"flex flex-wrap gap-1",children:[S.targets.selectedUsers.slice(0,5).map(R=>{const v=ee.find(G=>G.id===R);return e.jsx("span",{className:"inline-flex items-center px-2 py-1 bg-blue-100 text-blue-800 text-xs rounded",children:v?.name},R)}),S.targets.selectedUsers.length>5&&e.jsxs("span",{className:"text-xs text-blue-600",children:["他",S.targets.selectedUsers.length-5,"名"]})]})]})]}),e.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm font-medium text-blue-900",children:"配信対象者数"}),e.jsxs("span",{className:"text-lg font-bold text-blue-600",children:[S.targets.count.toLocaleString(),"名"]})]}),S.type==="segment"&&S.targets.selectedSegments.length>0&&e.jsxs("div",{className:"mt-2 text-xs text-blue-700",children:["選択中: ",S.targets.selectedSegments.map(R=>H.find(v=>v.id===R)?.name).join(", ")]}),S.type==="individual"&&S.targets.selectedUsers.length>0&&e.jsxs("div",{className:"mt-2 text-xs text-blue-700",children:["選択中: ",S.targets.selectedUsers.map(R=>ee.find(v=>v.id===R)?.name).join(", ")]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"メッセージタイプ"}),e.jsx("select",{value:S.messageType,onChange:R=>M(v=>({...v,messageType:R.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500",children:F.map(R=>e.jsx("option",{value:R.value,children:R.label},R.value))})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"テンプレート"}),e.jsxs("button",{type:"button",onClick:()=>{w(null),T({name:"",content:S.content.text,messageType:S.messageType,category:"general"}),m(!0)},className:"text-blue-600 hover:text-blue-800 text-sm flex items-center space-x-1",children:[e.jsx(Ts,{className:"h-4 w-4"}),e.jsx("span",{children:"テンプレートとして保存"})]})]}),e.jsxs("select",{onChange:R=>{if(R.target.value){const v=O.find(G=>G.id===parseInt(R.target.value));v&&A(v)}},className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"",children:"テンプレートを選択..."}),O.map(R=>e.jsxs("option",{value:R.id,children:[R.name," (",R.category,")"]},R.id))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"メッセージ内容"}),e.jsx(zd,{value:S.content.text,onChange:R=>M(v=>({...v,content:{...v.content,text:R}})),onSend:()=>{},onFileSelect:pe,placeholder:"メッセージ内容を入力してください（絵文字・スタンプも使えます）",className:"w-full",showVoice:!1})]}),S.messageType!=="text"&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"ファイル選択"}),e.jsxs("div",{className:"space-y-3",children:[S.messageType==="image"&&e.jsxs("div",{children:[e.jsx("input",{type:"file",accept:"image/jpeg,image/png,image/gif",onChange:R=>pe("image",R.target.files[0]),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500"}),e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"JPEG, PNG, GIF形式（最大10MB）"}),S.content.image&&e.jsx("div",{className:"mt-2",children:e.jsx("img",{src:S.content.image,alt:"プレビュー",className:"w-32 h-32 object-cover rounded border"})})]}),S.messageType==="video"&&e.jsxs("div",{children:[e.jsx("input",{type:"file",accept:"video/mp4,video/mov",onChange:R=>pe("video",R.target.files[0]),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500"}),e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"MP4, MOV形式（最大10MB）"}),S.content.video&&e.jsx("div",{className:"mt-2",children:e.jsx("video",{src:S.content.video,controls:!0,className:"w-64 h-36 rounded border"})})]}),S.messageType==="audio"&&e.jsxs("div",{children:[e.jsx("input",{type:"file",accept:"audio/mp3,audio/wav,audio/aac",onChange:R=>pe("audio",R.target.files[0]),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500"}),e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"MP3, WAV, AAC形式（最大10MB）"}),S.content.audio&&e.jsx("div",{className:"mt-2",children:e.jsx("audio",{src:S.content.audio,controls:!0,className:"w-full"})})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"配信スケジュール"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"radio",value:"immediate",checked:S.schedule.type==="immediate",onChange:R=>M(v=>({...v,schedule:{...v.schedule,type:R.target.value}})),className:"mr-2"}),"即座に送信"]}),e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"radio",value:"scheduled",checked:S.schedule.type==="scheduled",onChange:R=>M(v=>({...v,schedule:{...v.schedule,type:R.target.value}})),className:"mr-2"}),"スケジュール送信"]}),S.schedule.type==="scheduled"&&e.jsxs("div",{children:[e.jsx("input",{type:"datetime-local",step:"1",value:S.schedule.scheduledAt,onChange:R=>M(v=>({...v,schedule:{...v.schedule,scheduledAt:R.target.value}})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"秒単位まで指定可能です。15秒ごとに配信チェックを行います。"})]})]})]})]}),e.jsxs("div",{className:"p-6 border-t border-gray-200 flex justify-end space-x-3",children:[e.jsx("button",{onClick:()=>d(!1),className:"px-4 py-2 text-gray-700 border border-gray-300 rounded-md hover:bg-gray-50",children:"キャンセル"}),e.jsxs("button",{onClick:Q,disabled:!S.title||!S.content.text&&!S.content.image&&!S.content.video&&!S.content.audio,className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center space-x-2",children:[e.jsx(We,{className:"h-4 w-4"}),e.jsx("span",{children:"配信実行"})]})]})]})}),f&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:e.jsxs("div",{className:"bg-white rounded-lg max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[e.jsx("div",{className:"p-6 border-b border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"配信詳細"}),e.jsx("button",{onClick:()=>b(null),className:"text-gray-400 hover:text-gray-600",children:e.jsx(ks,{className:"h-6 w-6"})})]})}),e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium text-gray-900 mb-3",children:f.title}),f.content.text&&e.jsxs("div",{className:"mb-4",children:[e.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"テキスト内容"}),e.jsx("div",{className:"p-3 bg-gray-50 rounded border",children:e.jsx("p",{className:"text-gray-800 whitespace-pre-wrap",children:f.content.text})})]}),f.content.image&&e.jsxs("div",{className:"mb-4",children:[e.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"添付画像"}),e.jsx("div",{className:"border rounded-lg overflow-hidden",children:e.jsx("img",{src:f.content.image,alt:f.content.alt_text||"配信画像",className:"w-full max-w-md h-auto"})}),f.content.alt_text&&e.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["ファイル名: ",f.content.alt_text]})]}),f.content.video&&e.jsxs("div",{className:"mb-4",children:[e.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"添付動画"}),e.jsx("div",{className:"border rounded-lg overflow-hidden",children:e.jsx("video",{src:f.content.video,controls:!0,className:"w-full max-w-md h-auto",children:"お使いのブラウザは動画再生に対応していません。"})}),f.content.alt_text&&e.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["ファイル名: ",f.content.alt_text]})]}),f.content.audio&&e.jsxs("div",{className:"mb-4",children:[e.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"添付音声"}),e.jsx("div",{className:"border rounded-lg p-3",children:e.jsx("audio",{src:f.content.audio,controls:!0,className:"w-full",children:"お使いのブラウザは音声再生に対応していません。"})}),f.content.alt_text&&e.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["ファイル名: ",f.content.alt_text]})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-3",children:"配信情報"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500",children:"配信タイプ:"}),e.jsx("span",{className:"ml-2 font-medium",children:le.find(R=>R.value===f.type)?.label})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500",children:"メッセージタイプ:"}),e.jsx("span",{className:"ml-2 font-medium",children:F.find(R=>R.value===f.messageType)?.label})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500",children:"対象者数:"}),e.jsxs("span",{className:"ml-2 font-medium",children:[f.targets.count.toLocaleString(),"名"]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500",children:"配信数:"}),e.jsx("span",{className:"ml-2 font-medium",children:f.deliveredCount.toLocaleString()})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500",children:"開封数:"}),e.jsx("span",{className:"ml-2 font-medium",children:f.openedCount.toLocaleString()})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500",children:"開封率:"}),e.jsxs("span",{className:"ml-2 font-medium",children:[f.deliveredCount>0?Math.round(f.openedCount/f.deliveredCount*100):0,"%"]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500",children:"作成日時:"}),e.jsx("span",{className:"ml-2 font-medium",children:new Date(f.createdAt).toLocaleString("ja-JP")})]}),f.sentAt&&e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500",children:"送信日時:"}),e.jsx("span",{className:"ml-2 font-medium",children:new Date(f.sentAt).toLocaleString("ja-JP")})]})]})]})]})]})}),u&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:e.jsxs("div",{className:"bg-white rounded-lg max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"p-6 border-b border-gray-200",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"テンプレート管理"}),e.jsx("p",{className:"text-gray-600 mt-1",children:"メッセージテンプレートを作成・編集できます（最大20件）"})]}),e.jsx("div",{className:"p-6",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:N?"テンプレート編集":"新規テンプレート作成"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"テンプレート名"}),e.jsx("input",{type:"text",value:E.name,onChange:R=>T(v=>({...v,name:R.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500",placeholder:"テンプレート名を入力"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"カテゴリ"}),e.jsxs("select",{value:E.category,onChange:R=>T(v=>({...v,category:R.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"general",children:"一般"}),e.jsx("option",{value:"marketing",children:"マーケティング"}),e.jsx("option",{value:"sales",children:"セール"}),e.jsx("option",{value:"event",children:"イベント"}),e.jsx("option",{value:"notification",children:"お知らせ"}),e.jsx("option",{value:"support",children:"サポート"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"メッセージタイプ"}),e.jsx("select",{value:E.messageType,onChange:R=>T(v=>({...v,messageType:R.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500",children:F.map(R=>e.jsx("option",{value:R.value,children:R.label},R.value))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"メッセージ内容"}),e.jsx(zd,{value:E.content,onChange:R=>T(v=>({...v,content:R})),onSend:()=>{},onFileSelect:()=>{},placeholder:"テンプレート内容を入力してください（絵文字・スタンプも使えます）",className:"w-full",showFileUpload:!1,showVoice:!1})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs("button",{onClick:Ce,disabled:!E.name||!E.content,className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center space-x-2",children:[e.jsx(Ts,{className:"h-4 w-4"}),e.jsx("span",{children:N?"更新":"保存"})]}),N&&e.jsx("button",{onClick:()=>{w(null),T({name:"",content:"",messageType:"text",category:"general"})},className:"px-4 py-2 text-gray-700 border border-gray-300 rounded-md hover:bg-gray-50",children:"キャンセル"})]})]})]}),e.jsxs("div",{children:[e.jsxs("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:["保存済みテンプレート (",O.length,"/20)"]}),e.jsxs("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:[O.map(R=>e.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("h4",{className:"font-medium text-gray-900",children:R.name}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"px-2 py-1 bg-gray-100 text-gray-700 text-xs rounded",children:R.category}),e.jsx("button",{onClick:()=>A(R),className:"text-blue-600 hover:text-blue-800",title:"適用",children:e.jsx(ws,{className:"h-4 w-4"})}),e.jsx("button",{onClick:()=>{w(R),T({name:R.name,content:R.content,messageType:R.messageType,category:R.category})},className:"text-gray-600 hover:text-gray-800",title:"編集",children:e.jsx(ta,{className:"h-4 w-4"})}),e.jsx("button",{onClick:()=>{confirm("このテンプレートを削除しますか？")&&_(v=>v.filter(G=>G.id!==R.id))},className:"text-red-600 hover:text-red-800",title:"削除",children:e.jsx(vt,{className:"h-4 w-4"})})]})]}),e.jsx("p",{className:"text-sm text-gray-600 truncate",children:R.content}),e.jsxs("div",{className:"flex items-center justify-between mt-2 text-xs text-gray-500",children:[e.jsx("span",{children:F.find(v=>v.value===R.messageType)?.label}),e.jsx("span",{children:new Date(R.createdAt).toLocaleDateString("ja-JP")})]})]},R.id)),O.length===0&&e.jsxs("div",{className:"text-center py-8 text-gray-500",children:[e.jsx(ai,{className:"h-12 w-12 mx-auto mb-4 text-gray-300"}),e.jsx("p",{children:"まだテンプレートがありません"}),e.jsx("p",{className:"text-sm",children:"左側のフォームから作成してください"})]})]})]})]})}),e.jsx("div",{className:"p-6 border-t border-gray-200 flex justify-end",children:e.jsx("button",{onClick:()=>{m(!1),w(null),T({name:"",content:"",messageType:"text",category:"general"})},className:"px-4 py-2 text-gray-700 border border-gray-300 rounded-md hover:bg-gray-50",children:"閉じる"})})]})})]})},Ij=()=>{const[i]=y.useState([{id:1,title:"新商品告知キャンペーン",type:"mass",messageType:"text",status:"completed",targets:{type:"all",count:5420},content:{text:`🎉 新商品のお知らせ

待望の新商品が登場しました！`},createdAt:"2024-01-15T10:00:00Z",sentAt:"2024-01-15T14:00:00Z",deliveredCount:5420,openedCount:3247,clickedCount:1823,repliedCount:432,deliveryRate:100,openRate:59.9,clickRate:33.6,replyRate:8},{id:2,title:"セール告知",type:"segment",messageType:"image",status:"completed",targets:{type:"segments",segments:["VIP顧客"],count:1232},content:{text:"🛍️ 期間限定セール開催中！",image:"/images/sale.jpg"},createdAt:"2024-01-14T09:00:00Z",sentAt:"2024-01-14T12:00:00Z",deliveredCount:1232,openedCount:987,clickedCount:654,repliedCount:123,deliveryRate:100,openRate:80.1,clickRate:53.1,replyRate:10},{id:3,title:"イベント案内",type:"individual",messageType:"video",status:"completed",targets:{type:"individual",count:156},content:{text:"📅 特別イベントのご案内",video:"/videos/event.mp4"},createdAt:"2024-01-13T15:00:00Z",sentAt:"2024-01-13T18:00:00Z",deliveredCount:156,openedCount:142,clickedCount:98,repliedCount:34,deliveryRate:100,openRate:91,clickRate:62.8,replyRate:21.8},{id:4,title:"定期メンテナンス通知",type:"mass",messageType:"text",status:"failed",targets:{type:"all",count:5420},content:{text:"🔧 システムメンテナンスのお知らせ"},createdAt:"2024-01-12T08:00:00Z",sentAt:"2024-01-12T09:00:00Z",deliveredCount:0,openedCount:0,clickedCount:0,repliedCount:0,deliveryRate:0,openRate:0,clickRate:0,replyRate:0},{id:5,title:"アップデート情報",type:"segment",messageType:"text",status:"completed",targets:{type:"segments",segments:["アクティブユーザー"],count:2340},content:{text:"📱 アプリが新しくなりました！"},createdAt:"2024-01-11T16:00:00Z",sentAt:"2024-01-11T17:00:00Z",deliveredCount:2340,openedCount:1755,clickedCount:936,repliedCount:187,deliveryRate:100,openRate:75,clickRate:40,replyRate:8}]),[c,o]=y.useState(null),[d,u]=y.useState(""),[m,f]=y.useState("all"),[b,g]=y.useState("all"),[h,j]=y.useState("sentAt"),[C,L]=y.useState("desc"),$=[{value:"completed",label:"送信完了",color:"green",icon:rt},{value:"failed",label:"送信失敗",color:"red",icon:ks},{value:"cancelled",label:"キャンセル",color:"gray",icon:Ta},{value:"sending",label:"送信中",color:"blue",icon:We}],O=[{value:"mass",label:"一斉配信",color:"blue",icon:_e},{value:"segment",label:"セグメント配信",color:"green",icon:sa},{value:"individual",label:"個別配信",color:"purple",icon:Oe}],_=[{value:"text",label:"テキスト",icon:Oe},{value:"image",label:"画像",icon:An},{value:"video",label:"動画",icon:Od},{value:"audio",label:"音声",icon:Kd}],N=i.filter(S=>{const M=S.title.toLowerCase().includes(d.toLowerCase()),H=m==="all"||S.status===m,ee=b==="all"||S.type===b;return M&&H&&ee}).sort((S,M)=>{const H=S[h],ee=M[h];return C==="asc"?H>ee?1:-1:H<ee?1:-1}),w={total:i.length,completed:i.filter(S=>S.status==="completed").length,failed:i.filter(S=>S.status==="failed").length,totalDelivered:i.reduce((S,M)=>S+M.deliveredCount,0),totalOpened:i.reduce((S,M)=>S+M.openedCount,0),avgOpenRate:i.length>0?i.reduce((S,M)=>S+M.openRate,0)/i.length:0,avgClickRate:i.length>0?i.reduce((S,M)=>S+M.clickRate,0)/i.length:0},E=S=>{const M=$.find(ee=>ee.value===S);return M&&{gray:"bg-gray-100 text-gray-800",green:"bg-green-100 text-green-800",blue:"bg-blue-100 text-blue-800",red:"bg-red-100 text-red-800"}[M.color]||"bg-gray-100 text-gray-800"},T=y.useCallback(()=>{const S=["配信名","配信タイプ","メッセージタイプ","ステータス","対象者数","配信数","開封数","クリック数","返信数","配信成功率","開封率","クリック率","返信率","作成日時","送信日時"],M=N.map(le=>[le.title,O.find(F=>F.value===le.type)?.label||le.type,_.find(F=>F.value===le.messageType)?.label||le.messageType,$.find(F=>F.value===le.status)?.label||le.status,le.targets.count,le.deliveredCount,le.openedCount,le.clickedCount,le.repliedCount,le.deliveryRate+"%",le.openRate+"%",le.clickRate+"%",le.replyRate+"%",new Date(le.createdAt).toLocaleString("ja-JP"),le.sentAt?new Date(le.sentAt).toLocaleString("ja-JP"):""]),H=[S,...M].map(le=>le.map(F=>`"${F}"`).join(",")).join(`
`),ee=new Blob([H],{type:"text/csv;charset=utf-8;"}),Y=document.createElement("a");Y.href=URL.createObjectURL(ee),Y.download=`broadcast_history_${new Date().toISOString().split("T")[0]}.csv`,Y.click(),URL.revokeObjectURL(Y.href)},[N,O,_,$]);return e.jsxs("div",{className:"h-full bg-gray-50",children:[e.jsxs("div",{className:"bg-white border-b border-gray-200 p-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"配信履歴"}),e.jsx("p",{className:"text-gray-600 mt-1",children:"過去の配信結果を確認・分析できます"})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs("button",{onClick:T,className:"bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 flex items-center space-x-2",children:[e.jsx(Gt,{className:"h-4 w-4"}),e.jsx("span",{children:"CSV出力"})]}),e.jsxs("button",{onClick:()=>window.location.reload(),className:"bg-gray-600 text-white px-4 py-2 rounded-lg hover:bg-gray-700 flex items-center space-x-2",children:[e.jsx(Vt,{className:"h-4 w-4"}),e.jsx("span",{children:"更新"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mt-6",children:[e.jsx("div",{className:"bg-blue-50 p-4 rounded-lg",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-blue-600 font-medium",children:"総配信数"}),e.jsx("p",{className:"text-2xl font-bold text-blue-900",children:w.total})]}),e.jsx(We,{className:"h-8 w-8 text-blue-600"})]})}),e.jsx("div",{className:"bg-green-50 p-4 rounded-lg",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-green-600 font-medium",children:"成功配信"}),e.jsx("p",{className:"text-2xl font-bold text-green-900",children:w.completed})]}),e.jsx(rt,{className:"h-8 w-8 text-green-600"})]})}),e.jsx("div",{className:"bg-purple-50 p-4 rounded-lg",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-purple-600 font-medium",children:"平均開封率"}),e.jsxs("p",{className:"text-2xl font-bold text-purple-900",children:[w.avgOpenRate.toFixed(1),"%"]})]}),e.jsx(Ue,{className:"h-8 w-8 text-purple-600"})]})}),e.jsx("div",{className:"bg-orange-50 p-4 rounded-lg",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-orange-600 font-medium",children:"平均クリック率"}),e.jsxs("p",{className:"text-2xl font-bold text-orange-900",children:[w.avgClickRate.toFixed(1),"%"]})]}),e.jsx(fl,{className:"h-8 w-8 text-orange-600"})]})})]}),e.jsxs("div",{className:"flex items-center space-x-4 mt-6",children:[e.jsxs("div",{className:"flex-1 relative",children:[e.jsx(mt,{className:"h-4 w-4 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"配信名で検索...",value:d,onChange:S=>u(S.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),e.jsxs("select",{value:m,onChange:S=>f(S.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"all",children:"すべてのステータス"}),$.map(S=>e.jsx("option",{value:S.value,children:S.label},S.value))]}),e.jsxs("select",{value:b,onChange:S=>g(S.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"all",children:"すべてのタイプ"}),O.map(S=>e.jsx("option",{value:S.value,children:S.label},S.value))]}),e.jsxs("select",{value:`${h}-${C}`,onChange:S=>{const[M,H]=S.target.value.split("-");j(M),L(H)},className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"sentAt-desc",children:"送信日時（新しい順）"}),e.jsx("option",{value:"sentAt-asc",children:"送信日時（古い順）"}),e.jsx("option",{value:"openRate-desc",children:"開封率（高い順）"}),e.jsx("option",{value:"openRate-asc",children:"開封率（低い順）"}),e.jsx("option",{value:"deliveredCount-desc",children:"配信数（多い順）"}),e.jsx("option",{value:"deliveredCount-asc",children:"配信数（少ない順）"})]})]})]}),e.jsx("div",{className:"p-6",children:e.jsx("div",{className:"bg-white rounded-lg shadow",children:N.length===0?e.jsxs("div",{className:"p-12 text-center",children:[e.jsx(ka,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"配信履歴が見つかりません"}),e.jsx("p",{className:"text-gray-600",children:"検索条件を変更するか、新しい配信を実行してください。"})]}):e.jsx("div",{className:"overflow-hidden",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"配信名"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"タイプ"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"ステータス"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"配信結果"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"開封率"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"クリック率"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"送信日時"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"操作"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:N.map(S=>{const M=O.find(ee=>ee.value===S.type),H=_.find(ee=>ee.value===S.messageType);return e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(H.icon,{className:"h-5 w-5 text-gray-400 mr-3"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:S.title}),e.jsx("div",{className:"text-sm text-gray-500",children:H.label})]})]})}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(M.icon,{className:"h-4 w-4 mr-2 text-gray-500"}),e.jsx("span",{className:"text-sm text-gray-900",children:M.label})]})}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${E(S.status)}`,children:$.find(ee=>ee.value===S.status)?.label})}),e.jsxs("td",{className:"px-6 py-4",children:[e.jsxs("div",{className:"text-sm text-gray-900",children:["配信: ",S.deliveredCount.toLocaleString()," / ",S.targets.count.toLocaleString()]}),e.jsxs("div",{className:"text-sm text-gray-500",children:["開封: ",S.openedCount.toLocaleString()]})]}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("div",{className:"flex items-center",children:e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsxs("span",{className:"font-medium text-gray-900",children:[S.openRate.toFixed(1),"%"]}),S.openRate>=60?e.jsx(Jt,{className:"h-4 w-4 text-green-500"}):e.jsx(Jt,{className:"h-4 w-4 text-gray-400"})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2 mt-1",children:e.jsx("div",{className:"bg-green-600 h-2 rounded-full",style:{width:`${Math.min(S.openRate,100)}%`}})})]})})}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("div",{className:"flex items-center",children:e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsxs("span",{className:"font-medium text-gray-900",children:[S.clickRate.toFixed(1),"%"]}),S.clickRate>=30?e.jsx(Jt,{className:"h-4 w-4 text-purple-500"}):e.jsx(Jt,{className:"h-4 w-4 text-gray-400"})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2 mt-1",children:e.jsx("div",{className:"bg-purple-600 h-2 rounded-full",style:{width:`${Math.min(S.clickRate,100)}%`}})})]})})}),e.jsx("td",{className:"px-6 py-4 text-sm text-gray-500",children:S.sentAt?new Date(S.sentAt).toLocaleString("ja-JP"):"未送信"}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("button",{onClick:()=>o(S),className:"text-blue-600 hover:text-blue-800",children:e.jsx(Ue,{className:"h-4 w-4"})})})]},S.id)})})]})})})}),c&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:e.jsxs("div",{className:"bg-white rounded-lg max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[e.jsx("div",{className:"p-6 border-b border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"配信詳細分析"}),e.jsx("button",{onClick:()=>o(null),className:"text-gray-400 hover:text-gray-600",children:e.jsx(ks,{className:"h-6 w-6"})})]})}),e.jsx("div",{className:"p-6",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"基本情報"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-sm text-gray-500",children:"配信名:"}),e.jsx("span",{className:"ml-2 font-medium",children:c.title})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-sm text-gray-500",children:"配信タイプ:"}),e.jsx("span",{className:"ml-2 font-medium",children:O.find(S=>S.value===c.type)?.label})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-sm text-gray-500",children:"メッセージタイプ:"}),e.jsx("span",{className:"ml-2 font-medium",children:_.find(S=>S.value===c.messageType)?.label})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-sm text-gray-500",children:"作成日時:"}),e.jsx("span",{className:"ml-2 font-medium",children:new Date(c.createdAt).toLocaleString("ja-JP")})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-sm text-gray-500",children:"送信日時:"}),e.jsx("span",{className:"ml-2 font-medium",children:c.sentAt?new Date(c.sentAt).toLocaleString("ja-JP"):"未送信"})]})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"パフォーマンス指標"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"配信成功率"}),e.jsxs("span",{className:"font-medium",children:[c.deliveryRate,"%"]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-blue-600 h-2 rounded-full",style:{width:`${c.deliveryRate}%`}})})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"開封率"}),e.jsxs("span",{className:"font-medium",children:[c.openRate,"%"]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-green-600 h-2 rounded-full",style:{width:`${Math.min(c.openRate,100)}%`}})})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"クリック率"}),e.jsxs("span",{className:"font-medium",children:[c.clickRate,"%"]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-purple-600 h-2 rounded-full",style:{width:`${Math.min(c.clickRate,100)}%`}})})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"返信率"}),e.jsxs("span",{className:"font-medium",children:[c.replyRate,"%"]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-orange-600 h-2 rounded-full",style:{width:`${Math.min(c.replyRate,100)}%`}})})]})]})]}),e.jsxs("div",{className:"lg:col-span-2",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"配信数詳細"}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg text-center",children:[e.jsx(_e,{className:"h-8 w-8 text-blue-600 mx-auto mb-2"}),e.jsx("p",{className:"text-sm text-blue-600 font-medium",children:"対象者数"}),e.jsx("p",{className:"text-xl font-bold text-blue-900",children:c.targets.count.toLocaleString()})]}),e.jsxs("div",{className:"bg-green-50 p-4 rounded-lg text-center",children:[e.jsx(We,{className:"h-8 w-8 text-green-600 mx-auto mb-2"}),e.jsx("p",{className:"text-sm text-green-600 font-medium",children:"配信成功"}),e.jsx("p",{className:"text-xl font-bold text-green-900",children:c.deliveredCount.toLocaleString()})]}),e.jsxs("div",{className:"bg-purple-50 p-4 rounded-lg text-center",children:[e.jsx(Ue,{className:"h-8 w-8 text-purple-600 mx-auto mb-2"}),e.jsx("p",{className:"text-sm text-purple-600 font-medium",children:"開封数"}),e.jsx("p",{className:"text-xl font-bold text-purple-900",children:c.openedCount.toLocaleString()})]}),e.jsxs("div",{className:"bg-orange-50 p-4 rounded-lg text-center",children:[e.jsx(fl,{className:"h-8 w-8 text-orange-600 mx-auto mb-2"}),e.jsx("p",{className:"text-sm text-orange-600 font-medium",children:"クリック数"}),e.jsx("p",{className:"text-xl font-bold text-orange-900",children:c.clickedCount.toLocaleString()})]})]})]}),e.jsxs("div",{className:"lg:col-span-2",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"メッセージ内容"}),e.jsxs("div",{className:"border rounded-lg p-4 bg-gray-50",children:[e.jsx("p",{className:"text-gray-800 whitespace-pre-wrap",children:c.content.text}),c.content.image&&e.jsxs("div",{className:"mt-3",children:[e.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"添付画像:"}),e.jsx("div",{className:"w-32 h-32 bg-gray-200 rounded border flex items-center justify-center",children:e.jsx(An,{className:"h-8 w-8 text-gray-400"})})]}),c.content.video&&e.jsxs("div",{className:"mt-3",children:[e.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"添付動画:"}),e.jsx("div",{className:"w-32 h-20 bg-gray-200 rounded border flex items-center justify-center",children:e.jsx(Od,{className:"h-8 w-8 text-gray-400"})})]})]})]})]})})]})})]})},Fj=({trigger:i,onComplete:c})=>{const[o,d]=y.useState([]),u={love:{emoji:"💕",color:"#ff69b4",duration:2e3,animation:"float-up"},celebration:{emoji:"🎉",color:"#ffd700",duration:2500,animation:"explode"},sparkle:{emoji:"✨",color:"#87ceeb",duration:1800,animation:"twinkle"},fire:{emoji:"🔥",color:"#ff4500",duration:2200,animation:"burn"}};y.useEffect(()=>{i&&m(i)},[i]);const m=f=>{const b=u[f];if(!b)return;const g={id:Date.now()+Math.random(),...b,x:Math.random()*window.innerWidth,y:Math.random()*window.innerHeight};d(h=>[...h,g]),setTimeout(()=>{d(h=>h.filter(j=>j.id!==g.id)),c&&c()},b.duration)};return e.jsxs("div",{className:"fixed inset-0 pointer-events-none z-50",children:[o.map(f=>e.jsx("div",{className:`absolute text-4xl effect-${f.animation}`,style:{left:f.x,top:f.y,color:f.color,animationDuration:`${f.duration}ms`},children:f.emoji},f.id)),e.jsx("style",{jsx:!0,children:`
        .effect-float-up {
          animation: floatUp ease-out forwards;
        }
        
        .effect-explode {
          animation: explode ease-out forwards;
        }
        
        .effect-twinkle {
          animation: twinkle ease-in-out forwards;
        }
        
        .effect-burn {
          animation: burn ease-out forwards;
        }
        
        @keyframes floatUp {
          0% {
            transform: translateY(0) scale(0);
            opacity: 0;
          }
          20% {
            transform: translateY(-20px) scale(1);
            opacity: 1;
          }
          100% {
            transform: translateY(-200px) scale(0.5);
            opacity: 0;
          }
        }
        
        @keyframes explode {
          0% {
            transform: scale(0) rotate(0deg);
            opacity: 0;
          }
          30% {
            transform: scale(1.5) rotate(180deg);
            opacity: 1;
          }
          100% {
            transform: scale(0.2) rotate(360deg);
            opacity: 0;
          }
        }
        
        @keyframes twinkle {
          0%, 100% {
            transform: scale(0);
            opacity: 0;
          }
          50% {
            transform: scale(1.2);
            opacity: 1;
          }
        }
        
        @keyframes burn {
          0% {
            transform: scale(0.5);
            opacity: 0;
          }
          30% {
            transform: scale(1.2);
            opacity: 1;
          }
          100% {
            transform: scale(0.3) translateY(-100px);
            opacity: 0;
          }
        }
      `})]})},Wj=()=>{const[i,c]=y.useState([{id:1,text:"こんにちは！絵文字テストページへようこそ 😊",timestamp:new Date,sender:"system"},{id:2,text:"下のメッセージ入力欄で絵文字やスタンプを試してみてください 🎉",timestamp:new Date,sender:"system"}]),[o,d]=y.useState(""),[u,m]=y.useState(null),f=()=>{if(o.trim()){const h={id:Date.now(),text:o,timestamp:new Date,sender:"user"};c(j=>[...j,h]),o.includes("❤️")||o.includes("💕")?m("love"):o.includes("🎉")||o.includes("🎊")?m("celebration"):o.includes("✨")||o.includes("⭐")?m("sparkle"):(o.includes("🔥")||o.includes("💥"))&&m("fire"),d("")}},b=h=>{const j={id:Date.now(),text:`[ファイル: ${h.name}]`,timestamp:new Date,sender:"user",file:h};c(C=>[...C,j])},g=h=>h.toLocaleTimeString("ja-JP",{hour:"2-digit",minute:"2-digit"});return e.jsxs("div",{className:"min-h-screen bg-gray-50 p-4",children:[e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6 mb-6",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[e.jsx("div",{className:"w-12 h-12 bg-green-500 rounded-lg flex items-center justify-center",children:e.jsx(Zt,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"絵文字・スタンプテスト"}),e.jsx("p",{className:"text-gray-600",children:"LINE風の絵文字・スタンプ機能をテストできます"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[e.jsx(ti,{className:"w-5 h-5 text-blue-600"}),e.jsx("span",{className:"font-semibold text-blue-900",children:"絵文字機能"})]}),e.jsx("p",{className:"text-sm text-blue-700",children:"豊富な絵文字カテゴリから選択可能"})]}),e.jsxs("div",{className:"bg-green-50 p-4 rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[e.jsx(Zt,{className:"w-5 h-5 text-green-600"}),e.jsx("span",{className:"font-semibold text-green-900",children:"スタンプ機能"})]}),e.jsx("p",{className:"text-sm text-green-700",children:"LINE風のかわいいスタンプ"})]}),e.jsxs("div",{className:"bg-purple-50 p-4 rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[e.jsx(_e,{className:"w-5 h-5 text-purple-600"}),e.jsx("span",{className:"font-semibold text-purple-900",children:"ファイル添付"})]}),e.jsx("p",{className:"text-sm text-purple-700",children:"画像・動画・音声ファイル対応"})]})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm overflow-hidden",children:[e.jsx("div",{className:"bg-green-500 text-white p-4",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-10 h-10 bg-green-400 rounded-full flex items-center justify-center",children:e.jsx(Zt,{className:"w-5 h-5"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold",children:"絵文字テストルーム"}),e.jsx("p",{className:"text-green-100 text-sm",children:"オンライン"})]})]})}),e.jsx("div",{className:"h-96 overflow-y-auto p-4 space-y-3",children:i.map(h=>e.jsx("div",{className:`flex ${h.sender==="user"?"justify-end":"justify-start"}`,children:e.jsxs("div",{className:`max-w-xs lg:max-w-md px-4 py-2 rounded-2xl ${h.sender==="user"?"bg-green-500 text-white":"bg-gray-200 text-gray-900"}`,children:[e.jsx("p",{className:"text-sm leading-relaxed",children:h.text}),h.file&&e.jsxs("div",{className:"mt-2 p-2 bg-black bg-opacity-20 rounded text-xs",children:["📎 ",h.file.name]}),e.jsx("p",{className:`text-xs mt-1 ${h.sender==="user"?"text-green-100":"text-gray-500"}`,children:g(h.timestamp)})]})},h.id))}),e.jsx("div",{className:"border-t border-gray-200 p-4",children:e.jsx(zd,{value:o,onChange:d,onSend:f,onFileSelect:b,placeholder:"メッセージを入力... 絵文字ボタンを押してみてください！",className:"w-full"})})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6 mt-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"🎯 使い方ガイド"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"絵文字の使い方"}),e.jsxs("ul",{className:"text-sm text-gray-600 space-y-1",children:[e.jsx("li",{children:"• 😊 ボタンをクリックして絵文字ピッカーを開く"}),e.jsx("li",{children:"• カテゴリタブで種類を選択"}),e.jsx("li",{children:"• 絵文字をクリックして挿入"}),e.jsx("li",{children:"• よく使う絵文字は「よく使う」に表示"})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"スタンプの使い方"}),e.jsxs("ul",{className:"text-sm text-gray-600 space-y-1",children:[e.jsx("li",{children:"• 🎁 スタンプタブを選択"}),e.jsx("li",{children:"• お気に入りのスタンプをクリック"}),e.jsx("li",{children:"• LINE風のかわいいスタンプが挿入される"}),e.jsx("li",{children:"• スタンプ名も一緒に表示される"})]})]})]})]}),e.jsxs("div",{className:"bg-gray-100 rounded-lg p-4 mt-6",children:[e.jsx("h4",{className:"font-medium text-gray-900 mb-3",children:"💡 クイックテスト"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:["😊 こんにちは！","🎉 おめでとう！","❤️ ありがとう","👍 いいね！","🍕 ランチは何にする？","[スタンプ:コニー] よろしく！"].map((h,j)=>e.jsx("button",{onClick:()=>d(h),className:"px-3 py-1 bg-white text-sm rounded-full border border-gray-300 hover:bg-gray-50 transition-colors",children:h},j))})]})]}),e.jsx(Fj,{trigger:u,onComplete:()=>m(null)})]})},Pj=()=>{const[i,c]=y.useState("7d"),[o]=y.useState([{id:1,type:"broadcast",title:"新商品キャンペーン配信",time:"2時間前",status:"completed",recipients:4090,openRate:67},{id:2,type:"emoji",title:"🎉 絵文字が230回使用されました",time:"3時間前",status:"info"},{id:3,type:"user",title:"新規ユーザー: 田中様が友達追加",time:"5時間前",status:"success"}]),[d]=y.useState([{emoji:"😊",name:"スマイル",count:245},{emoji:"👍",name:"いいね",count:198},{emoji:"❤️",name:"ハート",count:187},{emoji:"🎉",name:"お祝い",count:156},{emoji:"🙏",name:"お願い",count:134}]),m={"7d":{followers:{current:4090,change:8.2,changeType:"increase"},messages:{current:456,change:12.5,changeType:"increase"},broadcasts:{current:12,change:3,changeType:"increase"},engagement:{current:73.2,change:-2.1,changeType:"decrease"},emojiUsage:{current:1234,change:15.8,changeType:"increase"},openRate:{current:67.8,change:4.3,changeType:"increase"}}}[i],f=({title:b,value:g,change:h,changeType:j,icon:C,color:L,suffix:$=""})=>e.jsx("div",{className:"bg-white p-6 rounded-lg shadow-sm border border-gray-200 hover:shadow-md transition-shadow",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:b}),e.jsxs("p",{className:"text-3xl font-bold text-gray-900 mt-2",children:[typeof g=="number"?g.toLocaleString():g,$]}),h!==void 0&&e.jsxs("div",{className:`flex items-center mt-2 ${j==="increase"?"text-green-600":"text-red-600"}`,children:[j==="increase"?e.jsx(wn,{className:"w-4 h-4 mr-1"}):e.jsx(jy,{className:"w-4 h-4 mr-1"}),e.jsxs("span",{className:"text-sm font-medium",children:[Math.abs(h),"% vs 先週"]})]})]}),e.jsx("div",{className:`p-3 rounded-full bg-${L}-100`,children:e.jsx(C,{className:`w-6 h-6 text-${L}-600`})})]})});return e.jsxs("div",{className:"p-6 space-y-6 bg-gray-50 min-h-screen",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"📊 ダッシュボード"}),e.jsx("p",{className:"text-gray-600 mt-1",children:"LINE管理システムの総合統計"})]}),e.jsx("div",{className:"flex items-center space-x-3",children:e.jsxs("select",{value:i,onChange:b=>c(b.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"24h",children:"過去24時間"}),e.jsx("option",{value:"7d",children:"過去7日間"}),e.jsx("option",{value:"30d",children:"過去30日間"}),e.jsx("option",{value:"90d",children:"過去90日間"})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-6 gap-6",children:[e.jsx(f,{title:"総フォロワー",value:m.followers.current,change:m.followers.change,changeType:m.followers.changeType,icon:_e,color:"blue"}),e.jsx(f,{title:"メッセージ数",value:m.messages.current,change:m.messages.change,changeType:m.messages.changeType,icon:Oe,color:"green"}),e.jsx(f,{title:"配信回数",value:m.broadcasts.current,change:m.broadcasts.change,changeType:m.broadcasts.changeType,icon:We,color:"purple"}),e.jsx(f,{title:"エンゲージメント率",value:m.engagement.current,change:m.engagement.change,changeType:m.engagement.changeType,icon:Jt,color:"orange",suffix:"%"}),e.jsx(f,{title:"絵文字使用回数",value:m.emojiUsage.current,change:m.emojiUsage.change,changeType:m.emojiUsage.changeType,icon:Es,color:"yellow"}),e.jsx(f,{title:"開封率",value:m.openRate.current,change:m.openRate.change,changeType:m.openRate.changeType,icon:Ue,color:"indigo",suffix:"%"})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-sm border border-gray-200",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"最近のアクティビティ"}),e.jsx(fl,{className:"w-5 h-5 text-gray-400"})]}),e.jsx("div",{className:"space-y-4",children:o.map(b=>e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx("div",{className:`w-2 h-2 rounded-full mt-2 ${b.status==="completed"?"bg-green-400":b.status==="info"?"bg-blue-400":"bg-yellow-400"}`}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:b.title}),e.jsx("p",{className:"text-xs text-gray-500",children:b.time}),b.recipients&&e.jsxs("p",{className:"text-xs text-gray-600 mt-1",children:[b.recipients.toLocaleString(),"人に配信 • 開封率",b.openRate,"%"]})]})]},b.id))})]}),e.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-sm border border-gray-200",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"人気絵文字ランキング"}),e.jsx(rs,{className:"w-5 h-5 text-gray-400"})]}),e.jsx("div",{className:"space-y-3",children:d.map((b,g)=>e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-500 w-4",children:["#",g+1]}),e.jsx("span",{className:"text-2xl",children:b.emoji}),e.jsx("span",{className:"text-sm font-medium text-gray-900",children:b.name})]}),e.jsxs("span",{className:"text-sm font-semibold text-gray-600",children:[b.count,"回"]})]},g))})]}),e.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-sm border border-gray-200",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"クイックアクション"}),e.jsx(sa,{className:"w-5 h-5 text-gray-400"})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs(dt,{to:"/test-broadcast",className:"w-full flex items-center justify-between p-3 bg-blue-50 hover:bg-blue-100 rounded-lg transition-colors",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(We,{className:"w-5 h-5 text-blue-600"}),e.jsx("span",{className:"text-sm font-medium text-blue-900",children:"新規配信作成"})]}),e.jsx(wn,{className:"w-4 h-4 text-blue-600"})]}),e.jsxs(dt,{to:"/emoji-manager",className:"w-full flex items-center justify-between p-3 bg-green-50 hover:bg-green-100 rounded-lg transition-colors",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(Es,{className:"w-5 h-5 text-green-600"}),e.jsx("span",{className:"text-sm font-medium text-green-900",children:"絵文字管理"})]}),e.jsx(wn,{className:"w-4 h-4 text-green-600"})]}),e.jsxs(dt,{to:"/analytics",className:"w-full flex items-center justify-between p-3 bg-purple-50 hover:bg-purple-100 rounded-lg transition-colors",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(ka,{className:"w-5 h-5 text-purple-600"}),e.jsx("span",{className:"text-sm font-medium text-purple-900",children:"詳細分析"})]}),e.jsx(wn,{className:"w-4 h-4 text-purple-600"})]}),e.jsxs(dt,{to:"/broadcast-history",className:"w-full flex items-center justify-between p-3 bg-orange-50 hover:bg-orange-100 rounded-lg transition-colors",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(ut,{className:"w-5 h-5 text-orange-600"}),e.jsx("span",{className:"text-sm font-medium text-orange-900",children:"配信履歴"})]}),e.jsx(wn,{className:"w-4 h-4 text-orange-600"})]})]})]})]}),e.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-sm border border-gray-200",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"配信パフォーマンス概要"}),e.jsx(ci,{className:"w-5 h-5 text-gray-400"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-3",children:e.jsx(We,{className:"w-8 h-8 text-blue-600"})}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:"12"}),e.jsx("p",{className:"text-sm text-gray-600",children:"総配信数"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-3",children:e.jsx(rt,{className:"w-8 h-8 text-green-600"})}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:"11"}),e.jsx("p",{className:"text-sm text-gray-600",children:"成功配信"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-yellow-100 rounded-full flex items-center justify-center mx-auto mb-3",children:e.jsx(Ue,{className:"w-8 h-8 text-yellow-600"})}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:"67.8%"}),e.jsx("p",{className:"text-sm text-gray-600",children:"平均開封率"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-purple-100 rounded-full flex items-center justify-center mx-auto mb-3",children:e.jsx(_e,{className:"w-8 h-8 text-purple-600"})}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:"4,090"}),e.jsx("p",{className:"text-sm text-gray-600",children:"総リーチ数"})]})]})]})]})},ev=()=>{const[i,c]=y.useState("grid"),[o,d]=y.useState("all"),[u,m]=y.useState(""),[f,b]=y.useState(!1),[g,h]=y.useState([{id:1,name:"company-logo",emoji:"🏢",category:"custom",usage:245,createdAt:"2024-01-10",isCustom:!0},{id:2,name:"sale",emoji:"🏷️",category:"business",usage:189,createdAt:"2024-01-12",isCustom:!0}]),[j,C]=y.useState([{id:1,name:"ありがとうございます",image:"🙏",category:"thanks",usage:567,createdAt:"2024-01-08",isCustom:!0},{id:2,name:"お疲れ様でした",image:"😊",category:"greeting",usage:423,createdAt:"2024-01-09",isCustom:!0}]),L=[{id:"all",name:"すべて",count:g.length+j.length},{id:"emoji",name:"絵文字",count:g.length},{id:"sticker",name:"スタンプ",count:j.length},{id:"custom",name:"カスタム",count:g.filter(N=>N.isCustom).length},{id:"business",name:"ビジネス",count:g.filter(N=>N.category==="business").length}],$=()=>{let N=[];return(o==="all"||o==="emoji")&&(N=[...N,...g.map(w=>({...w,type:"emoji"}))]),(o==="all"||o==="sticker")&&(N=[...N,...j.map(w=>({...w,type:"sticker"}))]),o!=="all"&&o!=="emoji"&&o!=="sticker"&&(N=N.filter(w=>w.category===o)),u&&(N=N.filter(w=>w.name.toLowerCase().includes(u.toLowerCase()))),N.sort((w,E)=>E.usage-w.usage)},O=(N,w)=>{w==="emoji"?h(E=>E.filter(T=>T.id!==N)):C(E=>E.filter(T=>T.id!==N))},_=()=>{const N={emojis:g,stickers:j,exportDate:new Date().toISOString()},w=new Blob([JSON.stringify(N,null,2)],{type:"application/json"}),E=URL.createObjectURL(w),T=document.createElement("a");T.href=E,T.download="emoji-sticker-data.json",T.click(),URL.revokeObjectURL(E)};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"絵文字・スタンプ管理"}),e.jsx("p",{className:"text-gray-600",children:"カスタム絵文字とスタンプの管理・分析"})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs("button",{onClick:()=>b(!0),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 flex items-center space-x-2",children:[e.jsx(it,{className:"w-4 h-4"}),e.jsx("span",{children:"追加"})]}),e.jsxs("button",{onClick:_,className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 flex items-center space-x-2",children:[e.jsx(Gt,{className:"w-4 h-4"}),e.jsx("span",{children:"エクスポート"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Es,{className:"w-5 h-5 text-blue-600"}),e.jsx("span",{className:"font-semibold text-blue-900",children:"総絵文字数"})]}),e.jsx("p",{className:"text-2xl font-bold text-blue-900 mt-1",children:g.length})]}),e.jsxs("div",{className:"bg-green-50 p-4 rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(xl,{className:"w-5 h-5 text-green-600"}),e.jsx("span",{className:"font-semibold text-green-900",children:"総スタンプ数"})]}),e.jsx("p",{className:"text-2xl font-bold text-green-900 mt-1",children:j.length})]}),e.jsxs("div",{className:"bg-purple-50 p-4 rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(rs,{className:"w-5 h-5 text-purple-600"}),e.jsx("span",{className:"font-semibold text-purple-900",children:"総使用回数"})]}),e.jsx("p",{className:"text-2xl font-bold text-purple-900 mt-1",children:g.reduce((N,w)=>N+w.usage,0)+j.reduce((N,w)=>N+w.usage,0)})]}),e.jsxs("div",{className:"bg-orange-50 p-4 rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Yd,{className:"w-5 h-5 text-orange-600"}),e.jsx("span",{className:"font-semibold text-orange-900",children:"人気アイテム"})]}),e.jsx("p",{className:"text-lg font-bold text-orange-900 mt-1",children:[...g,...j].sort((N,w)=>w.usage-N.usage)[0]?.name||"なし"})]})]})]}),e.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6",children:e.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between space-y-4 lg:space-y-0",children:[e.jsxs("div",{className:"relative flex-1 max-w-md",children:[e.jsx(mt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),e.jsx("input",{type:"text",value:u,onChange:N=>m(N.target.value),placeholder:"絵文字・スタンプを検索...",className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),e.jsx("div",{className:"flex items-center space-x-2",children:L.map(N=>e.jsxs("button",{onClick:()=>d(N.id),className:`px-3 py-1 rounded-full text-sm font-medium transition-colors ${o===N.id?"bg-blue-100 text-blue-700":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:[N.name," (",N.count,")"]},N.id))}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>c("grid"),className:`p-2 rounded ${i==="grid"?"bg-blue-100 text-blue-600":"text-gray-400"}`,children:e.jsx(B0,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>c("list"),className:`p-2 rounded ${i==="list"?"bg-blue-100 text-blue-600":"text-gray-400"}`,children:e.jsx(G0,{className:"w-4 h-4"})})]})]})}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[i==="grid"?e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 xl:grid-cols-8 gap-4",children:$().map(N=>e.jsx("div",{className:"bg-gray-50 rounded-lg p-4 hover:bg-gray-100 transition-colors group",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-3xl mb-2",children:N.type==="emoji"?N.emoji:N.image}),e.jsx("p",{className:"text-xs font-medium text-gray-900 truncate",title:N.name,children:N.name}),e.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[N.usage,"回使用"]}),e.jsxs("div",{className:"flex items-center justify-center space-x-1 mt-2 opacity-0 group-hover:opacity-100 transition-opacity",children:[e.jsx("button",{className:"p-1 text-blue-600 hover:bg-blue-100 rounded",children:e.jsx(ta,{className:"w-3 h-3"})}),e.jsx("button",{onClick:()=>O(N.id,N.type),className:"p-1 text-red-600 hover:bg-red-100 rounded",children:e.jsx(vt,{className:"w-3 h-3"})})]})]})},`${N.type}-${N.id}`))}):e.jsx("div",{className:"space-y-2",children:$().map(N=>e.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"text-2xl",children:N.type==="emoji"?N.emoji:N.image}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:N.name}),e.jsxs("p",{className:"text-sm text-gray-500",children:[N.category," • ",N.usage,"回使用 • ",N.createdAt]})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{className:"p-2 text-blue-600 hover:bg-blue-100 rounded",children:e.jsx(ta,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>O(N.id,N.type),className:"p-2 text-red-600 hover:bg-red-100 rounded",children:e.jsx(vt,{className:"w-4 h-4"})})]})]},`${N.type}-${N.id}`))}),$().length===0&&e.jsxs("div",{className:"text-center py-12 text-gray-500",children:[e.jsx(Es,{className:"w-12 h-12 mx-auto mb-4 text-gray-300"}),e.jsx("p",{children:"絵文字・スタンプが見つかりません"})]})]})]})},tv=()=>e.jsx("div",{className:"p-6 bg-gray-50 min-h-screen",children:e.jsx(ev,{})}),sv=({user:i,isOpen:c,onClose:o,onUpdate:d})=>{const[u,m]=y.useState("profile"),[f,b]=y.useState(!1),[g,h]=y.useState(i||{}),[j]=y.useState([{id:1,type:"message_received",title:"メッセージ受信",description:"「ありがとうございます！」",timestamp:"2024-01-20T10:30:00",icon:Oe,color:"blue"},{id:2,type:"broadcast_opened",title:"配信メッセージ開封",description:"新商品キャンペーンのお知らせ",timestamp:"2024-01-20T09:15:00",icon:Ue,color:"green"},{id:3,type:"emoji_used",title:"絵文字使用",description:"😊 スマイル絵文字を使用",timestamp:"2024-01-19T16:45:00",icon:Es,color:"yellow"},{id:4,type:"segment_changed",title:"セグメント変更",description:"スタンダード → プレミアム",timestamp:"2024-01-19T14:20:00",icon:rs,color:"purple"}]),[C]=y.useState([{id:1,type:"received",content:"ありがとうございます！新商品の情報が参考になりました。",timestamp:"2024-01-20T10:30:00",status:"delivered"},{id:2,type:"sent",content:"新商品のお知らせです。詳細はこちらをご確認ください。",timestamp:"2024-01-20T09:00:00",status:"read",openedAt:"2024-01-20T09:15:00"},{id:3,type:"received",content:"こんにちは！質問があります。",timestamp:"2024-01-19T16:45:00",status:"delivered"}]),[L]=y.useState({totalMessages:45,receivedMessages:28,sentMessages:17,averageResponseTime:"2時間15分",openRate:89.5,clickRate:34.2,lastActive:"2024-01-20T10:30:00",joinDate:"2024-01-15T00:00:00",totalSessions:156,favoriteEmojis:["😊","👍","❤️","🎉"]});if(y.useEffect(()=>{h(i||{})},[i]),!c||!i)return null;const $=[{id:"profile",name:"プロフィール",icon:st},{id:"activity",name:"アクティビティ",icon:fl},{id:"messages",name:"メッセージ履歴",icon:Oe},{id:"analytics",name:"統計",icon:Jt}],O=()=>{d(g),b(!1)},_=()=>{h(i),b(!1)},N=H=>new Date(H).toLocaleString("ja-JP"),w=H=>{const ee=H.icon,Y={blue:"text-blue-600 bg-blue-100",green:"text-green-600 bg-green-100",yellow:"text-yellow-600 bg-yellow-100",purple:"text-purple-600 bg-purple-100",red:"text-red-600 bg-red-100"};return e.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center ${Y[H.color]}`,children:e.jsx(ee,{className:"w-4 h-4"})})},E=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"基本情報"}),e.jsx("button",{onClick:()=>f?_():b(!0),className:"flex items-center space-x-2 px-3 py-1 text-sm bg-blue-100 text-blue-700 rounded hover:bg-blue-200",children:f?e.jsxs(e.Fragment,{children:[e.jsx(ot,{className:"w-4 h-4"}),e.jsx("span",{children:"キャンセル"})]}):e.jsxs(e.Fragment,{children:[e.jsx(ta,{className:"w-4 h-4"}),e.jsx("span",{children:"編集"})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"名前"}),f?e.jsx("input",{type:"text",value:g.name||"",onChange:H=>h(ee=>({...ee,name:H.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500"}):e.jsx("p",{className:"text-gray-900",children:i.name})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"表示名"}),f?e.jsx("input",{type:"text",value:g.displayName||"",onChange:H=>h(ee=>({...ee,displayName:H.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500"}):e.jsx("p",{className:"text-gray-900",children:i.displayName||"-"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"メールアドレス"}),f?e.jsx("input",{type:"email",value:g.email||"",onChange:H=>h(ee=>({...ee,email:H.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500"}):e.jsx("p",{className:"text-gray-900",children:i.email})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"電話番号"}),f?e.jsx("input",{type:"tel",value:g.phone||"",onChange:H=>h(ee=>({...ee,phone:H.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500"}):e.jsx("p",{className:"text-gray-900",children:i.phone||"-"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"LINE ID"}),e.jsxs("p",{className:"text-gray-900",children:["@",i.lineId]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"所在地"}),f?e.jsx("input",{type:"text",value:g.location||"",onChange:H=>h(ee=>({...ee,location:H.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500"}):e.jsx("p",{className:"text-gray-900",children:i.location||"-"})]})]}),f&&e.jsxs("div",{className:"mt-4 flex items-center space-x-3",children:[e.jsxs("button",{onClick:O,className:"flex items-center space-x-2 px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",children:[e.jsx(Ts,{className:"w-4 h-4"}),e.jsx("span",{children:"保存"})]}),e.jsxs("button",{onClick:_,className:"flex items-center space-x-2 px-4 py-2 bg-gray-300 text-gray-700 rounded hover:bg-gray-400",children:[e.jsx(ot,{className:"w-4 h-4"}),e.jsx("span",{children:"キャンセル"})]})]})]}),e.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"タグ・セグメント"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"タグ"}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[i.tags?.map((H,ee)=>e.jsx("span",{className:"px-2 py-1 bg-blue-100 text-blue-800 text-xs rounded-full",children:H},ee)),e.jsx("button",{className:"px-2 py-1 bg-gray-200 text-gray-600 text-xs rounded-full hover:bg-gray-300",children:"+ タグ追加"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"セグメント"}),e.jsx("span",{className:"px-3 py-1 bg-purple-100 text-purple-800 text-sm rounded-full",children:i.segmentId})]})]})]})]}),T=()=>e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"最近のアクティビティ"}),e.jsxs("span",{className:"text-sm text-gray-500",children:[j.length,"件のアクティビティ"]})]}),e.jsx("div",{className:"space-y-3",children:j.map(H=>e.jsxs("div",{className:"flex items-start space-x-3 p-3 bg-gray-50 rounded-lg",children:[w(H),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:H.title}),e.jsx("span",{className:"text-xs text-gray-500",children:N(H.timestamp)})]}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:H.description})]})]},H.id))})]}),S=()=>e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"メッセージ履歴"}),e.jsxs("span",{className:"text-sm text-gray-500",children:[C.length,"件のメッセージ"]})]}),e.jsx("div",{className:"space-y-3",children:C.map(H=>e.jsx("div",{className:`flex ${H.type==="sent"?"justify-end":"justify-start"}`,children:e.jsxs("div",{className:`max-w-xs lg:max-w-md px-4 py-2 rounded-lg ${H.type==="sent"?"bg-blue-500 text-white":"bg-gray-200 text-gray-900"}`,children:[e.jsx("p",{className:"text-sm",children:H.content}),e.jsxs("div",{className:"flex items-center justify-between mt-2",children:[e.jsx("span",{className:"text-xs opacity-75",children:N(H.timestamp)}),H.type==="sent"&&e.jsxs("div",{className:"flex items-center space-x-1",children:[H.status==="read"?e.jsx(rt,{className:"w-3 h-3"}):e.jsx(ut,{className:"w-3 h-3"}),e.jsx("span",{className:"text-xs opacity-75",children:H.status==="read"?"既読":"未読"})]})]})]})},H.id))})]}),M=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[e.jsx(Oe,{className:"w-5 h-5 text-blue-600"}),e.jsx("span",{className:"text-sm font-medium text-blue-900",children:"総メッセージ数"})]}),e.jsx("p",{className:"text-2xl font-bold text-blue-900",children:L.totalMessages})]}),e.jsxs("div",{className:"bg-green-50 p-4 rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[e.jsx(Ue,{className:"w-5 h-5 text-green-600"}),e.jsx("span",{className:"text-sm font-medium text-green-900",children:"開封率"})]}),e.jsxs("p",{className:"text-2xl font-bold text-green-900",children:[L.openRate,"%"]})]}),e.jsxs("div",{className:"bg-purple-50 p-4 rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[e.jsx(We,{className:"w-5 h-5 text-purple-600"}),e.jsx("span",{className:"text-sm font-medium text-purple-900",children:"クリック率"})]}),e.jsxs("p",{className:"text-2xl font-bold text-purple-900",children:[L.clickRate,"%"]})]}),e.jsxs("div",{className:"bg-orange-50 p-4 rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[e.jsx(ut,{className:"w-5 h-5 text-orange-600"}),e.jsx("span",{className:"text-sm font-medium text-orange-900",children:"平均応答時間"})]}),e.jsx("p",{className:"text-lg font-bold text-orange-900",children:L.averageResponseTime})]})]}),e.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"詳細統計"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"受信メッセージ"}),e.jsxs("span",{className:"text-sm font-medium",children:[L.receivedMessages,"件"]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"送信メッセージ"}),e.jsxs("span",{className:"text-sm font-medium",children:[L.sentMessages,"件"]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"総セッション数"}),e.jsxs("span",{className:"text-sm font-medium",children:[L.totalSessions,"回"]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"友達追加日"}),e.jsx("span",{className:"text-sm font-medium",children:N(L.joinDate)})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"よく使う絵文字"}),e.jsx("div",{className:"flex space-x-2",children:L.favoriteEmojis.map((H,ee)=>e.jsx("span",{className:"text-2xl",children:H},ee))})]})]})]})]});return e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-4xl w-full mx-4 max-h-[90vh] overflow-hidden",children:[e.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"w-12 h-12 bg-gray-300 rounded-full flex items-center justify-center",children:e.jsx("span",{className:"text-lg font-medium text-gray-700",children:i.name.charAt(0)})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900",children:i.name}),e.jsxs("p",{className:"text-gray-600",children:["@",i.lineId]})]})]}),e.jsx("button",{onClick:o,className:"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-full",children:e.jsx(ot,{className:"w-6 h-6"})})]}),e.jsx("div",{className:"border-b border-gray-200",children:e.jsx("nav",{className:"flex space-x-8 px-6",children:$.map(H=>{const ee=H.icon;return e.jsxs("button",{onClick:()=>m(H.id),className:`flex items-center space-x-2 py-4 border-b-2 font-medium text-sm ${u===H.id?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:[e.jsx(ee,{className:"w-4 h-4"}),e.jsx("span",{children:H.name})]},H.id)})})}),e.jsxs("div",{className:"p-6 overflow-y-auto max-h-[calc(90vh-200px)]",children:[u==="profile"&&E(),u==="activity"&&T(),u==="messages"&&S(),u==="analytics"&&M()]})]})})},av=({user:i,isOpen:c,onClose:o,onUpdate:d})=>{const{hasPermission:u,PERMISSIONS:m,user:f}=xt(),[b,g]=y.useState({name:"",email:"",phone:"",lineId:"",role:"viewer",isActive:!0,location:"",age:"",gender:"",department:"",tags:[],avatar:"",notes:""}),[h,j]=y.useState(""),[C,L]=y.useState({}),[$,O]=y.useState(!1),[_,N]=y.useState(!1),[w,E]=y.useState({newPassword:"",confirmPassword:""});if(y.useEffect(()=>{i&&c&&(g({name:i.name||"",email:i.email||"",phone:i.phone||"",lineId:i.lineId||"",role:i.role||"viewer",isActive:i.isActive!==void 0?i.isActive:!0,location:i.location||"",age:i.age||"",gender:i.gender||"",department:i.department||"",tags:i.tags||[],avatar:i.avatar||"",notes:i.notes||""}),L({}),E({newPassword:"",confirmPassword:""}))},[i,c]),!c||!i)return null;const T=()=>{const F={};return b.name.trim()||(F.name="名前は必須です"),b.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(b.email)||(F.email="有効なメールアドレスを入力してください"):F.email="メールアドレスは必須です",b.lineId&&!/^U[0-9a-f]{32}$/.test(b.lineId)&&(F.lineId="LINE IDの形式が正しくありません（U + 32文字の英数字）"),b.phone&&!/^[\d-+().\s]+$/.test(b.phone)&&(F.phone="電話番号の形式が正しくありません"),b.age&&(isNaN(b.age)||b.age<0||b.age>150)&&(F.age="有効な年齢を入力してください（0-150）"),w.newPassword&&w.newPassword!==w.confirmPassword&&(F.confirmPassword="パスワードが一致しません"),w.newPassword&&w.newPassword.length<8&&(F.newPassword="パスワードは8文字以上で入力してください"),L(F),Object.keys(F).length===0},S=async F=>{if(F.preventDefault(),!!T()){if(!u(m.USER_EDIT)){alert("ユーザー編集権限がありません。");return}if(i.role==="super_admin"&&f?.id!==i.id&&f?.role!=="super_admin"){alert("スーパーアドミンのロールは変更できません。");return}O(!0);try{const ce={...i,...b,age:b.age?parseInt(b.age):null,updatedAt:new Date().toISOString(),updatedBy:f?.id};w.newPassword&&(ce.passwordUpdatedAt=new Date().toISOString()),await new Promise(J=>setTimeout(J,1e3)),d(ce),o(),alert("ユーザー情報を更新しました。")}catch(ce){console.error("ユーザー更新エラー:",ce),alert("更新に失敗しました: "+ce.message)}finally{O(!1)}}},M=(F,ce)=>{g(J=>({...J,[F]:ce})),C[F]&&L(J=>({...J,[F]:null}))},H=()=>{h.trim()&&!b.tags.includes(h.trim())&&(g(F=>({...F,tags:[...F.tags,h.trim()]})),j(""))},ee=F=>{g(ce=>({...ce,tags:ce.tags.filter(J=>J!==F)}))},Y=F=>{const ce=F.target.files[0];if(ce){const J=new FileReader;J.onload=de=>{g(pe=>({...pe,avatar:de.target.result}))},J.readAsDataURL(ce)}},le=[{value:"super_admin",label:"スーパーアドミン",disabled:f?.role!=="super_admin"},{value:"admin",label:"管理者",disabled:!["super_admin","admin"].includes(f?.role)},{value:"manager",label:"マネージャー"},{value:"operator",label:"オペレーター"},{value:"viewer",label:"閲覧者"}];return e.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:e.jsxs("div",{className:"flex items-center justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0",children:[e.jsx("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity",onClick:o}),e.jsxs("div",{className:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-4xl sm:w-full",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-indigo-600 px-6 py-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-10 h-10 bg-white/20 rounded-lg flex items-center justify-center",children:e.jsx(st,{className:"h-5 w-5 text-white"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-white",children:"ユーザー情報編集"}),e.jsxs("p",{className:"text-sm text-blue-100",children:[i.name,"さんの情報を編集します"]})]})]}),e.jsx("button",{onClick:o,className:"text-white/80 hover:text-white transition-colors",children:e.jsx(ot,{className:"h-6 w-6"})})]})}),e.jsxs("form",{onSubmit:S,className:"px-6 py-6",children:[e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[e.jsxs("h4",{className:"text-lg font-medium text-gray-900 mb-4 flex items-center",children:[e.jsx(st,{className:"h-5 w-5 mr-2 text-blue-500"}),"基本情報"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["名前 ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",value:b.name,onChange:F=>M("name",F.target.value),className:`w-full border rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 ${C.name?"border-red-500":"border-gray-300"}`,placeholder:"田中 太郎"}),C.name&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:C.name})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["メールアドレス ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"email",value:b.email,onChange:F=>M("email",F.target.value),className:`w-full border rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 ${C.email?"border-red-500":"border-gray-300"}`,placeholder:"tanaka@example.com"}),C.email&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:C.email})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"電話番号"}),e.jsx("input",{type:"tel",value:b.phone,onChange:F=>M("phone",F.target.value),className:`w-full border rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 ${C.phone?"border-red-500":"border-gray-300"}`,placeholder:"090-1234-5678"}),C.phone&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:C.phone})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"LINE ID"}),e.jsx("input",{type:"text",value:b.lineId,onChange:F=>M("lineId",F.target.value),className:`w-full border rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 ${C.lineId?"border-red-500":"border-gray-300"}`,placeholder:"U1234567890abcdef1234567890abcdef"}),C.lineId&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:C.lineId})]})]})]}),e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[e.jsxs("h4",{className:"text-lg font-medium text-gray-900 mb-4 flex items-center",children:[e.jsx(Xd,{className:"h-5 w-5 mr-2 text-green-500"}),"詳細情報"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"年齢"}),e.jsx("input",{type:"number",value:b.age,onChange:F=>M("age",F.target.value),className:`w-full border rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 ${C.age?"border-red-500":"border-gray-300"}`,placeholder:"30",min:"0",max:"150"}),C.age&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:C.age})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"性別"}),e.jsxs("select",{value:b.gender,onChange:F=>M("gender",F.target.value),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"",children:"選択してください"}),e.jsx("option",{value:"male",children:"男性"}),e.jsx("option",{value:"female",children:"女性"}),e.jsx("option",{value:"other",children:"その他"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"部署"}),e.jsx("input",{type:"text",value:b.department,onChange:F=>M("department",F.target.value),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"管理部"})]})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"所在地"}),e.jsx("input",{type:"text",value:b.location,onChange:F=>M("location",F.target.value),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"東京都渋谷区"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"メモ"}),e.jsx("textarea",{value:b.notes,onChange:F=>M("notes",F.target.value),rows:3,className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"ユーザーに関する追加情報..."})]})]}),u(m.USER_EDIT)&&e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[e.jsxs("h4",{className:"text-lg font-medium text-gray-900 mb-4 flex items-center",children:[e.jsx(la,{className:"h-5 w-5 mr-2 text-yellow-500"}),"パスワード変更"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"新しいパスワード"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:_?"text":"password",value:w.newPassword,onChange:F=>E(ce=>({...ce,newPassword:F.target.value})),className:`w-full border rounded-lg px-3 py-2 pr-10 focus:outline-none focus:ring-2 focus:ring-blue-500 ${C.newPassword?"border-red-500":"border-gray-300"}`,placeholder:"8文字以上で入力"}),e.jsx("button",{type:"button",onClick:()=>N(!_),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:_?e.jsx(q0,{className:"h-4 w-4"}):e.jsx(Ue,{className:"h-4 w-4"})})]}),C.newPassword&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:C.newPassword})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"パスワード確認"}),e.jsx("input",{type:_?"text":"password",value:w.confirmPassword,onChange:F=>E(ce=>({...ce,confirmPassword:F.target.value})),className:`w-full border rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 ${C.confirmPassword?"border-red-500":"border-gray-300"}`,placeholder:"パスワードを再入力"}),C.confirmPassword&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:C.confirmPassword})]})]}),e.jsx("div",{className:"mt-3 p-3 bg-yellow-50 rounded-md",children:e.jsxs("div",{className:"flex items-start space-x-2",children:[e.jsx(Ta,{className:"h-4 w-4 text-yellow-600 mt-0.5"}),e.jsx("p",{className:"text-xs text-yellow-800",children:"パスワードを変更すると、ユーザーは次回ログイン時に新しいパスワードでログインする必要があります。"})]})})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[e.jsx("h4",{className:"text-sm font-medium text-gray-900 mb-4",children:"アバター画像"}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-24 h-24 mx-auto mb-4 bg-gray-300 rounded-full overflow-hidden flex items-center justify-center",children:b.avatar?e.jsx("img",{src:b.avatar,alt:"Avatar",className:"w-full h-full object-cover"}):e.jsx("span",{className:"text-2xl font-medium text-gray-700",children:b.name.charAt(0).toUpperCase()})}),e.jsxs("label",{className:"cursor-pointer inline-flex items-center space-x-2 bg-gray-50 hover:bg-gray-100 text-gray-700 px-3 py-2 rounded-lg text-sm",children:[e.jsx(ls,{className:"h-4 w-4"}),e.jsx("span",{children:"画像を選択"}),e.jsx("input",{type:"file",accept:"image/*",onChange:Y,className:"hidden"})]})]})]}),e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[e.jsxs("h4",{className:"text-sm font-medium text-gray-900 mb-4 flex items-center",children:[e.jsx(la,{className:"h-4 w-4 mr-2"}),"権限設定"]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"ロール"}),e.jsx("select",{value:b.role,onChange:F=>M("role",F.target.value),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",children:le.map(F=>e.jsx("option",{value:F.value,disabled:F.disabled,children:F.label},F.value))})]}),e.jsx("div",{children:e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",checked:b.isActive,onChange:F=>M("isActive",F.target.checked),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),e.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"アカウントを有効化"})]})})]}),e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[e.jsxs("h4",{className:"text-sm font-medium text-gray-900 mb-4 flex items-center",children:[e.jsx(I0,{className:"h-4 w-4 mr-2"}),"タグ"]}),e.jsxs("div",{className:"flex space-x-2 mb-3",children:[e.jsx("input",{type:"text",value:h,onChange:F=>j(F.target.value),onKeyPress:F=>F.key==="Enter"&&(F.preventDefault(),H()),className:"flex-1 border border-gray-300 rounded-lg px-3 py-1 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"新しいタグ"}),e.jsx("button",{type:"button",onClick:H,className:"px-3 py-1 bg-blue-50 text-blue-600 rounded-lg text-sm hover:bg-blue-100",children:"追加"})]}),e.jsx("div",{className:"flex flex-wrap gap-2",children:b.tags.map((F,ce)=>e.jsxs("span",{className:"inline-flex items-center space-x-1 bg-blue-100 text-blue-800 text-xs px-2 py-1 rounded-full",children:[e.jsx("span",{children:F}),e.jsx("button",{type:"button",onClick:()=>ee(F),className:"text-blue-600 hover:text-blue-800",children:e.jsx(ot,{className:"h-3 w-3"})})]},ce))})]})]})]}),e.jsxs("div",{className:"mt-8 flex items-center justify-between pt-6 border-t border-gray-200",children:[e.jsxs("div",{className:"text-sm text-gray-500",children:["最終更新: ",i.updatedAt?new Date(i.updatedAt).toLocaleString("ja-JP"):"未更新"]}),e.jsxs("div",{className:"flex space-x-3",children:[e.jsx("button",{type:"button",onClick:o,className:"px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 hover:bg-gray-50",disabled:$,children:"キャンセル"}),e.jsx("button",{type:"submit",disabled:$,className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed",children:$?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin -ml-1 mr-2 h-4 w-4 border-2 border-white border-t-transparent rounded-full"}),"更新中..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Ts,{className:"-ml-1 mr-2 h-4 w-4"}),"更新"]})})]})]})]})]})]})})},lv=({isOpen:i,onClose:c,users:o})=>{const{hasPermission:d,PERMISSIONS:u}=xt(),[m,f]=y.useState("list"),[b,g]=y.useState([]),[h,j]=y.useState(null),[C,L]=y.useState(""),[$,O]=y.useState({showEmpty:!0,sortBy:"name"}),[_,N]=y.useState({name:"",description:"",color:"#3b82f6",isActive:!0,permissions:[],members:[],tags:[]});if(!i)return null;const w=[{id:"1",name:"管理者グループ",description:"システム管理者用グループ",color:"#dc2626",isActive:!0,memberCount:3,members:["1","2"],permissions:["USER_CREATE","USER_EDIT","USER_DELETE","SYSTEM_SETTINGS"],tags:["管理","重要"],createdAt:"2024-01-01T00:00:00Z",updatedAt:"2024-01-15T10:30:00Z"},{id:"2",name:"マーケティングチーム",description:"マーケティング担当者グループ",color:"#059669",isActive:!0,memberCount:8,members:["2","3","4"],permissions:["ANALYTICS_VIEW","MESSAGE_SEND","USER_VIEW"],tags:["マーケティング","分析"],createdAt:"2024-01-02T00:00:00Z",updatedAt:"2024-01-10T15:45:00Z"},{id:"3",name:"カスタマーサポート",description:"お客様サポート担当グループ",color:"#7c3aed",isActive:!0,memberCount:12,members:["3","5"],permissions:["USER_VIEW","MESSAGE_SEND","TICKET_MANAGE"],tags:["サポート","対応"],createdAt:"2024-01-03T00:00:00Z",updatedAt:"2024-01-12T09:20:00Z"},{id:"4",name:"新人研修グループ",description:"新入社員向けの研修用グループ",color:"#f59e0b",isActive:!1,memberCount:0,members:[],permissions:["USER_VIEW"],tags:["研修","新人"],createdAt:"2024-01-04T00:00:00Z",updatedAt:"2024-01-04T00:00:00Z"}];y.useEffect(()=>{i&&g(w)},[i]);const E=b.filter(J=>{const de=J.name.toLowerCase().includes(C.toLowerCase())||J.description.toLowerCase().includes(C.toLowerCase()),pe=$.showEmpty||J.memberCount>0;return de&&pe}).sort((J,de)=>{switch($.sortBy){case"members":return de.memberCount-J.memberCount;case"created":return new Date(de.createdAt)-new Date(J.createdAt);default:return J.name.localeCompare(de.name)}}),T=()=>{if(!_.name.trim()){alert("グループ名を入力してください。");return}const J={id:h?.id||`group_${Date.now()}`,..._,memberCount:_.members.length,createdAt:h?.createdAt||new Date().toISOString(),updatedAt:new Date().toISOString()};g(h?de=>de.map(pe=>pe.id===h.id?J:pe):de=>[...de,J]),M(),f("list")},S=J=>{window.confirm(`「${J.name}」を削除してもよろしいですか？

メンバーからグループは削除されますが、ユーザー自体は削除されません。`)&&g(de=>de.filter(pe=>pe.id!==J.id))},M=()=>{N({name:"",description:"",color:"#3b82f6",isActive:!0,permissions:[],members:[],tags:[]}),j(null)},H=J=>{j(J),N({name:J.name,description:J.description,color:J.color,isActive:J.isActive,permissions:J.permissions||[],members:J.members||[],tags:J.tags||[]}),f("edit")},ee=J=>{N(de=>({...de,members:de.members.includes(J)?de.members.filter(pe=>pe!==J):[...de.members,J]}))},Y=[{id:"USER_VIEW",label:"ユーザー表示",category:"ユーザー管理"},{id:"USER_CREATE",label:"ユーザー作成",category:"ユーザー管理"},{id:"USER_EDIT",label:"ユーザー編集",category:"ユーザー管理"},{id:"USER_DELETE",label:"ユーザー削除",category:"ユーザー管理"},{id:"ANALYTICS_VIEW",label:"分析データ表示",category:"分析"},{id:"ANALYTICS_EXPORT",label:"データエクスポート",category:"分析"},{id:"MESSAGE_SEND",label:"メッセージ送信",category:"メッセージ"},{id:"MESSAGE_BROADCAST",label:"一斉送信",category:"メッセージ"},{id:"SYSTEM_SETTINGS",label:"システム設定",category:"システム"},{id:"TICKET_MANAGE",label:"チケット管理",category:"サポート"}],le=[{value:"#dc2626",label:"赤",class:"bg-red-500"},{value:"#ea580c",label:"オレンジ",class:"bg-orange-500"},{value:"#f59e0b",label:"黄",class:"bg-yellow-500"},{value:"#059669",label:"緑",class:"bg-green-500"},{value:"#0891b2",label:"シアン",class:"bg-cyan-500"},{value:"#3b82f6",label:"青",class:"bg-blue-500"},{value:"#7c3aed",label:"紫",class:"bg-purple-500"},{value:"#be185d",label:"ピンク",class:"bg-pink-500"}],F=()=>e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[e.jsxs("div",{className:"flex-1 relative",children:[e.jsx(mt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),e.jsx("input",{type:"text",placeholder:"グループ名、説明で検索...",value:C,onChange:J=>L(J.target.value),className:"pl-9 w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("select",{value:$.sortBy,onChange:J=>O(de=>({...de,sortBy:J.target.value})),className:"border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"name",children:"名前順"}),e.jsx("option",{value:"members",children:"メンバー数順"}),e.jsx("option",{value:"created",children:"作成日順"})]}),e.jsxs("label",{className:"flex items-center space-x-2 px-3 py-2 border border-gray-300 rounded-lg bg-gray-50",children:[e.jsx("input",{type:"checkbox",checked:$.showEmpty,onChange:J=>O(de=>({...de,showEmpty:J.target.checked})),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),e.jsx("span",{className:"text-sm text-gray-700",children:"空のグループも表示"})]})]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:E.map(J=>e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden hover:shadow-md transition-shadow",children:[e.jsx("div",{className:"p-4 border-b border-gray-100",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-4 h-4 rounded-full flex-shrink-0",style:{backgroundColor:J.color}}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h3",{className:"text-sm font-medium text-gray-900 truncate",children:J.name}),e.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[J.memberCount,"名のメンバー"]})]})]}),e.jsxs("div",{className:"flex items-center space-x-1",children:[!J.isActive&&e.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full",title:"無効"}),d(u.USER_EDIT)&&e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:()=>H(J),className:"p-1 text-gray-400 hover:text-blue-600 transition-colors",title:"編集",children:e.jsx(Ca,{className:"h-4 w-4"})}),e.jsx("button",{onClick:()=>S(J),className:"p-1 text-gray-400 hover:text-red-600 transition-colors",title:"削除",children:e.jsx(vt,{className:"h-4 w-4"})})]})]})]})}),e.jsxs("div",{className:"p-4",children:[e.jsx("p",{className:"text-sm text-gray-600 mb-3 line-clamp-2",children:J.description||"グループの説明はありません。"}),J.tags&&J.tags.length>0&&e.jsxs("div",{className:"flex flex-wrap gap-1 mb-3",children:[J.tags.slice(0,3).map((de,pe)=>e.jsx("span",{className:"inline-block bg-gray-100 text-gray-600 text-xs px-2 py-1 rounded-full",children:de},pe)),J.tags.length>3&&e.jsxs("span",{className:"text-xs text-gray-400",children:["+",J.tags.length-3]})]}),e.jsxs("div",{className:"text-xs text-gray-500",children:[J.permissions?.length||0,"個の権限"]})]}),e.jsxs("div",{className:"px-4 py-3 bg-gray-50 text-xs text-gray-500",children:["更新: ",new Date(J.updatedAt).toLocaleDateString("ja-JP")]})]},J.id))}),E.length===0&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx(_e,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"グループが見つかりません"}),e.jsx("p",{className:"text-gray-500",children:"検索条件を変更するか、新しいグループを作成してください。"})]})]}),ce=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[e.jsx("h4",{className:"text-lg font-medium text-gray-900 mb-4",children:"基本情報"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["グループ名 ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",value:_.name,onChange:J=>N(de=>({...de,name:J.target.value})),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"管理者グループ"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"カラー"}),e.jsx("div",{className:"flex space-x-2",children:le.map(J=>e.jsx("button",{type:"button",onClick:()=>N(de=>({...de,color:J.value})),className:`w-8 h-8 rounded-full ${J.class} ${_.color===J.value?"ring-2 ring-offset-2 ring-blue-500":""}`,title:J.label},J.value))})]})]}),e.jsxs("div",{className:"mt-4",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"説明"}),e.jsx("textarea",{value:_.description,onChange:J=>N(de=>({...de,description:J.target.value})),rows:3,className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"グループの目的や役割を説明してください"})]}),e.jsx("div",{className:"mt-4",children:e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",checked:_.isActive,onChange:J=>N(de=>({...de,isActive:J.target.checked})),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),e.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"グループを有効化"})]})})]}),e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4",children:[e.jsxs("h4",{className:"text-lg font-medium text-gray-900 mb-4 flex items-center",children:[e.jsx(_t,{className:"h-5 w-5 mr-2"}),"権限設定"]}),e.jsx("div",{className:"space-y-4",children:Object.entries(Y.reduce((J,de)=>(J[de.category]||(J[de.category]=[]),J[de.category].push(de),J),{})).map(([J,de])=>e.jsxs("div",{children:[e.jsx("h5",{className:"font-medium text-gray-700 mb-2",children:J}),e.jsx("div",{className:"grid grid-cols-2 gap-2",children:de.map(pe=>e.jsxs("label",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"checkbox",checked:_.permissions.includes(pe.id),onChange:Ce=>{Ce.target.checked?N(A=>({...A,permissions:[...A.permissions,pe.id]})):N(A=>({...A,permissions:A.permissions.filter(Q=>Q!==pe.id)}))},className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),e.jsx("span",{className:"text-sm text-gray-700",children:pe.label})]},pe.id))})]},J))})]}),e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4",children:[e.jsxs("h4",{className:"text-lg font-medium text-gray-900 mb-4 flex items-center",children:[e.jsx(W0,{className:"h-5 w-5 mr-2"}),"メンバー選択 (",_.members.length,"名)"]}),e.jsx("div",{className:"max-h-64 overflow-y-auto space-y-2",children:o.map(J=>e.jsxs("label",{className:"flex items-center space-x-3 p-2 hover:bg-gray-50 rounded",children:[e.jsx("input",{type:"checkbox",checked:_.members.includes(J.id),onChange:()=>ee(J.id),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),e.jsxs("div",{className:"flex items-center space-x-2 flex-1",children:[e.jsx("div",{className:"w-8 h-8 bg-gray-300 rounded-full flex items-center justify-center",children:J.avatar?e.jsx("img",{src:J.avatar,alt:"",className:"w-8 h-8 rounded-full"}):e.jsx("span",{className:"text-sm font-medium text-gray-700",children:J.name.charAt(0).toUpperCase()})}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:J.name}),e.jsx("div",{className:"text-xs text-gray-500",children:J.email})]})]})]},J.id))})]})]});return e.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:e.jsxs("div",{className:"flex items-center justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0",children:[e.jsx("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity",onClick:c}),e.jsxs("div",{className:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-7xl sm:w-full",children:[e.jsx("div",{className:"bg-gradient-to-r from-purple-500 to-indigo-600 px-6 py-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-10 h-10 bg-white/20 rounded-lg flex items-center justify-center",children:e.jsx(_e,{className:"h-5 w-5 text-white"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-white",children:"ユーザーグループ管理"}),e.jsx("p",{className:"text-sm text-purple-100",children:"グループを作成してユーザーの権限を管理します"})]})]}),e.jsx("button",{onClick:c,className:"text-white/80 hover:text-white transition-colors",children:e.jsx(ot,{className:"h-6 w-6"})})]})}),e.jsx("div",{className:"border-b border-gray-200",children:e.jsxs("nav",{className:"flex space-x-8 px-6",children:[e.jsxs("button",{onClick:()=>f("list"),className:`py-4 px-1 border-b-2 font-medium text-sm ${m==="list"?"border-purple-500 text-purple-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:["グループ一覧 (",b.length,")"]}),d(u.USER_CREATE)&&e.jsx("button",{onClick:()=>{M(),f("create")},className:`py-4 px-1 border-b-2 font-medium text-sm ${m==="create"?"border-purple-500 text-purple-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"新規作成"}),m==="edit"&&e.jsx("button",{className:"py-4 px-1 border-b-2 border-purple-500 text-purple-600 font-medium text-sm",children:"グループ編集"})]})}),e.jsxs("div",{className:"px-6 py-6 max-h-96 overflow-y-auto",children:[m==="list"&&F(),(m==="create"||m==="edit")&&ce()]}),e.jsxs("div",{className:"bg-gray-50 px-6 py-4 flex items-center justify-between",children:[e.jsx("div",{className:"text-sm text-gray-600",children:m==="list"?`${E.length}件のグループを表示中`:`${m==="edit"?"グループを編集":"新しいグループを作成"}`}),e.jsxs("div",{className:"flex space-x-3",children:[(m==="create"||m==="edit")&&e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:()=>f("list"),className:"px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 hover:bg-gray-50",children:"キャンセル"}),e.jsxs("button",{onClick:T,className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-purple-600 hover:bg-purple-700",children:[e.jsx(Ts,{className:"-ml-1 mr-2 h-4 w-4"}),m==="edit"?"更新":"作成"]})]}),m==="list"&&e.jsx("button",{onClick:c,className:"px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 hover:bg-gray-50",children:"閉じる"})]})]})]})]})})},nv=(i,c="export.csv",o=null)=>{if(!i||i.length===0)throw new Error("エクスポートするデータがありません");const d=o||Object.keys(i[0]),u=d.map(C=>({id:"ID",name:"名前",email:"メールアドレス",phone:"電話番号",role:"ロール",isActive:"ステータス",lastLoginAt:"最終ログイン",createdAt:"作成日時",lineId:"LINE ID",location:"所在地",age:"年齢",gender:"性別",tags:"タグ"})[C]||C),m=i.map(C=>d.map(L=>{let $=C[L];return $==null?"":Array.isArray($)?`"${$.join(", ")}"`:L.includes("At")&&$?new Date($).toLocaleString("ja-JP"):typeof $=="boolean"?$?"はい":"いいえ":L==="role"?{admin:"管理者",manager:"マネージャー",operator:"オペレーター",viewer:"閲覧者"}[$]||$:L==="isActive"?$?"アクティブ":"無効":typeof $=="string"&&($.includes(",")||$.includes(`
`)||$.includes('"'))?`"${$.replace(/"/g,'""')}"`:$})),f=[u.join(","),...m.map(C=>C.join(","))].join(`
`),b="\uFEFF",g=new Blob([b+f],{type:"text/csv;charset=utf-8;"}),h=document.createElement("a"),j=URL.createObjectURL(g);h.setAttribute("href",j),h.setAttribute("download",c),h.style.visibility="hidden",document.body.appendChild(h),h.click(),document.body.removeChild(h),URL.revokeObjectURL(j)},as=[{key:"id",label:"ID",required:!0},{key:"name",label:"名前",required:!0},{key:"email",label:"メールアドレス",required:!0},{key:"phone",label:"電話番号",required:!1},{key:"lineId",label:"LINE ID",required:!1},{key:"role",label:"ロール",required:!0},{key:"isActive",label:"ステータス",required:!0},{key:"location",label:"所在地",required:!1},{key:"age",label:"年齢",required:!1},{key:"gender",label:"性別",required:!1},{key:"tags",label:"タグ",required:!1},{key:"lastLoginAt",label:"最終ログイン",required:!1},{key:"createdAt",label:"作成日時",required:!1}],rv=(i,c)=>({totalRecords:i.length,selectedColumns:c.length,totalColumns:as.length,exportDate:new Date().toISOString(),fileSize:iv(i,c)}),iv=(i,c)=>{if(!i||i.length===0)return 0;const d=(c.reduce((u,m)=>{const f=i[0][m];let b=10;return typeof f=="string"?b=f.length+2:Array.isArray(f)&&(b=f.join(", ").length+2),u+b},0)+c.length)*i.length;return Math.round(d/1024)},th={IMPORT:"import",EXPORT:"export"},gl={PROCESSING:"processing",COMPLETED:"completed",FAILED:"failed"},sh=i=>{try{const c=ah(),o={id:xv(),createdAt:new Date().toISOString(),...i};c.unshift(o);const d=c.slice(0,100);return localStorage.setItem("importExportHistory",JSON.stringify(d)),o}catch(c){return console.error("履歴保存エラー:",c),null}},ah=()=>{try{const i=localStorage.getItem("importExportHistory");return i?JSON.parse(i):[]}catch(i){return console.error("履歴取得エラー:",i),[]}},Rn=(i,c)=>{try{const o=ah(),d=o.findIndex(u=>u.id===i);return d!==-1?(o[d]={...o[d],...c},localStorage.setItem("importExportHistory",JSON.stringify(o)),o[d]):null}catch(o){return console.error("履歴更新エラー:",o),null}},cv=(i,c,o,d,u)=>{const m=hv(c,o);return sh({type:th.EXPORT,filename:i,status:gl.PROCESSING,recordCount:c.length,successCount:0,errorCount:0,fileSize:`${m}KB`,createdBy:u,columns:o,filters:d,progress:0})},dv=(i,c,o,d)=>sh({type:th.IMPORT,filename:i,status:gl.PROCESSING,recordCount:c,successCount:0,errorCount:0,fileSize:fv(o),createdBy:d,progress:0,errors:[]}),ov=(i,c)=>Rn(i,{status:gl.COMPLETED,successCount:Rn.recordCount||0,duration:`${c}s`,progress:100}),uv=(i,c,o)=>Rn(i,{status:c.errors>0&&c.success===0?gl.FAILED:gl.COMPLETED,successCount:c.success,errorCount:c.errors,duration:`${o}s`,progress:100,errors:c.errorDetails||[]}),lh=(i,c,o=null)=>{const d={status:gl.FAILED,error:typeof c=="string"?c:c.message,progress:0};return o&&(d.duration=`${o}s`),Rn(i,d)},mv=(i,c,o=null,d=null)=>{const u={progress:c};return o!==null&&(u.successCount=o),d!==null&&(u.errorCount=d),Rn(i,u)},xv=()=>`history_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,hv=(i,c)=>{if(!i||i.length===0)return 0;const d=(c.reduce((u,m)=>{const f=i[0][m];let b=10;return typeof f=="string"?b=f.length+2:Array.isArray(f)&&(b=f.join(", ").length+2),u+b},0)+c.length)*i.length;return Math.round(d/1024)},fv=i=>{if(i===0)return"0KB";const c=1024,o=["B","KB","MB","GB"],d=Math.floor(Math.log(i)/Math.log(c));return Math.round(i/Math.pow(c,d)*100)/100+o[d]},gv=({isOpen:i,onClose:c,users:o,currentFilters:d})=>{const{user:u}=xt(),[m,f]=y.useState(as.filter(T=>T.required).map(T=>T.key)),[b,g]=y.useState("csv"),[h,j]=y.useState(!0),[C,L]=y.useState(!1);if(!i)return null;const $=o,O=rv($,m),_=T=>{as.find(M=>M.key===T).required&&m.includes(T)||f(M=>M.includes(T)?M.filter(H=>H!==T):[...M,T])},N=()=>{f(as.map(T=>T.key))},w=()=>{f(as.filter(T=>T.required).map(T=>T.key))},E=async()=>{L(!0);const T=Date.now(),M=`users_export_${new Date().toISOString().slice(0,10)}.csv`,H=cv(M,$,m,d,{id:u?.id||"unknown",name:u?.name||"不明なユーザー",email:u?.email||""});try{await nv($,M,m);const ee=((Date.now()-T)/1e3).toFixed(1);H&&ov(H.id,ee),setTimeout(()=>{L(!1),c(),alert(`${$.length}件のデータを正常にエクスポートしました。`)},1e3)}catch(ee){if(console.error("エクスポートエラー:",ee),H){const Y=((Date.now()-T)/1e3).toFixed(1);lh(H.id,ee,Y)}L(!1),alert("エクスポートに失敗しました: "+ee.message)}};return e.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:e.jsxs("div",{className:"flex items-center justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0",children:[e.jsx("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity",onClick:c}),e.jsxs("div",{className:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-4xl sm:w-full",children:[e.jsx("div",{className:"bg-gradient-to-r from-green-500 to-blue-600 px-6 py-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-10 h-10 bg-white/20 rounded-lg flex items-center justify-center",children:e.jsx(Gt,{className:"h-5 w-5 text-white"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-white",children:"ユーザーデータをエクスポート"}),e.jsx("p",{className:"text-sm text-green-100",children:"CSV形式でユーザー情報をダウンロードします"})]})]}),e.jsx("button",{onClick:c,className:"text-white/80 hover:text-white transition-colors",children:e.jsx(ot,{className:"h-6 w-6"})})]})}),e.jsx("div",{className:"px-6 py-6",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[e.jsxs("div",{className:"bg-blue-50 rounded-lg p-4 border border-blue-200",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[e.jsx(H0,{className:"h-5 w-5 text-blue-600"}),e.jsx("h4",{className:"text-lg font-medium text-gray-900",children:"エクスポート対象"})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"radio",checked:h,onChange:()=>j(!0),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300"}),e.jsxs("span",{className:"ml-2 text-sm text-gray-700",children:["現在のフィルター結果 (",$.length,"件)"]})]}),e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"radio",checked:!h,onChange:()=>j(!1),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300"}),e.jsxs("span",{className:"ml-2 text-sm text-gray-700",children:["全ユーザー (",o.length,"件)"]})]})]})]}),e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg",children:[e.jsx("div",{className:"px-4 py-3 border-b border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(_t,{className:"h-5 w-5 text-gray-600"}),e.jsx("h4",{className:"text-lg font-medium text-gray-900",children:"エクスポート列の選択"})]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("button",{onClick:w,className:"text-sm text-blue-600 hover:text-blue-800",children:"必須のみ"}),e.jsx("button",{onClick:N,className:"text-sm text-blue-600 hover:text-blue-800",children:"すべて選択"})]})]})}),e.jsxs("div",{className:"p-4",children:[e.jsx("div",{className:"grid grid-cols-2 gap-3",children:as.map(T=>e.jsxs("label",{className:"flex items-center space-x-3",children:[e.jsx("input",{type:"checkbox",checked:m.includes(T.key),onChange:()=>_(T.key),disabled:T.required&&m.includes(T.key),className:"h-4 w-4 text-green-600 focus:ring-green-500 border-gray-300 rounded"}),e.jsxs("span",{className:`text-sm ${T.required?"font-medium text-gray-900":"text-gray-700"}`,children:[T.label,T.required&&e.jsx("span",{className:"text-red-500 ml-1",children:"*"})]})]},T.key))}),e.jsx("div",{className:"mt-4 p-3 bg-yellow-50 rounded-md",children:e.jsxs("div",{className:"flex items-start space-x-2",children:[e.jsx(Ln,{className:"h-4 w-4 text-yellow-600 mt-0.5"}),e.jsxs("p",{className:"text-xs text-yellow-800",children:[e.jsx("span",{className:"text-red-500",children:"*"}),"必須項目は選択を解除できません"]})]})})]})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[e.jsxs("h4",{className:"text-lg font-medium text-gray-900 mb-4 flex items-center",children:[e.jsx(oi,{className:"h-5 w-5 mr-2"}),"エクスポート統計"]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"対象レコード数"}),e.jsxs("span",{className:"text-sm font-medium",children:[O.totalRecords.toLocaleString(),"件"]})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"選択列数"}),e.jsxs("span",{className:"text-sm font-medium",children:[O.selectedColumns,"/",O.totalColumns]})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"推定ファイルサイズ"}),e.jsxs("span",{className:"text-sm font-medium",children:[O.fileSize,"KB"]})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"フォーマット"}),e.jsx("span",{className:"text-sm font-medium",children:"CSV (UTF-8)"})]})]})]}),e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg",children:[e.jsx("div",{className:"px-4 py-3 border-b border-gray-200",children:e.jsx("h4",{className:"text-sm font-medium text-gray-900",children:"データプレビュー"})}),e.jsx("div",{className:"p-4",children:e.jsx("div",{className:"text-xs bg-gray-100 p-3 rounded border overflow-x-auto",children:e.jsxs("div",{className:"whitespace-nowrap",children:[e.jsx("div",{className:"font-medium text-gray-700 mb-1",children:m.map(T=>as.find(M=>M.key===T)?.label).join(", ")}),$.slice(0,2).map((T,S)=>e.jsx("div",{className:"text-gray-600",children:m.map(M=>{let H=T[M];return Array.isArray(H)&&(H=H.join("; ")),typeof H=="boolean"&&(H=H?"はい":"いいえ"),M.includes("At")&&H&&(H=new Date(H).toLocaleDateString("ja-JP")),String(H||"")}).join(", ")},S)),$.length>2&&e.jsxs("div",{className:"text-gray-400 italic",children:["... 他 ",$.length-2," 件"]})]})})})]})]})]})}),e.jsxs("div",{className:"bg-gray-50 px-6 py-4 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-600",children:[e.jsx(_e,{className:"h-4 w-4"}),e.jsxs("span",{children:[O.totalRecords,"件のユーザーデータをエクスポート"]})]}),e.jsxs("div",{className:"flex space-x-3",children:[e.jsx("button",{type:"button",onClick:c,className:"px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 hover:bg-gray-50",children:"キャンセル"}),e.jsx("button",{onClick:E,disabled:C||m.length===0,className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-green-600 hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed",children:C?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin -ml-1 mr-2 h-4 w-4 border-2 border-white border-t-transparent rounded-full"}),"エクスポート中..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Gt,{className:"-ml-1 mr-2 h-4 w-4"}),"CSVダウンロード"]})})]})]})]})]})})},pv=({isOpen:i,onClose:c,onImportComplete:o,existingUsers:d})=>{const{user:u}=xt(),[m,f]=y.useState(1),[b,g]=y.useState(null),[h,j]=y.useState([]),[C,L]=y.useState([]),[$,O]=y.useState({}),[_,N]=y.useState([]),[w,E]=y.useState(null),[T,S]=y.useState(!1),[M,H]=y.useState(null);if(!i)return null;const ee=y.useCallback(Q=>{if(Q){if(!Q.name.endsWith(".csv")){alert("CSVファイルを選択してください。");return}if(Q.size>10*1024*1024){alert("ファイルサイズは10MB以下にしてください。");return}g(Q),Y(Q)}},[]),Y=Q=>{const te=new FileReader;te.onload=R=>{try{const G=R.target.result.split(`
`).filter(re=>re.trim());if(G.length<2){alert("CSVファイルにデータが含まれていません。");return}const X=G[0],se=le(X);L(se);const ue=G.slice(1,101).map((re,ne)=>{const fe=le(re),ht={_rowIndex:ne+2};return se.forEach((Nt,ra)=>{ht[Nt]=fe[ra]||""}),ht});j(ue);const U=F(se);O(U),f(2)}catch(v){console.error("CSV解析エラー:",v),alert("CSVファイルの解析に失敗しました。")}},te.readAsText(Q,"UTF-8")},le=Q=>{const te=[];let R="",v=!1;for(let G=0;G<Q.length;G++){const X=Q[G];X==='"'?v&&Q[G+1]==='"'?(R+='"',G++):v=!v:X===","&&!v?(te.push(R.trim()),R=""):R+=X}return te.push(R.trim()),te},F=Q=>{const te={};return Q.forEach(R=>{const v=R.toLowerCase().replace(/[^\w]/g,""),X={id:"id",name:"name",名前:"name",email:"email",メール:"email",メールアドレス:"email",phone:"phone",電話:"phone",電話番号:"phone",lineid:"lineId",line:"lineId",role:"role",ロール:"role",権限:"role",status:"isActive",ステータス:"isActive",状態:"isActive",location:"location",所在地:"location",住所:"location",age:"age",年齢:"age",gender:"gender",性別:"gender"}[v];X&&(te[R]=X)}),te},ce=()=>{const Q=[];return as.filter(R=>R.required).forEach(R=>{Object.values($).includes(R.key)||Q.push({type:"missing_column",message:`必須列「${R.label}」がマッピングされていません。`})}),h.forEach((R,v)=>{Object.entries($).forEach(([G,X])=>{const se=R[G],ae=as.find(ue=>ue.key===X);ae&&ae.required&&(!se||se.trim()==="")&&Q.push({type:"required_field",row:v+2,column:ae.label,message:`${v+2}行目: 「${ae.label}」は必須です。`}),X==="email"&&se&&(/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(se)||Q.push({type:"invalid_format",row:v+2,column:"メールアドレス",message:`${v+2}行目: メールアドレスの形式が正しくありません。`})),X==="lineId"&&se&&(/^U[0-9a-f]{32}$/.test(se)||Q.push({type:"invalid_format",row:v+2,column:"LINE ID",message:`${v+2}行目: LINE IDの形式が正しくありません。`}))})}),N(Q),Q.length===0},J=async()=>{S(!0);const Q=Date.now(),te=dv(b.name,h.length,b.size,{id:u?.id||"unknown",name:u?.name||"不明なユーザー",email:u?.email||""});H(te);try{const R=h.map(ae=>{const ue={};return Object.entries($).forEach(([U,re])=>{let ne=ae[U];re==="isActive"?ne=["true","1","はい","アクティブ","active"].includes(ne.toLowerCase()):re==="age"&&ne&&(ne=parseInt(ne)),ue[re]=ne}),ue.id=Date.now()+Math.random(),ue.createdAt=new Date().toISOString(),ue.lastLoginAt=null,ue});te&&mv(te.id,50),await new Promise(ae=>setTimeout(ae,2e3));const v=[],G=[];R.forEach((ae,ue)=>{const U=d.find(re=>re.email===ae.email||ae.lineId&&re.lineId===ae.lineId);U?G.push({row:ue+2,field:U.email===ae.email?"email":"lineId",message:"既に存在するユーザーです"}):v.push(ae)});const X={total:R.length,success:v.length,errors:G.length,skipped:0,errorDetails:G},se=((Date.now()-Q)/1e3).toFixed(1);te&&uv(te.id,X,se),E(X),f(3),o&&v.length>0&&o(v,X)}catch(R){if(console.error("インポートエラー:",R),te){const v=((Date.now()-Q)/1e3).toFixed(1);lh(te.id,R,v)}alert("インポートに失敗しました: "+R.message)}finally{S(!1)}},de=()=>{f(1),g(null),j([]),L([]),O({}),N([]),E(null),S(!1),H(null)},pe=()=>e.jsxs("div",{className:"text-center py-12",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("div",{className:"w-16 h-16 mx-auto bg-blue-100 rounded-full flex items-center justify-center mb-4",children:e.jsx(ls,{className:"h-8 w-8 text-blue-600"})}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"CSVファイルをアップロード"}),e.jsx("p",{className:"text-sm text-gray-500",children:"ユーザーデータを含むCSVファイルを選択してください"})]}),e.jsx("div",{className:"max-w-md mx-auto",children:e.jsxs("label",{className:"flex flex-col items-center justify-center w-full h-32 border-2 border-gray-300 border-dashed rounded-lg cursor-pointer bg-gray-50 hover:bg-gray-100",children:[e.jsxs("div",{className:"flex flex-col items-center justify-center pt-5 pb-6",children:[e.jsx(ls,{className:"w-8 h-8 mb-2 text-gray-500"}),e.jsxs("p",{className:"text-sm text-gray-500",children:[e.jsx("span",{className:"font-semibold",children:"クリックしてファイル選択"})," またはドラッグ&ドロップ"]}),e.jsx("p",{className:"text-xs text-gray-500",children:"CSV形式のみ (最大10MB)"})]}),e.jsx("input",{type:"file",accept:".csv",onChange:Q=>ee(Q.target.files[0]),className:"hidden"})]})}),e.jsx("div",{className:"mt-8 max-w-lg mx-auto",children:e.jsx("div",{className:"bg-blue-50 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx(Ln,{className:"h-5 w-5 text-blue-600 mt-0.5"}),e.jsxs("div",{className:"text-sm text-blue-800",children:[e.jsx("p",{className:"font-medium mb-1",children:"CSVファイルの要件:"}),e.jsxs("ul",{className:"list-disc list-inside space-y-1 text-xs",children:[e.jsx("li",{children:"1行目にヘッダー（列名）が必要"}),e.jsx("li",{children:"必須項目: 名前、メールアドレス、ロール"}),e.jsx("li",{children:"文字エンコード: UTF-8推奨"}),e.jsx("li",{children:"最大100行まで一度にインポート可能"})]})]})]})})})]}),Ce=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"bg-gray-50 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(oi,{className:"h-5 w-5 text-gray-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:b?.name}),e.jsxs("p",{className:"text-xs text-gray-500",children:[h.length,"行のデータ • ",(b?.size/1024).toFixed(1),"KB"]})]})]}),e.jsx("button",{onClick:de,className:"text-sm text-blue-600 hover:text-blue-800",children:"別のファイルを選択"})]})}),e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg",children:[e.jsxs("div",{className:"px-4 py-3 border-b border-gray-200",children:[e.jsx("h4",{className:"text-lg font-medium text-gray-900",children:"列マッピング設定"}),e.jsx("p",{className:"text-sm text-gray-500",children:"CSVの列をシステムの項目にマッピングしてください"})]}),e.jsx("div",{className:"p-4",children:e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:C.map(Q=>e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-32 text-sm font-medium text-gray-700 truncate",children:Q}),e.jsxs("select",{value:$[Q]||"",onChange:te=>O(R=>({...R,[Q]:te.target.value})),className:"flex-1 text-sm border border-gray-300 rounded-md px-2 py-1",children:[e.jsx("option",{value:"",children:"マッピングしない"}),as.map(te=>e.jsxs("option",{value:te.key,children:[te.label," ",te.required&&"*"]},te.key))]})]},Q))})})]}),e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg",children:[e.jsx("div",{className:"px-4 py-3 border-b border-gray-200",children:e.jsx("h4",{className:"text-lg font-medium text-gray-900",children:"データプレビュー"})}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsx("tr",{children:C.map(Q=>e.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:Q},Q))})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:h.slice(0,5).map((Q,te)=>e.jsx("tr",{children:C.map(R=>e.jsx("td",{className:"px-4 py-2 text-sm text-gray-900 max-w-32 truncate",children:Q[R]},R))},te))})]})}),h.length>5&&e.jsxs("div",{className:"px-4 py-2 text-sm text-gray-500 border-t border-gray-200",children:["... 他 ",h.length-5," 行"]})]}),_.length>0&&e.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx(Ta,{className:"h-5 w-5 text-red-600 mt-0.5"}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-red-800",children:"検証エラー"}),e.jsx("div",{className:"mt-2 text-sm text-red-700",children:e.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[_.slice(0,10).map((Q,te)=>e.jsx("li",{children:Q.message},te)),_.length>10&&e.jsxs("li",{children:["... 他 ",_.length-10," 件のエラー"]})]})})]})]})})]}),A=()=>e.jsxs("div",{className:"text-center py-8",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("div",{className:"w-16 h-16 mx-auto bg-green-100 rounded-full flex items-center justify-center mb-4",children:e.jsx(rt,{className:"h-8 w-8 text-green-600"})}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"インポート完了"}),e.jsx("p",{className:"text-sm text-gray-500",children:"ユーザーデータのインポートが完了しました"})]}),e.jsx("div",{className:"bg-gray-50 rounded-lg p-6 max-w-md mx-auto",children:e.jsxs("div",{className:"grid grid-cols-3 gap-4 text-center",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-2xl font-bold text-gray-900",children:w?.total}),e.jsx("div",{className:"text-sm text-gray-500",children:"総数"})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-2xl font-bold text-green-600",children:w?.success}),e.jsx("div",{className:"text-sm text-gray-500",children:"成功"})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-2xl font-bold text-red-600",children:w?.failed}),e.jsx("div",{className:"text-sm text-gray-500",children:"失敗"})]})]})})]});return e.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:e.jsxs("div",{className:"flex items-center justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0",children:[e.jsx("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity",onClick:c}),e.jsxs("div",{className:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-6xl sm:w-full",children:[e.jsxs("div",{className:"bg-gradient-to-r from-purple-500 to-blue-600 px-6 py-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-10 h-10 bg-white/20 rounded-lg flex items-center justify-center",children:e.jsx(ls,{className:"h-5 w-5 text-white"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-white",children:"ユーザーデータをインポート"}),e.jsxs("p",{className:"text-sm text-purple-100",children:["ステップ ",m,"/3: ",m===1?"ファイル選択":m===2?"プレビューと設定":"完了"]})]})]}),e.jsx("button",{onClick:c,className:"text-white/80 hover:text-white transition-colors",children:e.jsx(ot,{className:"h-6 w-6"})})]}),e.jsx("div",{className:"mt-4",children:e.jsx("div",{className:"w-full bg-white/20 rounded-full h-2",children:e.jsx("div",{className:"bg-white h-2 rounded-full transition-all duration-300",style:{width:`${m/3*100}%`}})})})]}),e.jsxs("div",{className:"px-6 py-6",children:[m===1&&pe(),m===2&&Ce(),m===3&&A()]}),e.jsxs("div",{className:"bg-gray-50 px-6 py-4 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-600",children:[e.jsx(_e,{className:"h-4 w-4"}),e.jsx("span",{children:m===1?"CSVファイルを選択してください":m===2?`${h.length}件のデータを確認中`:"インポート完了"})]}),e.jsxs("div",{className:"flex space-x-3",children:[m===2&&e.jsx("button",{type:"button",onClick:()=>f(1),className:"px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 hover:bg-gray-50",children:"戻る"}),m===2&&e.jsx("button",{onClick:()=>{ce()&&J()},disabled:T||Object.keys($).length===0,className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-purple-600 hover:bg-purple-700 disabled:opacity-50 disabled:cursor-not-allowed",children:T?e.jsxs(e.Fragment,{children:[e.jsx(Vt,{className:"animate-spin -ml-1 mr-2 h-4 w-4"}),"インポート中..."]}):e.jsxs(e.Fragment,{children:[e.jsx(ls,{className:"-ml-1 mr-2 h-4 w-4"}),"インポート実行"]})}),m===3&&e.jsx("button",{onClick:c,className:"px-4 py-2 bg-green-600 text-white rounded-md text-sm font-medium hover:bg-green-700",children:"完了"})]})]})]})]})})},yv=({isOpen:i,onClose:c})=>{const[o,d]=y.useState("all"),[u,m]=y.useState([]),[f,b]=y.useState(!0),[g,h]=y.useState({search:"",type:"",status:"",dateFrom:"",dateTo:""});if(!i)return null;const j=[{id:"1",type:"export",filename:"users_export_2025-08-23.csv",status:"completed",recordCount:150,successCount:150,errorCount:0,fileSize:"12KB",createdAt:"2025-08-23T10:30:00Z",createdBy:{id:"1",name:"田中 太郎",email:"tanaka@example.com"},duration:"2.3s",columns:["id","name","email","role","isActive"],filters:{role:"",status:"active"}},{id:"2",type:"import",filename:"new_users_batch1.csv",status:"completed",recordCount:45,successCount:42,errorCount:3,fileSize:"8KB",createdAt:"2025-08-23T09:15:00Z",createdBy:{id:"2",name:"佐藤 花子",email:"sato@example.com"},duration:"5.7s",errors:[{row:5,field:"email",message:"無効なメール形式"},{row:12,field:"role",message:"不正なロール値"},{row:23,field:"name",message:"必須項目が未入力"}]},{id:"3",type:"export",filename:"filtered_users_2025-08-22.csv",status:"failed",recordCount:0,successCount:0,errorCount:1,fileSize:"0KB",createdAt:"2025-08-22T16:45:00Z",createdBy:{id:"1",name:"田中 太郎",email:"tanaka@example.com"},duration:"0.1s",error:"エクスポート対象データが見つかりません"},{id:"4",type:"import",filename:"user_update_batch.csv",status:"processing",recordCount:200,successCount:120,errorCount:5,fileSize:"25KB",createdAt:"2025-08-23T10:45:00Z",createdBy:{id:"3",name:"鈴木 一郎",email:"suzuki@example.com"},progress:65}];y.useEffect(()=>{b(!0),setTimeout(()=>{m(j),b(!1)},1e3)},[]);const C=u.filter(N=>{const w=g.search===""||N.filename.toLowerCase().includes(g.search.toLowerCase())||N.createdBy.name.toLowerCase().includes(g.search.toLowerCase()),E=g.type===""||N.type===g.type,T=g.status===""||N.status===g.status,S=new Date(N.createdAt).toISOString().slice(0,10),M=g.dateFrom===""||S>=g.dateFrom,H=g.dateTo===""||S<=g.dateTo;return w&&E&&T&&M&&H}),L=N=>{switch(N){case"completed":return e.jsx(rt,{className:"h-5 w-5 text-green-500"});case"failed":return e.jsx(ks,{className:"h-5 w-5 text-red-500"});case"processing":return e.jsx(ut,{className:"h-5 w-5 text-blue-500 animate-spin"});default:return e.jsx(Ta,{className:"h-5 w-5 text-yellow-500"})}},$=N=>{const E={completed:{bg:"bg-green-100",text:"text-green-800",label:"完了"},failed:{bg:"bg-red-100",text:"text-red-800",label:"失敗"},processing:{bg:"bg-blue-100",text:"text-blue-800",label:"処理中"}}[N]||{bg:"bg-gray-100",text:"text-gray-800",label:"不明"};return e.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${E.bg} ${E.text}`,children:E.label})},O=N=>{window.confirm("この履歴を削除してもよろしいですか？")&&m(w=>w.filter(E=>E.id!==N))},_=N=>{console.log("View details:",N)};return e.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:e.jsxs("div",{className:"flex items-center justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0",children:[e.jsx("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity",onClick:c}),e.jsxs("div",{className:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-6xl sm:w-full",children:[e.jsx("div",{className:"bg-gradient-to-r from-indigo-500 to-purple-600 px-6 py-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-10 h-10 bg-white/20 rounded-lg flex items-center justify-center",children:e.jsx(r0,{className:"h-5 w-5 text-white"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-white",children:"インポート/エクスポート履歴"}),e.jsx("p",{className:"text-sm text-indigo-100",children:"データの処理履歴を管理します"})]})]}),e.jsx("button",{onClick:c,className:"text-white/80 hover:text-white transition-colors",children:e.jsx("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),e.jsxs("div",{className:"px-6 py-6",children:[e.jsx("div",{className:"bg-gray-50 rounded-lg p-4 mb-6",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[e.jsx("div",{className:"md:col-span-2",children:e.jsxs("div",{className:"relative",children:[e.jsx(mt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),e.jsx("input",{type:"text",placeholder:"ファイル名、実行者で検索...",value:g.search,onChange:N=>h({...g,search:N.target.value}),className:"pl-9 w-full border border-gray-300 rounded-lg px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-indigo-500"})]})}),e.jsx("div",{children:e.jsxs("select",{value:g.type,onChange:N=>h({...g,type:N.target.value}),className:"w-full border border-gray-300 rounded-lg px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-indigo-500",children:[e.jsx("option",{value:"",children:"すべてのタイプ"}),e.jsx("option",{value:"import",children:"インポート"}),e.jsx("option",{value:"export",children:"エクスポート"})]})}),e.jsx("div",{children:e.jsxs("select",{value:g.status,onChange:N=>h({...g,status:N.target.value}),className:"w-full border border-gray-300 rounded-lg px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-indigo-500",children:[e.jsx("option",{value:"",children:"すべてのステータス"}),e.jsx("option",{value:"completed",children:"完了"}),e.jsx("option",{value:"failed",children:"失敗"}),e.jsx("option",{value:"processing",children:"処理中"})]})}),e.jsx("div",{children:e.jsx("input",{type:"date",value:g.dateFrom,onChange:N=>h({...g,dateFrom:N.target.value}),className:"w-full border border-gray-300 rounded-lg px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-indigo-500"})})]})}),e.jsx("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden",children:f?e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-indigo-500 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"履歴を読み込み中..."})]}):C.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx(r0,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"履歴が見つかりません"}),e.jsx("p",{className:"text-gray-500",children:"検索条件を変更してください。"})]}):e.jsx("div",{className:"divide-y divide-gray-200",children:C.map(N=>e.jsxs("div",{className:"p-6 hover:bg-gray-50",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center ${N.type==="import"?"bg-purple-100 text-purple-600":"bg-green-100 text-green-600"}`,children:N.type==="import"?e.jsx(ls,{className:"h-5 w-5"}):e.jsx(Gt,{className:"h-5 w-5"})}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-1",children:[e.jsx("h4",{className:"text-sm font-medium text-gray-900",children:N.filename}),$(N.status),L(N.status)]}),e.jsxs("div",{className:"flex items-center space-x-6 text-sm text-gray-500",children:[e.jsxs("span",{className:"flex items-center space-x-1",children:[e.jsx(st,{className:"h-4 w-4"}),e.jsx("span",{children:N.createdBy.name})]}),e.jsxs("span",{className:"flex items-center space-x-1",children:[e.jsx(ci,{className:"h-4 w-4"}),e.jsx("span",{children:new Date(N.createdAt).toLocaleString("ja-JP")})]}),e.jsxs("span",{className:"flex items-center space-x-1",children:[e.jsx(oi,{className:"h-4 w-4"}),e.jsx("span",{children:N.fileSize})]})]})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:"text-sm font-medium text-gray-900 mb-1",children:[N.recordCount.toLocaleString(),"件"]}),N.status==="processing"?e.jsxs("div",{className:"text-xs text-gray-500",children:["処理中: ",N.progress,"%",e.jsx("div",{className:"w-20 bg-gray-200 rounded-full h-1.5 mt-1",children:e.jsx("div",{className:"bg-blue-600 h-1.5 rounded-full transition-all",style:{width:`${N.progress}%`}})})]}):e.jsxs("div",{className:"text-xs text-gray-500",children:[N.successCount>0&&e.jsxs("span",{className:"text-green-600",children:["成功: ",N.successCount]}),N.errorCount>0&&e.jsxs("span",{className:"text-red-600 ml-2",children:["エラー: ",N.errorCount]})]})]}),e.jsxs("div",{className:"flex items-center space-x-2 ml-6",children:[e.jsx("button",{onClick:()=>_(N),className:"p-1 text-gray-400 hover:text-gray-600 transition-colors",title:"詳細表示",children:e.jsx(Ue,{className:"h-4 w-4"})}),e.jsx("button",{onClick:()=>O(N.id),className:"p-1 text-gray-400 hover:text-red-600 transition-colors",title:"削除",children:e.jsx(vt,{className:"h-4 w-4"})}),e.jsx("button",{className:"p-1 text-gray-400 hover:text-gray-600 transition-colors",children:e.jsx(di,{className:"h-4 w-4"})})]})]}),N.errors&&N.errors.length>0&&e.jsxs("div",{className:"mt-4 p-3 bg-red-50 rounded-md",children:[e.jsx("h5",{className:"text-sm font-medium text-red-800 mb-2",children:"エラー詳細"}),e.jsxs("div",{className:"space-y-1",children:[N.errors.slice(0,3).map((w,E)=>e.jsxs("div",{className:"text-xs text-red-700",children:["行",w.row,": ",w.field," - ",w.message]},E)),N.errors.length>3&&e.jsxs("div",{className:"text-xs text-red-600 italic",children:["他 ",N.errors.length-3," 件のエラー"]})]})]}),N.error&&e.jsxs("div",{className:"mt-4 p-3 bg-red-50 rounded-md",children:[e.jsx("h5",{className:"text-sm font-medium text-red-800 mb-1",children:"エラー"}),e.jsx("div",{className:"text-xs text-red-700",children:N.error})]})]},N.id))})})]}),e.jsxs("div",{className:"bg-gray-50 px-6 py-4 flex items-center justify-between",children:[e.jsxs("div",{className:"text-sm text-gray-600",children:[C.length,"件の履歴を表示中"]}),e.jsx("button",{onClick:c,className:"px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 hover:bg-gray-50",children:"閉じる"})]})]})]})})},bv=({users:i,onEditUser:c,onDeleteUser:o,onToggleStatus:d,onViewUser:u,loading:m})=>{const{hasPermission:f,PERMISSIONS:b}=xt(),[g,h]=y.useState([]),[j,C]=y.useState({key:"name",direction:"asc"}),L=y.useMemo(()=>{const E=[...i];return j.key&&E.sort((T,S)=>{let M=T[j.key],H=S[j.key];return j.key.includes("At")&&(M=new Date(M),H=new Date(H)),M<H?j.direction==="asc"?-1:1:M>H?j.direction==="asc"?1:-1:0}),E},[i,j]),$=E=>{let T="asc";j.key===E&&j.direction==="asc"&&(T="desc"),C({key:E,direction:T})},O=E=>{h(E?i.map(T=>T.id):[])},_=(E,T)=>{h(T?S=>[...S,E]:S=>S.filter(M=>M!==E))},N=({role:E})=>{const T={super_admin:{color:"bg-purple-100 text-purple-800",label:"スーパー管理者"},admin:{color:"bg-red-100 text-red-800",label:"管理者"},manager:{color:"bg-blue-100 text-blue-800",label:"マネージャー"},operator:{color:"bg-green-100 text-green-800",label:"オペレーター"},viewer:{color:"bg-gray-100 text-gray-800",label:"閲覧者"}},S=T[E]||T.viewer;return e.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${S.color}`,children:S.label})},w=({isActive:E})=>e.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${E?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:E?"アクティブ":"無効"});return m?e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-8 text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"ユーザー情報を読み込み中..."})]}):e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border overflow-hidden",children:[e.jsx("div",{className:"px-6 py-4 border-b border-gray-200 bg-gray-50",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("input",{type:"checkbox",checked:g.length===i.length&&i.length>0,onChange:E=>O(E.target.checked),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),e.jsx("span",{className:"text-sm font-medium text-gray-700",children:g.length>0?`${g.length}件選択中`:"すべて選択"})]}),g.length>0&&e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>{},className:"px-3 py-1 text-sm bg-blue-50 text-blue-600 rounded hover:bg-blue-100",children:"一括編集"}),e.jsx("button",{onClick:()=>{},className:"px-3 py-1 text-sm bg-red-50 text-red-600 rounded hover:bg-red-100",children:"一括削除"})]})]})}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"w-12 px-6 py-3"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100",onClick:()=>$("name"),children:e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx("span",{children:"ユーザー"}),j.key==="name"&&e.jsx(Cn,{className:`h-4 w-4 ${j.direction==="desc"?"transform rotate-180":""}`})]})}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100",onClick:()=>$("role"),children:e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx("span",{children:"ロール"}),j.key==="role"&&e.jsx(Cn,{className:`h-4 w-4 ${j.direction==="desc"?"transform rotate-180":""}`})]})}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100",onClick:()=>$("lastLoginAt"),children:e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx("span",{children:"最終ログイン"}),j.key==="lastLoginAt"&&e.jsx(Cn,{className:`h-4 w-4 ${j.direction==="desc"?"transform rotate-180":""}`})]})}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"ステータス"}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"操作"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:L.map(E=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-4",children:e.jsx("input",{type:"checkbox",checked:g.includes(E.id),onChange:T=>_(E.id,T.target.checked),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0 h-10 w-10",children:e.jsx("div",{className:"h-10 w-10 rounded-full bg-gray-300 flex items-center justify-center",children:E.avatar?e.jsx("img",{className:"h-10 w-10 rounded-full",src:E.avatar,alt:""}):e.jsx("span",{className:"text-sm font-medium text-gray-700",children:E.name.charAt(0).toUpperCase()})})}),e.jsxs("div",{className:"ml-4",children:[e.jsx(dt,{to:`/users/${E.id}`,className:"text-sm font-medium text-gray-900 hover:text-green-600",children:E.name}),e.jsx("div",{className:"text-sm text-gray-500",children:E.email})]})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx(N,{role:E.role})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:E.lastLoginAt?e.jsxs("div",{children:[e.jsx("div",{children:new Date(E.lastLoginAt).toLocaleDateString("ja-JP")}),e.jsx("div",{className:"text-xs text-gray-500",children:new Date(E.lastLoginAt).toLocaleTimeString("ja-JP")})]}):e.jsx("span",{className:"text-gray-400",children:"未ログイン"})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx(w,{isActive:E.isActive})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:e.jsxs("div",{className:"flex items-center justify-end space-x-2",children:[f(b.USER_VIEW)&&e.jsx(dt,{to:`/users/${E.id}`,className:"text-blue-600 hover:text-blue-900 p-1",title:"詳細表示",children:e.jsx(Ue,{className:"h-4 w-4"})}),f(b.USER_EDIT)&&e.jsx("button",{onClick:()=>c(E),className:"text-green-600 hover:text-green-900 p-1",title:"編集",children:e.jsx(Ca,{className:"h-4 w-4"})}),f(b.USER_EDIT)&&e.jsx("button",{onClick:()=>d(E),className:`p-1 ${E.isActive?"text-orange-600 hover:text-orange-900":"text-green-600 hover:text-green-900"}`,title:E.isActive?"無効化":"有効化",children:E.isActive?e.jsx(ni,{className:"h-4 w-4"}):e.jsx(Rj,{className:"h-4 w-4"})}),f(b.USER_DELETE)&&e.jsx("button",{onClick:()=>o(E),className:"text-red-600 hover:text-red-900 p-1",title:"削除",children:e.jsx(vt,{className:"h-4 w-4"})}),e.jsx("div",{className:"relative",children:e.jsx("button",{className:"text-gray-400 hover:text-gray-600 p-1",children:e.jsx(di,{className:"h-4 w-4"})})})]})})]},E.id))})]})}),i.length===0&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx(_e,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"ユーザーが見つかりません"}),e.jsx("p",{className:"text-gray-500",children:"検索条件を変更するか、新しいユーザーを追加してください。"})]})]})},jv=({filters:i,onFiltersChange:c,onExport:o,onImport:d})=>{const{hasPermission:u,PERMISSIONS:m}=xt();return e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-6 mb-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-4",children:[e.jsx("div",{className:"md:col-span-2",children:e.jsxs("div",{className:"relative",children:[e.jsx(mt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-5 w-5"}),e.jsx("input",{type:"text",placeholder:"名前、メール、電話番号で検索...",value:i.search,onChange:f=>c({...i,search:f.target.value}),className:"pl-10 w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})}),e.jsx("div",{children:e.jsxs("select",{value:i.role,onChange:f=>c({...i,role:f.target.value}),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsx("option",{value:"",children:"すべてのロール"}),e.jsx("option",{value:"super_admin",children:"スーパー管理者"}),e.jsx("option",{value:"admin",children:"管理者"}),e.jsx("option",{value:"manager",children:"マネージャー"}),e.jsx("option",{value:"operator",children:"オペレーター"}),e.jsx("option",{value:"viewer",children:"閲覧者"})]})}),e.jsx("div",{children:e.jsxs("select",{value:i.status,onChange:f=>c({...i,status:f.target.value}),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsx("option",{value:"",children:"すべてのステータス"}),e.jsx("option",{value:"active",children:"アクティブ"}),e.jsx("option",{value:"inactive",children:"無効"})]})})]}),e.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[u(m.USER_CREATE)&&e.jsxs(dt,{to:"/users/create",className:"flex items-center space-x-2 bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg transition-colors",children:[e.jsx(it,{className:"h-4 w-4"}),e.jsx("span",{children:"ユーザー追加"})]}),u(m.ANALYTICS_EXPORT)&&e.jsxs("button",{onClick:o,className:"flex items-center space-x-2 bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-lg transition-colors",children:[e.jsx(Gt,{className:"h-4 w-4"}),e.jsx("span",{children:"CSVエクスポート"})]}),u(m.USER_CREATE)&&e.jsxs("button",{onClick:d,className:"flex items-center space-x-2 bg-purple-600 hover:bg-purple-700 text-white px-4 py-2 rounded-lg transition-colors",children:[e.jsx(ls,{className:"h-4 w-4"}),e.jsx("span",{children:"CSVインポート"})]}),u(m.USER_CREATE)&&e.jsxs("button",{onClick:()=>setShowGroupModal(!0),className:"flex items-center space-x-2 bg-indigo-600 hover:bg-indigo-700 text-white px-4 py-2 rounded-lg transition-colors",children:[e.jsx(_e,{className:"h-4 w-4"}),e.jsx("span",{children:"グループ管理"})]}),e.jsxs("button",{onClick:()=>setShowHistoryModal(!0),className:"flex items-center space-x-2 border border-gray-300 hover:bg-gray-50 text-gray-700 px-4 py-2 rounded-lg transition-colors",children:[e.jsx("svg",{className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),e.jsx("span",{children:"インポート/エクスポート履歴"})]})]})]})},vv=()=>{const{hasPermission:i,PERMISSIONS:c}=xt(),[o,d]=y.useState([]),[u,m]=y.useState(!0),[f,b]=y.useState({search:"",role:"",status:""}),[g,h]=y.useState(null),[j,C]=y.useState(!1),[L,$]=y.useState(!1),[O,_]=y.useState(!1),[N,w]=y.useState(!1),[E,T]=y.useState(!1),[S,M]=y.useState(!1),H=[{id:"1",name:"田中 太郎",email:"tanaka@example.com",role:"admin",isActive:!0,lastLoginAt:"2024-01-15T10:30:00Z",createdAt:"2024-01-01T00:00:00Z",avatar:null,phone:"090-1234-5678",department:"管理部"},{id:"2",name:"佐藤 花子",email:"sato@example.com",role:"manager",isActive:!0,lastLoginAt:"2024-01-14T15:45:00Z",createdAt:"2024-01-02T00:00:00Z",avatar:null,phone:"090-2345-6789",department:"マーケティング部"},{id:"3",name:"鈴木 一郎",email:"suzuki@example.com",role:"operator",isActive:!0,lastLoginAt:"2024-01-13T09:15:00Z",createdAt:"2024-01-03T00:00:00Z",avatar:null,phone:"090-3456-7890",department:"カスタマーサポート"},{id:"4",name:"高橋 美咲",email:"takahashi@example.com",role:"viewer",isActive:!1,lastLoginAt:"2024-01-10T14:20:00Z",createdAt:"2024-01-04T00:00:00Z",avatar:null,phone:"090-4567-8901",department:"営業部"},{id:"5",name:"山田 次郎",email:"yamada@example.com",role:"operator",isActive:!0,lastLoginAt:null,createdAt:"2024-01-05T00:00:00Z",avatar:null,phone:"090-5678-9012",department:"カスタマーサポート"}];y.useEffect(()=>{(async()=>{m(!0),setTimeout(()=>{d(H),m(!1)},1e3)})()},[]);const ee=y.useMemo(()=>o.filter(A=>{const Q=f.search===""||A.name.toLowerCase().includes(f.search.toLowerCase())||A.email.toLowerCase().includes(f.search.toLowerCase())||A.phone?.includes(f.search),te=f.role===""||A.role===f.role,R=f.status===""||f.status==="active"&&A.isActive||f.status==="inactive"&&!A.isActive;return Q&&te&&R}),[o,f]),Y=A=>{h(A),C(!0)},le=A=>{h(A),$(!0)},F=A=>{d(Q=>Q.map(te=>te.id===A.id?{...te,...A}:te)),C(!1)},ce=A=>{window.confirm(`${A.name}さんを削除してもよろしいですか？`)&&d(Q=>Q.filter(te=>te.id!==A.id))},J=A=>{const Q=A.isActive?"無効化":"有効化";window.confirm(`${A.name}さんを${Q}してもよろしいですか？`)&&d(te=>te.map(R=>R.id===A.id?{...R,isActive:!R.isActive}:R))},de=()=>{w(!0)},pe=()=>{T(!0)},Ce=(A,Q)=>{Q.success>0&&(d(te=>[...te,...A]),alert(`${Q.success}件のユーザーを正常にインポートしました。
失敗: ${Q.errors}件
スキップ: ${Q.skipped}件`)),T(!1)};return i(c.USER_VIEW)?e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"ユーザー管理"}),e.jsx("p",{className:"text-gray-600 mt-1",children:"システムユーザーの管理と権限設定を行います"})]}),e.jsxs("div",{className:"text-sm text-gray-500",children:["総数: ",o.length,"名 | 表示: ",ee.length,"名"]})]}),e.jsx(jv,{filters:f,onFiltersChange:b,onExport:de,onImport:pe}),e.jsx(bv,{users:ee,onEditUser:le,onDeleteUser:ce,onToggleStatus:J,onViewUser:Y,loading:u}),e.jsx(sv,{user:g,isOpen:j,onClose:()=>{C(!1),h(null)},onUpdate:F}),e.jsx(gv,{isOpen:N,onClose:()=>w(!1),users:ee,currentFilters:f}),e.jsx(pv,{isOpen:E,onClose:()=>T(!1),onImportComplete:Ce,existingUsers:o}),e.jsx(av,{user:g,isOpen:L,onClose:()=>{$(!1),h(null)},onUpdate:F}),e.jsx(lv,{isOpen:O,onClose:()=>_(!1),users:o}),e.jsx(yv,{isOpen:S,onClose:()=>M(!1)})]}):e.jsxs("div",{className:"text-center py-12",children:[e.jsx(_e,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"アクセス権限がありません"}),e.jsx("p",{className:"text-gray-500",children:"ユーザー管理機能を利用する権限がありません。"})]})},Nv=()=>{const{id:i}=hp(),c=Bd(),{user:o}=xt(),[d,u]=y.useState(null),[m,f]=y.useState(!0),[b,g]=y.useState("overview"),h={1:{id:"1",name:"田中 太郎",email:"tanaka@example.com",phone:"090-1234-5678",status:"active",lineId:"Ub1234567890abcdef1234567890abcdef1",joinedAt:"2024-01-15T10:30:00Z",lastActiveAt:"2024-01-20T14:22:00Z",location:"東京都渋谷区",age:28,gender:"男性",tags:["VIP","常連客","推奨商品A"],messageCount:145,totalSpent:89e3,averageResponse:"2分",satisfaction:4.8},2:{id:"2",name:"佐藤 花子",email:"sato@example.com",phone:"080-9876-5432",status:"inactive",lineId:"Ub2345678901bcdef2345678901bcdef2",joinedAt:"2024-01-10T09:15:00Z",lastActiveAt:"2024-01-18T11:30:00Z",location:"大阪府大阪市",age:34,gender:"女性",tags:["新規客"],messageCount:23,totalSpent:15e3,averageResponse:"5分",satisfaction:4.2}},[j]=y.useState([{id:1,type:"message_received",title:"メッセージ受信",description:"「ありがとうございます！」",timestamp:"2024-01-20T14:22:00",icon:Oe,color:"text-blue-500"},{id:2,type:"purchase",title:"商品購入",description:"商品A × 2個 (¥5,000)",timestamp:"2024-01-20T13:45:00",icon:rs,color:"text-green-500"},{id:3,type:"follow",title:"友達追加",description:"LINE友達に追加されました",timestamp:"2024-01-15T10:30:00",icon:Yd,color:"text-pink-500"}]),[C]=y.useState([{id:1,content:"こんにちは！新商品のご案内です。",type:"sent",timestamp:"2024-01-20T10:00:00",status:"delivered"},{id:2,content:"ありがとうございます！詳細を教えてください。",type:"received",timestamp:"2024-01-20T10:05:00"},{id:3,content:"商品Aは現在キャンペーン中で20%オフです。",type:"sent",timestamp:"2024-01-20T10:06:00",status:"read"}]);y.useEffect(()=>{(async()=>{f(!0),await new Promise(M=>setTimeout(M,500));const S=h[i];S&&u(S),f(!1)})()},[i]);const L=T=>{u(S=>({...S,status:T}))},$=()=>{window.confirm("このユーザーを削除しますか？")&&c("/users")},O=[{id:"overview",name:"概要",icon:Ue},{id:"activity",name:"活動履歴",icon:fl},{id:"messages",name:"メッセージ",icon:Oe},{id:"analytics",name:"分析",icon:Jt}];if(m)return e.jsx("div",{className:"flex items-center justify-center min-h-screen",children:e.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-green-500"})});if(!d)return e.jsxs("div",{className:"text-center py-12",children:[e.jsx(Ta,{className:"mx-auto h-12 w-12 text-yellow-500 mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"ユーザーが見つかりません"}),e.jsx("p",{className:"text-gray-500 mb-4",children:"指定されたユーザーは存在しないか、削除されています。"}),e.jsxs(dt,{to:"/users",className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-green-600 hover:bg-green-700",children:[e.jsx(Ud,{className:"mr-2 h-4 w-4"}),"ユーザー一覧に戻る"]})]});const _=()=>e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"lg:col-span-2 bg-white shadow rounded-lg p-6",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"基本情報"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(Y0,{className:"h-5 w-5 text-gray-400"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"メールアドレス"}),e.jsx("p",{className:"text-sm font-medium text-gray-900",children:d.email})]})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(aa,{className:"h-5 w-5 text-gray-400"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"電話番号"}),e.jsx("p",{className:"text-sm font-medium text-gray-900",children:d.phone})]})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(Xd,{className:"h-5 w-5 text-gray-400"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"所在地"}),e.jsx("p",{className:"text-sm font-medium text-gray-900",children:d.location})]})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(ci,{className:"h-5 w-5 text-gray-400"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"登録日"}),e.jsx("p",{className:"text-sm font-medium text-gray-900",children:new Date(d.joinedAt).toLocaleDateString("ja-JP")})]})]})]}),e.jsxs("div",{className:"mt-6",children:[e.jsx("h4",{className:"text-sm font-medium text-gray-900 mb-2",children:"タグ"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:d.tags.map((T,S)=>e.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:T},S))})]})]}),e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"bg-white shadow rounded-lg p-6",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"統計情報"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"メッセージ数"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:d.messageCount})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"累計購入金額"}),e.jsxs("p",{className:"text-2xl font-bold text-green-600",children:["¥",d.totalSpent.toLocaleString()]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"平均応答時間"}),e.jsx("p",{className:"text-2xl font-bold text-blue-600",children:d.averageResponse})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"満足度"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:d.satisfaction}),e.jsx("div",{className:"flex space-x-1",children:[...Array(5)].map((T,S)=>e.jsx(rs,{className:`h-4 w-4 ${S<Math.floor(d.satisfaction)?"text-yellow-400 fill-current":"text-gray-300"}`},S))})]})]})]})]})})]}),N=()=>e.jsxs("div",{className:"bg-white shadow rounded-lg",children:[e.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"活動履歴"})}),e.jsx("div",{className:"divide-y divide-gray-200",children:j.map(T=>{const S=T.icon;return e.jsx("div",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx(S,{className:`h-5 w-5 mt-1 ${T.color}`}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h4",{className:"text-sm font-medium text-gray-900",children:T.title}),e.jsx("span",{className:"text-xs text-gray-500",children:new Date(T.timestamp).toLocaleString("ja-JP")})]}),e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:T.description})]})]})},T.id)})})]}),w=()=>e.jsxs("div",{className:"bg-white shadow rounded-lg",children:[e.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"メッセージ履歴"})}),e.jsx("div",{className:"divide-y divide-gray-200 max-h-96 overflow-y-auto",children:C.map(T=>e.jsx("div",{className:"px-6 py-4",children:e.jsx("div",{className:`flex ${T.type==="sent"?"justify-end":"justify-start"}`,children:e.jsxs("div",{className:`max-w-xs lg:max-w-md px-4 py-2 rounded-lg ${T.type==="sent"?"bg-green-500 text-white":"bg-gray-200 text-gray-900"}`,children:[e.jsx("p",{className:"text-sm",children:T.content}),e.jsxs("div",{className:"flex items-center justify-between mt-1",children:[e.jsx("span",{className:`text-xs ${T.type==="sent"?"text-green-100":"text-gray-500"}`,children:new Date(T.timestamp).toLocaleTimeString("ja-JP")}),T.type==="sent"&&T.status&&e.jsx("span",{className:"text-xs text-green-100",children:T.status==="read"?"既読":"配信済み"})]})]})})},T.id))})]}),E=()=>e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-white shadow rounded-lg p-6",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"エンゲージメント"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-gray-500",children:"メッセージ開封率"}),e.jsx("span",{className:"text-sm font-medium",children:"94%"})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-gray-500",children:"リンククリック率"}),e.jsx("span",{className:"text-sm font-medium",children:"68%"})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-gray-500",children:"アクション実行率"}),e.jsx("span",{className:"text-sm font-medium",children:"42%"})]})]})]}),e.jsxs("div",{className:"bg-white shadow rounded-lg p-6",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"行動分析"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-gray-500",children:"最も活発な時間帯"}),e.jsx("span",{className:"text-sm font-medium",children:"14:00-16:00"})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-gray-500",children:"よく使う機能"}),e.jsx("span",{className:"text-sm font-medium",children:"商品検索"})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-gray-500",children:"継続利用日数"}),e.jsx("span",{className:"text-sm font-medium",children:"45日"})]})]})]})]});return e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"bg-white shadow rounded-lg",children:e.jsxs("div",{className:"px-6 py-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("div",{className:"flex items-center space-x-4",children:e.jsxs(dt,{to:"/users",className:"inline-flex items-center text-sm text-gray-500 hover:text-gray-700",children:[e.jsx(Ud,{className:"mr-2 h-4 w-4"}),"ユーザー一覧に戻る"]})}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("button",{onClick:()=>L(d.status==="active"?"inactive":"active"),className:`inline-flex items-center px-3 py-2 border border-transparent text-sm font-medium rounded-md ${d.status==="active"?"text-red-700 bg-red-100 hover:bg-red-200":"text-green-700 bg-green-100 hover:bg-green-200"}`,children:d.status==="active"?e.jsxs(e.Fragment,{children:[e.jsx(ni,{className:"mr-2 h-4 w-4"}),"無効化"]}):e.jsxs(e.Fragment,{children:[e.jsx(la,{className:"mr-2 h-4 w-4"}),"有効化"]})}),e.jsxs("button",{onClick:()=>alert("編集機能は次のフェーズで実装予定です"),className:"inline-flex items-center px-3 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50",children:[e.jsx(ta,{className:"mr-2 h-4 w-4"}),"編集"]}),e.jsxs("button",{onClick:$,className:"inline-flex items-center px-3 py-2 border border-red-300 text-sm font-medium rounded-md text-red-700 bg-white hover:bg-red-50",children:[e.jsx(vt,{className:"mr-2 h-4 w-4"}),"削除"]})]})]}),e.jsx("div",{className:"mt-4",children:e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("div",{className:"h-16 w-16 bg-gray-300 rounded-full flex items-center justify-center",children:e.jsx("span",{className:"text-xl font-medium text-gray-600",children:d.name.charAt(0)})})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:d.name}),e.jsxs("div",{className:"flex items-center space-x-4 mt-1",children:[e.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${d.status==="active"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:d.status==="active"?"有効":"無効"}),e.jsxs("span",{className:"text-sm text-gray-500",children:["最終アクティブ: ",new Date(d.lastActiveAt).toLocaleDateString("ja-JP")]})]})]})]})})]})}),e.jsxs("div",{className:"bg-white shadow rounded-lg",children:[e.jsx("div",{className:"border-b border-gray-200",children:e.jsx("nav",{className:"-mb-px flex space-x-8 px-6",children:O.map(T=>{const S=T.icon;return e.jsxs("button",{onClick:()=>g(T.id),className:`py-4 px-1 border-b-2 font-medium text-sm flex items-center space-x-2 ${b===T.id?"border-green-500 text-green-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[e.jsx(S,{className:"h-4 w-4"}),e.jsx("span",{children:T.name})]},T.id)})})}),e.jsxs("div",{className:"p-6",children:[b==="overview"&&_(),b==="activity"&&N(),b==="messages"&&w(),b==="analytics"&&E()]})]})]})},wv=()=>{const i=Bd(),{user:c}=xt(),[o,d]=y.useState(!1),[u,m]=y.useState({}),[f,b]=y.useState(!1),[g,h]=y.useState({name:"",email:"",phone:"",lineId:"",role:"viewer",location:"",age:"",gender:"",tags:[],avatar:null,password:"",confirmPassword:"",isActive:!0,sendWelcomeMessage:!0,notificationPreferences:{email:!0,sms:!1,push:!0}}),[j,C]=y.useState(""),[L,$]=y.useState(null),O=[{value:"admin",label:"管理者",description:"全権限を持つ管理者"},{value:"manager",label:"マネージャー",description:"ユーザー管理とメッセージ送信"},{value:"operator",label:"オペレーター",description:"メッセージ送信とユーザー閲覧"},{value:"viewer",label:"閲覧者",description:"ユーザー情報の閲覧のみ"}],_=[{value:"",label:"未選択"},{value:"男性",label:"男性"},{value:"女性",label:"女性"},{value:"その他",label:"その他"},{value:"回答しない",label:"回答しない"}],N=(Y,le)=>{h(F=>({...F,[Y]:le})),u[Y]&&m(F=>({...F,[Y]:""}))},w=(Y,le,F)=>{h(ce=>({...ce,[Y]:{...ce[Y],[le]:F}}))},E=Y=>{const le=Y.target.files[0];if(le){if(le.size>5*1024*1024){m(ce=>({...ce,avatar:"ファイルサイズは5MB以下にしてください"}));return}const F=new FileReader;F.onload=ce=>{$(ce.target.result),h(J=>({...J,avatar:le}))},F.readAsDataURL(le)}},T=()=>{j.trim()&&!g.tags.includes(j.trim())&&(h(Y=>({...Y,tags:[...Y.tags,j.trim()]})),C(""))},S=Y=>{h(le=>({...le,tags:le.tags.filter(F=>F!==Y)}))},M=()=>{const Y={};return g.name.trim()||(Y.name="名前は必須です"),g.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(g.email)||(Y.email="有効なメールアドレスを入力してください"):Y.email="メールアドレスは必須です",g.lineId.trim()?/^U[0-9a-f]{32}$/.test(g.lineId)||(Y.lineId="有効なLINE ID形式で入力してください（例：Ub1234567890abcdef...）"):Y.lineId="LINE IDは必須です",g.password?g.password.length<8&&(Y.password="パスワードは8文字以上で入力してください"):Y.password="パスワードは必須です",g.password!==g.confirmPassword&&(Y.confirmPassword="パスワードが一致しません"),g.phone&&!/^[0-9-+\s()]+$/.test(g.phone)&&(Y.phone="有効な電話番号を入力してください"),g.age&&(isNaN(g.age)||g.age<0||g.age>150)&&(Y.age="有効な年齢を入力してください（0-150）"),m(Y),Object.keys(Y).length===0},H=async Y=>{if(Y.preventDefault(),!!M()){d(!0);try{await new Promise(le=>setTimeout(le,2e3)),console.log("ユーザー作成データ:",g),i("/users",{state:{message:`ユーザー「${g.name}」を作成しました。`,type:"success"}})}catch{m({submit:"ユーザーの作成に失敗しました。再度お試しください。"})}finally{d(!1)}}},ee=()=>{window.confirm("作成をキャンセルしますか？入力内容は保存されません。")&&i("/users")};return e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"bg-gradient-to-r from-green-500 to-blue-600 rounded-2xl shadow-2xl text-white",children:e.jsxs("div",{className:"px-8 py-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("div",{className:"flex items-center space-x-4",children:e.jsxs(dt,{to:"/users",className:"inline-flex items-center text-sm text-green-100 hover:text-white transition-colors duration-200",children:[e.jsx(Ud,{className:"mr-2 h-4 w-4"}),"ユーザー一覧に戻る"]})}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs("button",{type:"button",onClick:ee,className:"inline-flex items-center px-6 py-2 border border-white/20 text-sm font-medium rounded-lg text-white bg-white/10 backdrop-blur-sm hover:bg-white/20 transition-all duration-200",children:[e.jsx(ot,{className:"mr-2 h-4 w-4"}),"キャンセル"]}),e.jsx("button",{type:"submit",form:"user-create-form",disabled:o,className:"inline-flex items-center px-6 py-2 text-sm font-medium rounded-lg text-green-600 bg-white hover:bg-gray-50 disabled:opacity-50 shadow-lg transition-all duration-200 transform hover:scale-105",children:o?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin mr-2 h-4 w-4 border-2 border-green-600 border-t-transparent rounded-full"}),"作成中..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Ts,{className:"mr-2 h-4 w-4"}),"ユーザーを作成"]})})]})]}),e.jsxs("div",{className:"mt-6",children:[e.jsx("h1",{className:"text-3xl font-bold",children:"新規ユーザー作成"}),e.jsx("p",{className:"mt-2 text-green-100",children:"新しいユーザーアカウントを作成します。必要な情報を入力してください。"})]})]})}),u.submit&&e.jsx("div",{className:"bg-red-50 border border-red-200 rounded-md p-4",children:e.jsxs("div",{className:"flex",children:[e.jsx(z0,{className:"h-5 w-5 text-red-400"}),e.jsx("div",{className:"ml-3",children:e.jsx("p",{className:"text-sm text-red-800",children:u.submit})})]})}),e.jsxs("form",{id:"user-create-form",onSubmit:H,className:"space-y-8",children:[e.jsx("div",{className:"bg-white shadow-sm rounded-lg p-6",children:e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-8 h-8 bg-green-500 text-white rounded-full flex items-center justify-center text-sm font-medium",children:"1"}),e.jsx("span",{className:"text-sm font-medium text-green-600",children:"基本情報"})]}),e.jsx("div",{className:"w-12 h-0.5 bg-gray-200"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-8 h-8 bg-green-500 text-white rounded-full flex items-center justify-center text-sm font-medium",children:"2"}),e.jsx("span",{className:"text-sm font-medium text-green-600",children:"プロフィール"})]}),e.jsx("div",{className:"w-12 h-0.5 bg-gray-200"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-8 h-8 bg-green-500 text-white rounded-full flex items-center justify-center text-sm font-medium",children:"3"}),e.jsx("span",{className:"text-sm font-medium text-green-600",children:"設定"})]})]})})}),e.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-12 gap-8",children:[e.jsxs("div",{className:"xl:col-span-8 space-y-6",children:[e.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-indigo-100 rounded-xl p-6 border border-blue-200",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[e.jsx("div",{className:"w-10 h-10 bg-blue-500 rounded-lg flex items-center justify-center",children:e.jsx(st,{className:"h-5 w-5 text-white"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"個人情報"}),e.jsx("p",{className:"text-sm text-gray-600",children:"ユーザーの基本的な情報を入力してください"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["名前 ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",value:g.name,onChange:Y=>N("name",Y.target.value),className:`block w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-green-500 focus:border-green-500 ${u.name?"border-red-300":"border-gray-300"}`,placeholder:"田中 太郎"}),u.name&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:u.name})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["メールアドレス ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"email",value:g.email,onChange:Y=>N("email",Y.target.value),className:`block w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-green-500 focus:border-green-500 ${u.email?"border-red-300":"border-gray-300"}`,placeholder:"tanaka@example.com"}),u.email&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:u.email})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["LINE ID ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",value:g.lineId,onChange:Y=>N("lineId",Y.target.value),className:`block w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-green-500 focus:border-green-500 ${u.lineId?"border-red-300":"border-gray-300"}`,placeholder:"Ub1234567890abcdef1234567890abcdef1"}),u.lineId&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:u.lineId})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"電話番号"}),e.jsx("input",{type:"tel",value:g.phone,onChange:Y=>N("phone",Y.target.value),className:`block w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-green-500 focus:border-green-500 ${u.phone?"border-red-300":"border-gray-300"}`,placeholder:"090-1234-5678"}),u.phone&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:u.phone})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"ロール"}),e.jsx("select",{value:g.role,onChange:Y=>N("role",Y.target.value),className:"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-green-500 focus:border-green-500",children:O.map(Y=>e.jsx("option",{value:Y.value,children:Y.label},Y.value))}),e.jsx("p",{className:"mt-1 text-xs text-gray-500",children:O.find(Y=>Y.value===g.role)?.description})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"所在地"}),e.jsx("input",{type:"text",value:g.location,onChange:Y=>N("location",Y.target.value),className:"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-green-500 focus:border-green-500",placeholder:"東京都渋谷区"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"年齢"}),e.jsx("input",{type:"number",value:g.age,onChange:Y=>N("age",Y.target.value),className:`block w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-green-500 focus:border-green-500 ${u.age?"border-red-300":"border-gray-300"}`,placeholder:"28",min:"0",max:"150"}),u.age&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:u.age})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"性別"}),e.jsx("select",{value:g.gender,onChange:Y=>N("gender",Y.target.value),className:"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-green-500 focus:border-green-500",children:_.map(Y=>e.jsx("option",{value:Y.value,children:Y.label},Y.value))})]})]})]}),e.jsxs("div",{className:"bg-gradient-to-br from-red-50 to-pink-100 rounded-xl p-6 border border-red-200",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[e.jsx("div",{className:"w-10 h-10 bg-red-500 rounded-lg flex items-center justify-center",children:e.jsx(la,{className:"h-5 w-5 text-white"})}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-lg font-semibold text-gray-900",children:"セキュリティ設定"}),e.jsx("p",{className:"text-sm text-gray-600",children:"アカウントのセキュリティを設定します"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["パスワード ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:f?"text":"password",value:g.password,onChange:Y=>N("password",Y.target.value),className:`block w-full px-3 py-2 pr-10 border rounded-md shadow-sm focus:outline-none focus:ring-green-500 focus:border-green-500 ${u.password?"border-red-300":"border-gray-300"}`,placeholder:"8文字以上"}),e.jsx("button",{type:"button",onClick:()=>b(!f),className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:f?e.jsx(q0,{className:"h-5 w-5 text-gray-400"}):e.jsx(Ue,{className:"h-5 w-5 text-gray-400"})})]}),u.password&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:u.password})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["パスワード確認 ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:f?"text":"password",value:g.confirmPassword,onChange:Y=>N("confirmPassword",Y.target.value),className:`block w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-green-500 focus:border-green-500 ${u.confirmPassword?"border-red-300":"border-gray-300"}`,placeholder:"パスワードを再入力"}),u.confirmPassword&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:u.confirmPassword})]})]})]}),e.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-violet-100 rounded-xl p-6 border border-purple-200",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[e.jsx("div",{className:"w-10 h-10 bg-purple-500 rounded-lg flex items-center justify-center",children:e.jsx(I0,{className:"h-5 w-5 text-white"})}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-lg font-semibold text-gray-900",children:"タグ管理"}),e.jsx("p",{className:"text-sm text-gray-600",children:"ユーザーの分類に使用するタグを設定します"})]})]}),e.jsxs("div",{className:"flex space-x-2 mb-3",children:[e.jsx("input",{type:"text",value:j,onChange:Y=>C(Y.target.value),onKeyPress:Y=>Y.key==="Enter"&&(Y.preventDefault(),T()),className:"flex-1 px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-green-500 focus:border-green-500",placeholder:"新しいタグを入力"}),e.jsx("button",{type:"button",onClick:T,className:"px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700",children:"追加"})]}),e.jsx("div",{className:"flex flex-wrap gap-2",children:g.tags.map((Y,le)=>e.jsxs("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm bg-blue-100 text-blue-800",children:[Y,e.jsx("button",{type:"button",onClick:()=>S(Y),className:"ml-2 text-blue-600 hover:text-blue-800",children:e.jsx(ot,{className:"h-3 w-3"})})]},le))})]})]}),e.jsxs("div",{className:"xl:col-span-4 space-y-6",children:[e.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-emerald-100 rounded-xl p-6 border border-green-200 sticky top-6",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[e.jsx("div",{className:"w-10 h-10 bg-green-500 rounded-lg flex items-center justify-center",children:e.jsx(st,{className:"h-5 w-5 text-white"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"プロフィール画像"}),e.jsx("p",{className:"text-sm text-gray-600",children:"アバター画像をアップロード"})]})]}),e.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[e.jsx("div",{className:"w-24 h-24 bg-gray-300 rounded-full flex items-center justify-center overflow-hidden",children:L?e.jsx("img",{src:L,alt:"Avatar preview",className:"w-full h-full object-cover"}):e.jsx(st,{className:"h-12 w-12 text-gray-400"})}),e.jsxs("div",{children:[e.jsxs("label",{className:"cursor-pointer inline-flex items-center px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50",children:[e.jsx(ls,{className:"mr-2 h-4 w-4"}),"画像を選択",e.jsx("input",{type:"file",accept:"image/*",onChange:E,className:"hidden"})]}),e.jsx("p",{className:"mt-2 text-xs text-gray-500",children:"JPG, PNG形式（最大5MB）"}),u.avatar&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:u.avatar})]})]})]}),e.jsxs("div",{className:"bg-gradient-to-br from-yellow-50 to-orange-100 rounded-xl p-6 border border-yellow-200",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[e.jsx("div",{className:"w-10 h-10 bg-yellow-500 rounded-lg flex items-center justify-center",children:e.jsx(_t,{className:"h-5 w-5 text-white"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"アカウント設定"}),e.jsx("p",{className:"text-sm text-gray-600",children:"初期設定を選択"})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",id:"isActive",checked:g.isActive,onChange:Y=>N("isActive",Y.target.checked),className:"h-4 w-4 text-green-600 focus:ring-green-500 border-gray-300 rounded"}),e.jsx("label",{htmlFor:"isActive",className:"ml-2 block text-sm text-gray-900",children:"アカウントを有効化"})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",id:"sendWelcomeMessage",checked:g.sendWelcomeMessage,onChange:Y=>N("sendWelcomeMessage",Y.target.checked),className:"h-4 w-4 text-green-600 focus:ring-green-500 border-gray-300 rounded"}),e.jsx("label",{htmlFor:"sendWelcomeMessage",className:"ml-2 block text-sm text-gray-900",children:"ウェルカムメッセージを送信"})]})]})]}),e.jsxs("div",{className:"bg-gradient-to-br from-cyan-50 to-blue-100 rounded-xl p-6 border border-cyan-200",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[e.jsx("div",{className:"w-10 h-10 bg-cyan-500 rounded-lg flex items-center justify-center",children:e.jsx(bl,{className:"h-5 w-5 text-white"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"通知設定"}),e.jsx("p",{className:"text-sm text-gray-600",children:"受信したい通知を選択"})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",id:"emailNotifications",checked:g.notificationPreferences.email,onChange:Y=>w("notificationPreferences","email",Y.target.checked),className:"h-4 w-4 text-green-600 focus:ring-green-500 border-gray-300 rounded"}),e.jsx("label",{htmlFor:"emailNotifications",className:"ml-2 block text-sm text-gray-900",children:"メール通知"})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",id:"smsNotifications",checked:g.notificationPreferences.sms,onChange:Y=>w("notificationPreferences","sms",Y.target.checked),className:"h-4 w-4 text-green-600 focus:ring-green-500 border-gray-300 rounded"}),e.jsx("label",{htmlFor:"smsNotifications",className:"ml-2 block text-sm text-gray-900",children:"SMS通知"})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",id:"pushNotifications",checked:g.notificationPreferences.push,onChange:Y=>w("notificationPreferences","push",Y.target.checked),className:"h-4 w-4 text-green-600 focus:ring-green-500 border-gray-300 rounded"}),e.jsx("label",{htmlFor:"pushNotifications",className:"ml-2 block text-sm text-gray-900",children:"プッシュ通知"})]})]})]})]})]})]})]})},Sv=()=>{const{user:i}=xt(),[c,o]=y.useState(""),[d,u]=y.useState("all"),m=[{id:1,title:"新商品のお知らせ",message:"新しい商品が入荷しました！今すぐチェックしてください。",status:"sent",recipients:1247,openRate:87.2,clickRate:34.5,createdAt:"2024-01-15T10:30:00Z",sentAt:"2024-01-15T11:00:00Z",createdBy:"admin@demo.com"},{id:2,title:"セール開始のお知らせ",message:"期間限定セール開始！最大50%オフでご提供中です。",status:"scheduled",recipients:1150,scheduledAt:"2024-01-20T09:00:00Z",createdAt:"2024-01-14T15:20:00Z",createdBy:"manager@demo.com"},{id:3,title:"メンテナンスのお知らせ",message:"システムメンテナンスを実施します。ご不便をおかけします。",status:"draft",recipients:0,createdAt:"2024-01-14T09:15:00Z",createdBy:"operator@demo.com"},{id:4,title:"イベント開催のお知らせ",message:"特別イベントを開催します！参加お待ちしています。",status:"failed",recipients:1200,createdAt:"2024-01-13T14:30:00Z",createdBy:"admin@demo.com",failureReason:"API接続エラー"}],f=j=>{const C={sent:{label:"送信済み",color:"bg-green-100 text-green-800"},scheduled:{label:"予約済み",color:"bg-blue-100 text-blue-800"},draft:{label:"下書き",color:"bg-gray-100 text-gray-800"},failed:{label:"送信失敗",color:"bg-red-100 text-red-800"}},L=C[j]||C.draft;return e.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${L.color}`,children:L.label})},b=j=>{switch(j){case"sent":return e.jsx(rt,{className:"h-4 w-4 text-green-500"});case"scheduled":return e.jsx(ut,{className:"h-4 w-4 text-blue-500"});case"failed":return e.jsx(ks,{className:"h-4 w-4 text-red-500"});default:return e.jsx(K0,{className:"h-4 w-4 text-gray-500"})}},g=m.filter(j=>{const C=j.title.toLowerCase().includes(c.toLowerCase())||j.message.toLowerCase().includes(c.toLowerCase()),L=d==="all"||j.status===d;return C&&L}),h=["admin","manager","operator"].includes(i?.role);return["admin","manager"].includes(i?.role),["admin"].includes(i?.role),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"md:flex md:items-center md:justify-between",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h2",{className:"text-2xl font-bold leading-7 text-gray-900 sm:text-3xl sm:truncate",children:"プッシュ通知管理"}),e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"LINE友達への通知を作成・管理します"})]}),h&&e.jsx("div",{className:"mt-4 flex md:mt-0 md:ml-4",children:e.jsxs(dt,{to:"/notifications/create",className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-green-600 hover:bg-green-700",children:[e.jsx(it,{className:"mr-2 h-4 w-4"}),"新しい通知を作成"]})})]}),e.jsx("div",{className:"bg-white shadow rounded-lg",children:e.jsx("div",{className:"px-4 py-5 sm:p-6",children:e.jsxs("div",{className:"sm:flex sm:items-center sm:space-x-4",children:[e.jsx("div",{className:"flex-1",children:e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(mt,{className:"h-5 w-5 text-gray-400"})}),e.jsx("input",{type:"text",className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md leading-5 bg-white placeholder-gray-500 focus:outline-none focus:placeholder-gray-400 focus:ring-1 focus:ring-green-500 focus:border-green-500",placeholder:"通知を検索...",value:c,onChange:j=>o(j.target.value)})]})}),e.jsx("div",{className:"mt-3 sm:mt-0",children:e.jsxs("select",{className:"block w-full pl-3 pr-10 py-2 text-base border border-gray-300 focus:outline-none focus:ring-green-500 focus:border-green-500 rounded-md",value:d,onChange:j=>u(j.target.value),children:[e.jsx("option",{value:"all",children:"すべてのステータス"}),e.jsx("option",{value:"sent",children:"送信済み"}),e.jsx("option",{value:"scheduled",children:"予約済み"}),e.jsx("option",{value:"draft",children:"下書き"}),e.jsx("option",{value:"failed",children:"送信失敗"})]})})]})})}),e.jsx("div",{className:"bg-white shadow overflow-hidden sm:rounded-md",children:e.jsx("ul",{className:"divide-y divide-gray-200",children:g.map(j=>e.jsx("li",{children:e.jsxs("div",{className:"px-4 py-4 sm:px-6 hover:bg-gray-50",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[b(j.status),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx(dt,{to:`/notifications/${j.id}`,className:"text-sm font-medium text-gray-900 hover:text-green-600",children:j.title}),e.jsx("p",{className:"text-sm text-gray-500 truncate",children:j.message})]})]}),e.jsxs("div",{className:"flex items-center space-x-4",children:[f(j.status),e.jsxs("div",{className:"text-right",children:[e.jsxs("p",{className:"text-sm text-gray-900",children:[j.recipients.toLocaleString()," 人"]}),e.jsx("p",{className:"text-xs text-gray-500",children:new Date(j.createdAt).toLocaleDateString("ja-JP")})]})]})]}),j.status==="sent"&&e.jsx("div",{className:"mt-2 sm:flex sm:justify-between",children:e.jsxs("div",{className:"sm:flex sm:space-x-6",children:[e.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[e.jsx(Ue,{className:"flex-shrink-0 mr-1.5 h-4 w-4"}),"開封率: ",j.openRate,"%"]}),e.jsxs("div",{className:"mt-2 flex items-center text-sm text-gray-500 sm:mt-0",children:[e.jsx(We,{className:"flex-shrink-0 mr-1.5 h-4 w-4"}),"クリック率: ",j.clickRate,"%"]})]})}),j.status==="failed"&&e.jsx("div",{className:"mt-2",children:e.jsxs("p",{className:"text-sm text-red-600",children:["エラー: ",j.failureReason]})})]})},j.id))})}),g.length===0&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"w-12 h-12 mx-auto bg-gray-100 rounded-full flex items-center justify-center",children:e.jsx(mt,{className:"h-6 w-6 text-gray-400"})}),e.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"通知が見つかりません"}),e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"検索条件を変更するか、新しい通知を作成してください。"}),h&&e.jsx("div",{className:"mt-6",children:e.jsxs(dt,{to:"/notifications/create",className:"inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-green-600 hover:bg-green-700",children:[e.jsx(it,{className:"mr-2 h-4 w-4"}),"新しい通知を作成"]})})]})]})},Cv=()=>{const[i,c]=y.useState("7days"),o={totalUsers:{value:1247,change:12.5,trend:"up"},activeUsers:{value:808,change:8.2,trend:"up"},notifications:{value:156,change:-3.1,trend:"down"},engagement:{value:64.8,change:5.4,trend:"up"}},d=[{title:"新商品のお知らせ",openRate:92.5,clickRate:38.2,sent:1247},{title:"セール開始",openRate:89.1,clickRate:45.6,sent:1150},{title:"イベント案内",openRate:85.7,clickRate:32.8,sent:1200},{title:"アップデート情報",openRate:78.3,clickRate:25.4,sent:980}],u=({icon:m,title:f,value:b,change:g,trend:h,suffix:j=""})=>e.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:e.jsx("div",{className:"p-5",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx(m,{className:"h-6 w-6 text-gray-400"})}),e.jsx("div",{className:"ml-5 w-0 flex-1",children:e.jsxs("dl",{children:[e.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:f}),e.jsxs("dd",{className:"flex items-baseline",children:[e.jsxs("div",{className:"text-2xl font-semibold text-gray-900",children:[typeof b=="number"?b.toLocaleString():b,j]}),e.jsxs("div",{className:`ml-2 flex items-baseline text-sm font-semibold ${h==="up"?"text-green-600":"text-red-600"}`,children:[h==="up"?e.jsx(Jt,{className:"h-4 w-4"}):e.jsx(Cj,{className:"h-4 w-4"}),e.jsxs("span",{className:"ml-1",children:[Math.abs(g),"%"]})]})]})]})})]})})});return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"md:flex md:items-center md:justify-between",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h2",{className:"text-2xl font-bold leading-7 text-gray-900 sm:text-3xl sm:truncate",children:"分析・統計"}),e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"ユーザーの行動分析とパフォーマンス統計"})]}),e.jsxs("div",{className:"mt-4 flex md:mt-0 md:ml-4 space-x-3",children:[e.jsxs("select",{value:i,onChange:m=>c(m.target.value),className:"border border-gray-300 rounded-md px-3 py-2 text-sm",children:[e.jsx("option",{value:"7days",children:"過去7日間"}),e.jsx("option",{value:"30days",children:"過去30日間"}),e.jsx("option",{value:"90days",children:"過去90日間"})]}),e.jsxs("button",{className:"inline-flex items-center px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50",children:[e.jsx(Gt,{className:"mr-2 h-4 w-4"}),"エクスポート"]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-5 sm:grid-cols-2 lg:grid-cols-4",children:[e.jsx(u,{icon:_e,title:"総ユーザー数",value:o.totalUsers.value,change:o.totalUsers.change,trend:o.totalUsers.trend}),e.jsx(u,{icon:_e,title:"アクティブユーザー",value:o.activeUsers.value,change:o.activeUsers.change,trend:o.activeUsers.trend}),e.jsx(u,{icon:Oe,title:"送信通知数",value:o.notifications.value,change:o.notifications.change,trend:o.notifications.trend}),e.jsx(u,{icon:Jt,title:"エンゲージメント率",value:o.engagement.value,change:o.engagement.change,trend:o.engagement.trend,suffix:"%"})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsx("div",{className:"bg-white shadow rounded-lg",children:e.jsxs("div",{className:"px-4 py-5 sm:p-6",children:[e.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:"ユーザー成長推移"}),e.jsx("div",{className:"mt-4 h-64 flex items-center justify-center bg-gray-50 rounded",children:e.jsxs("div",{className:"text-center",children:[e.jsx(Jt,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-500",children:"チャートコンポーネント"}),e.jsx("p",{className:"text-sm text-gray-400",children:"（実装予定）"})]})})]})}),e.jsx("div",{className:"bg-white shadow rounded-lg",children:e.jsxs("div",{className:"px-4 py-5 sm:p-6",children:[e.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:"通知パフォーマンス"}),e.jsx("div",{className:"mt-4 h-64 flex items-center justify-center bg-gray-50 rounded",children:e.jsxs("div",{className:"text-center",children:[e.jsx(Oe,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-500",children:"パフォーマンスチャート"}),e.jsx("p",{className:"text-sm text-gray-400",children:"（実装予定）"})]})})]})})]}),e.jsx("div",{className:"bg-white shadow rounded-lg",children:e.jsxs("div",{className:"px-4 py-5 sm:p-6",children:[e.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900 mb-4",children:"トップパフォーマンス通知"}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"通知タイトル"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"送信数"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"開封率"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"クリック率"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:d.map((m,f)=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:m.title}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:m.sent.toLocaleString()}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(Ue,{className:"h-4 w-4 text-gray-400 mr-1"}),e.jsxs("span",{className:"text-sm text-gray-900",children:[m.openRate,"%"]})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(Db,{className:"h-4 w-4 text-gray-400 mr-1"}),e.jsxs("span",{className:"text-sm text-gray-900",children:[m.clickRate,"%"]})]})})]},f))})]})})]})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsx("div",{className:"bg-white shadow rounded-lg",children:e.jsxs("div",{className:"px-4 py-5 sm:p-6",children:[e.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:"時間別送信分析"}),e.jsxs("div",{className:"mt-4",children:[e.jsx("p",{className:"text-sm text-gray-500",children:"最適な送信時間"}),e.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:"午後2時"}),e.jsx("p",{className:"text-xs text-gray-400",children:"開封率が最も高い時間帯"})]})]})}),e.jsx("div",{className:"bg-white shadow rounded-lg",children:e.jsxs("div",{className:"px-4 py-5 sm:p-6",children:[e.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:"デバイス別分析"}),e.jsxs("div",{className:"mt-4 space-y-2",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm text-gray-500",children:"スマートフォン"}),e.jsx("span",{className:"text-sm font-medium",children:"87%"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm text-gray-500",children:"タブレット"}),e.jsx("span",{className:"text-sm font-medium",children:"8%"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm text-gray-500",children:"PC"}),e.jsx("span",{className:"text-sm font-medium",children:"5%"})]})]})]})}),e.jsx("div",{className:"bg-white shadow rounded-lg",children:e.jsxs("div",{className:"px-4 py-5 sm:p-6",children:[e.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:"ユーザー行動"}),e.jsxs("div",{className:"mt-4 space-y-2",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm text-gray-500",children:"平均セッション時間"}),e.jsx("span",{className:"text-sm font-medium",children:"3分42秒"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm text-gray-500",children:"リピート率"}),e.jsx("span",{className:"text-sm font-medium",children:"68%"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm text-gray-500",children:"離脱率"}),e.jsx("span",{className:"text-sm font-medium",children:"12%"})]})]})]})})]})]})},kv=()=>{const[i,c]=y.useState("basic"),[o,d]=y.useState({channelAccessToken:"",channelSecret:"",webhookUrl:"",isConnected:!1,lastConnectionTest:null}),[u,m]=y.useState(!1),[f,b]=y.useState(null),g=[{id:"basic",name:"基本設定",icon:_t},{id:"webhook",name:"Webhook設定",icon:kn},{id:"richmenu",name:"リッチメニュー",icon:Mn},{id:"bot",name:"ボット設定",icon:ea}],h=(N,w)=>{d(E=>({...E,[N]:w}))},j=async()=>{m(!0),b(null),setTimeout(()=>{const N=o.channelAccessToken&&o.channelSecret;b({success:N,message:N?"LINE APIとの接続に成功しました":"アクセストークンまたはチャンネルシークレットが不正です"}),d(w=>({...w,isConnected:N,lastConnectionTest:new Date().toISOString()})),m(!1)},2e3)},C=()=>{m(!0),setTimeout(()=>{m(!1),alert("設定を保存しました")},1e3)},L=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"チャンネルアクセストークン"}),e.jsx("input",{type:"password",className:"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-green-500 focus:border-green-500",value:o.channelAccessToken,onChange:N=>h("channelAccessToken",N.target.value),placeholder:"チャンネルアクセストークンを入力"}),e.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"LINE Developersコンソールから取得したアクセストークン"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"チャンネルシークレット"}),e.jsx("input",{type:"password",className:"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-green-500 focus:border-green-500",value:o.channelSecret,onChange:N=>h("channelSecret",N.target.value),placeholder:"チャンネルシークレットを入力"}),e.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"LINE Developersコンソールから取得したチャンネルシークレット"})]}),e.jsxs("div",{className:"bg-gray-50 p-4 rounded-md",children:[e.jsx("h4",{className:"text-sm font-medium text-gray-900 mb-3",children:"接続テスト"}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("button",{onClick:j,disabled:u||!o.channelAccessToken||!o.channelSecret,className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-green-600 hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed",children:[u?e.jsx(Vt,{className:"mr-2 h-4 w-4 animate-spin"}):e.jsx(jj,{className:"mr-2 h-4 w-4"}),"接続テスト"]}),f&&e.jsxs("div",{className:`flex items-center space-x-2 ${f.success?"text-green-600":"text-red-600"}`,children:[f.success?e.jsx(rt,{className:"h-5 w-5"}):e.jsx(ks,{className:"h-5 w-5"}),e.jsx("span",{className:"text-sm",children:f.message})]})]}),o.lastConnectionTest&&e.jsxs("p",{className:"text-xs text-gray-500 mt-2",children:["最終テスト: ",new Date(o.lastConnectionTest).toLocaleString("ja-JP")]})]})]}),$=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Webhook URL"}),e.jsx("input",{type:"url",className:"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-green-500 focus:border-green-500",value:o.webhookUrl,onChange:N=>h("webhookUrl",N.target.value),placeholder:"https://your-domain.com/webhook"}),e.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"LINE Platformからのイベントを受信するURL"})]}),e.jsxs("div",{className:"bg-blue-50 p-4 rounded-md",children:[e.jsx("h4",{className:"text-sm font-medium text-blue-900 mb-3",children:"イベント購読設定"}),e.jsx("div",{className:"grid grid-cols-2 gap-4",children:[{id:"message",label:"メッセージイベント",enabled:!0},{id:"follow",label:"フォローイベント",enabled:!0},{id:"unfollow",label:"アンフォローイベント",enabled:!1},{id:"join",label:"参加イベント",enabled:!0},{id:"leave",label:"退出イベント",enabled:!1},{id:"postback",label:"ポストバックイベント",enabled:!0}].map(N=>e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",defaultChecked:N.enabled,className:"h-4 w-4 text-green-600 focus:ring-green-500 border-gray-300 rounded"}),e.jsx("span",{className:"ml-2 text-sm text-gray-700",children:N.label})]},N.id))})]}),e.jsxs("div",{className:"bg-gray-50 p-4 rounded-md",children:[e.jsx("h4",{className:"text-sm font-medium text-gray-900 mb-3",children:"Webhook検証"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-700",children:"SSL証明書"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(rt,{className:"h-4 w-4 text-green-500"}),e.jsx("span",{className:"text-sm text-green-600",children:"有効"})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-700",children:"URL到達性"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(rt,{className:"h-4 w-4 text-green-500"}),e.jsx("span",{className:"text-sm text-green-600",children:"OK"})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-700",children:"署名検証"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ta,{className:"h-4 w-4 text-yellow-500"}),e.jsx("span",{className:"text-sm text-yellow-600",children:"未設定"})]})]})]})]}),e.jsxs("div",{className:"bg-white border border-gray-200 rounded-md",children:[e.jsx("div",{className:"px-4 py-3 border-b border-gray-200",children:e.jsx("h4",{className:"text-sm font-medium text-gray-900",children:"最近のWebhookログ"})}),e.jsx("div",{className:"max-h-64 overflow-y-auto",children:[{time:"2024-01-15 14:30:25",event:"message",status:"success",user:"user123"},{time:"2024-01-15 14:29:15",event:"follow",status:"success",user:"user456"},{time:"2024-01-15 14:28:10",event:"message",status:"error",user:"user789"},{time:"2024-01-15 14:27:05",event:"postback",status:"success",user:"user123"}].map((N,w)=>e.jsx("div",{className:"px-4 py-3 border-b border-gray-100 last:border-b-0",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:`w-2 h-2 rounded-full ${N.status==="success"?"bg-green-400":"bg-red-400"}`}),e.jsx("span",{className:"text-sm font-medium text-gray-900",children:N.event}),e.jsx("span",{className:"text-xs text-gray-500",children:N.user})]}),e.jsx("span",{className:"text-xs text-gray-500",children:N.time})]})},w))})]})]}),O=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"リッチメニュー一覧"}),e.jsxs("button",{className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-green-600 hover:bg-green-700",children:[e.jsx(it,{className:"mr-2 h-4 w-4"}),"新しいメニューを作成"]})]}),e.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[{id:1,name:"メインメニュー",status:"active",areas:6,createdAt:"2024-01-10",preview:"/api/placeholder/300/200"},{id:2,name:"キャンペーンメニュー",status:"draft",areas:4,createdAt:"2024-01-12",preview:"/api/placeholder/300/200"}].map(N=>e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden",children:[e.jsx("div",{className:"aspect-w-3 aspect-h-2 bg-gray-100",children:e.jsx("div",{className:"flex items-center justify-center",children:e.jsx(Mn,{className:"h-12 w-12 text-gray-400"})})}),e.jsxs("div",{className:"p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("h4",{className:"text-lg font-medium text-gray-900",children:N.name}),e.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${N.status==="active"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:N.status==="active"?"有効":"下書き"})]}),e.jsxs("p",{className:"text-sm text-gray-500 mb-3",children:["エリア数: ",N.areas," / 作成日: ",N.createdAt]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsxs("button",{className:"flex-1 inline-flex items-center justify-center px-3 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50",children:[e.jsx(Ue,{className:"mr-2 h-4 w-4"}),"プレビュー"]}),e.jsxs("button",{className:"flex-1 inline-flex items-center justify-center px-3 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50",children:[e.jsx(ta,{className:"mr-2 h-4 w-4"}),"編集"]}),e.jsx("button",{className:"inline-flex items-center justify-center px-3 py-2 border border-red-300 text-sm font-medium rounded-md text-red-700 bg-white hover:bg-red-50",children:e.jsx(vt,{className:"h-4 w-4"})})]})]})]},N.id))}),e.jsxs("div",{className:"bg-blue-50 p-4 rounded-md",children:[e.jsx("h4",{className:"text-sm font-medium text-blue-900 mb-3",children:"リッチメニューエディター機能"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Qd,{className:"h-4 w-4 text-blue-600"}),e.jsx("span",{className:"text-sm text-blue-900",children:"URIアクション"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Zt,{className:"h-4 w-4 text-blue-600"}),e.jsx("span",{className:"text-sm text-blue-900",children:"ポストバックアクション"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(wy,{className:"h-4 w-4 text-blue-600"}),e.jsx("span",{className:"text-sm text-blue-900",children:"メッセージアクション"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ue,{className:"h-4 w-4 text-blue-600"}),e.jsx("span",{className:"text-sm text-blue-900",children:"リアルタイムプレビュー"})]})]})]})]}),_=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[e.jsx("h4",{className:"text-lg font-medium text-gray-900 mb-4",children:"挨拶メッセージ設定"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"友達追加時の挨拶メッセージ"}),e.jsx("textarea",{rows:4,className:"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-green-500 focus:border-green-500",placeholder:`友達追加ありがとうございます！
何かご質問がございましたら、お気軽にお声がけください。`,defaultValue:`友達追加ありがとうございます！
何かご質問がございましたら、お気軽にお声がけください。`})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",defaultChecked:!0,className:"h-4 w-4 text-green-600 focus:ring-green-500 border-gray-300 rounded"}),e.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"挨拶メッセージを有効にする"})]})]})]}),e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[e.jsx("h4",{className:"text-lg font-medium text-gray-900 mb-4",children:"自動応答ルール"}),e.jsxs("div",{className:"space-y-4",children:[[{keyword:"こんにちは",response:"こんにちは！お疲れ様です。",enabled:!0},{keyword:"営業時間",response:"営業時間は平日9:00-18:00です。",enabled:!0},{keyword:"お問い合わせ",response:"お問い合わせありがとうございます。担当者が確認いたします。",enabled:!1}].map((N,w)=>e.jsxs("div",{className:"flex items-center justify-between p-4 border border-gray-200 rounded-md",children:[e.jsx("div",{className:"flex-1",children:e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("input",{type:"checkbox",defaultChecked:N.enabled,className:"h-4 w-4 text-green-600 focus:ring-green-500 border-gray-300 rounded"}),e.jsxs("div",{children:[e.jsxs("p",{className:"text-sm font-medium text-gray-900",children:["キーワード: ",N.keyword]}),e.jsxs("p",{className:"text-sm text-gray-500",children:["応答: ",N.response]})]})]})}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("button",{className:"text-sm text-blue-600 hover:text-blue-800",children:"編集"}),e.jsx("button",{className:"text-sm text-red-600 hover:text-red-800",children:"削除"})]})]},w)),e.jsxs("button",{className:"w-full p-4 border-2 border-dashed border-gray-300 rounded-md text-sm text-gray-500 hover:border-gray-400 hover:text-gray-600",children:[e.jsx(it,{className:"mx-auto h-5 w-5 mb-2"}),"新しいルールを追加"]})]})]}),e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[e.jsx("h4",{className:"text-lg font-medium text-gray-900 mb-4",children:"ユーザー管理"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsx("div",{className:"bg-gray-50 p-4 rounded-md",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(ni,{className:"h-8 w-8 text-red-500"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:"ブロック済みユーザー"}),e.jsx("p",{className:"text-lg font-bold text-red-600",children:"3"})]})]})}),e.jsx("div",{className:"bg-gray-50 p-4 rounded-md",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(ut,{className:"h-8 w-8 text-yellow-500"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:"制限中ユーザー"}),e.jsx("p",{className:"text-lg font-bold text-yellow-600",children:"1"})]})]})}),e.jsx("div",{className:"bg-gray-50 p-4 rounded-md",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(la,{className:"h-8 w-8 text-green-500"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:"アクティブユーザー"}),e.jsx("p",{className:"text-lg font-bold text-green-600",children:"1,247"})]})]})})]}),e.jsx("div",{className:"mt-4",children:e.jsxs("button",{className:"inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50",children:[e.jsx(ni,{className:"mr-2 h-4 w-4"}),"ブロック済みユーザーを管理"]})})]}),e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[e.jsx("h4",{className:"text-lg font-medium text-gray-900 mb-4",children:"セキュリティ設定"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:"スパム検出"}),e.jsx("p",{className:"text-sm text-gray-500",children:"自動的にスパムメッセージを検出してブロックします"})]}),e.jsx("input",{type:"checkbox",defaultChecked:!0,className:"h-4 w-4 text-green-600 focus:ring-green-500 border-gray-300 rounded"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:"不適切なコンテンツフィルタ"}),e.jsx("p",{className:"text-sm text-gray-500",children:"不適切な画像や動画をフィルタリングします"})]}),e.jsx("input",{type:"checkbox",defaultChecked:!0,className:"h-4 w-4 text-green-600 focus:ring-green-500 border-gray-300 rounded"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:"レート制限"}),e.jsx("p",{className:"text-sm text-gray-500",children:"1分間に送信できるメッセージ数を制限します"})]}),e.jsxs("select",{className:"text-sm border border-gray-300 rounded-md px-3 py-1",children:[e.jsx("option",{children:"10メッセージ/分"}),e.jsx("option",{children:"20メッセージ/分"}),e.jsx("option",{children:"50メッセージ/分"})]})]})]})]})]});return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"md:flex md:items-center md:justify-between",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h2",{className:"text-2xl font-bold leading-7 text-gray-900 sm:text-3xl sm:truncate",children:"LINE設定"}),e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"LINE APIの設定と管理を行います"})]}),e.jsx("div",{className:"mt-4 flex md:mt-0 md:ml-4",children:e.jsxs("button",{onClick:C,disabled:u,className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-green-600 hover:bg-green-700 disabled:opacity-50",children:[u?e.jsx(Vt,{className:"mr-2 h-4 w-4 animate-spin"}):e.jsx(Ts,{className:"mr-2 h-4 w-4"}),"設定を保存"]})})]}),e.jsx("div",{className:"bg-white shadow rounded-lg",children:e.jsx("div",{className:"px-4 py-3 border-b border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:"接続状態"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:`w-3 h-3 rounded-full ${o.isConnected?"bg-green-400":"bg-red-400"}`}),e.jsx("span",{className:"text-sm text-gray-900",children:o.isConnected?"LINE API接続中":"LINE API未接続"})]})]})})}),e.jsxs("div",{className:"bg-white shadow rounded-lg",children:[e.jsx("div",{className:"border-b border-gray-200",children:e.jsx("nav",{className:"-mb-px flex space-x-8 px-6",children:g.map(N=>{const w=N.icon;return e.jsxs("button",{onClick:()=>c(N.id),className:`py-4 px-1 border-b-2 font-medium text-sm flex items-center space-x-2 ${i===N.id?"border-green-500 text-green-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[e.jsx(w,{className:"h-4 w-4"}),e.jsx("span",{children:N.name})]},N.id)})})}),e.jsxs("div",{className:"px-6 py-6",children:[i==="basic"&&L(),i==="webhook"&&$(),i==="richmenu"&&O(),i==="bot"&&_()]})]})]})},Tv=()=>{const[i,c]=y.useState("general"),[o,d]=y.useState({general:{systemName:"LINE管理ダッシュボード",timezone:"Asia/Tokyo",language:"ja",maintenanceMode:!1},security:{sessionTimeout:30,passwordPolicy:"medium",twoFactorAuth:!0,loginAttempts:5},notifications:{emailNotifications:!0,slackIntegration:!1,webhookUrl:"",adminEmail:"admin@example.com"},database:{backupFrequency:"daily",retentionDays:30,autoCleanup:!0}}),[u,m]=y.useState(null),f=[{id:"general",name:"一般設定",icon:_t},{id:"security",name:"セキュリティ",icon:la},{id:"notifications",name:"通知設定",icon:bl},{id:"database",name:"データベース",icon:ei},{id:"system",name:"システム情報",icon:rj}],b=()=>{m("saving"),setTimeout(()=>{m("success"),setTimeout(()=>m(null),3e3)},1e3)},g=(O,_,N)=>{d(w=>({...w,[O]:{...w[O],[_]:N}}))},h=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"システム名"}),e.jsx("input",{type:"text",value:o.general.systemName,onChange:O=>g("general","systemName",O.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"タイムゾーン"}),e.jsxs("select",{value:o.general.timezone,onChange:O=>g("general","timezone",O.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"Asia/Tokyo",children:"Asia/Tokyo (JST)"}),e.jsx("option",{value:"UTC",children:"UTC"}),e.jsx("option",{value:"America/New_York",children:"America/New_York (EST)"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"言語"}),e.jsxs("select",{value:o.general.language,onChange:O=>g("general","language",O.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"ja",children:"日本語"}),e.jsx("option",{value:"en",children:"English"})]})]}),e.jsxs("div",{className:"flex items-center justify-between p-4 bg-yellow-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(Ta,{className:"w-5 h-5 text-yellow-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-yellow-800",children:"メンテナンスモード"}),e.jsx("p",{className:"text-xs text-yellow-600",children:"有効にするとユーザーアクセスが制限されます"})]})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:o.general.maintenanceMode,onChange:O=>g("general","maintenanceMode",O.target.checked),className:"sr-only peer"}),e.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]})]}),j=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"セッションタイムアウト（分）"}),e.jsx("input",{type:"number",value:o.security.sessionTimeout,onChange:O=>g("security","sessionTimeout",parseInt(O.target.value)),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500",min:"5",max:"480"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"パスワードポリシー"}),e.jsxs("select",{value:o.security.passwordPolicy,onChange:O=>g("security","passwordPolicy",O.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"low",children:"低（6文字以上）"}),e.jsx("option",{value:"medium",children:"中（8文字以上、大小文字・数字）"}),e.jsx("option",{value:"high",children:"高（12文字以上、大小文字・数字・記号）"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"ログイン試行回数制限"}),e.jsx("input",{type:"number",value:o.security.loginAttempts,onChange:O=>g("security","loginAttempts",parseInt(O.target.value)),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500",min:"3",max:"10"})]}),e.jsxs("div",{className:"flex items-center justify-between p-4 bg-green-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(Ld,{className:"w-5 h-5 text-green-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-green-800",children:"二段階認証"}),e.jsx("p",{className:"text-xs text-green-600",children:"管理者アカウントの追加セキュリティ"})]})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:o.security.twoFactorAuth,onChange:O=>g("security","twoFactorAuth",O.target.checked),className:"sr-only peer"}),e.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]})]}),C=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"管理者メールアドレス"}),e.jsx("input",{type:"email",value:o.notifications.adminEmail,onChange:O=>g("notifications","adminEmail",O.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Webhook URL（任意）"}),e.jsx("input",{type:"url",value:o.notifications.webhookUrl,onChange:O=>g("notifications","webhookUrl",O.target.value),placeholder:"https://hooks.slack.com/...",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 bg-blue-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(Y0,{className:"w-5 h-5 text-blue-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-blue-800",children:"メール通知"}),e.jsx("p",{className:"text-xs text-blue-600",children:"システムアラートをメールで受信"})]})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:o.notifications.emailNotifications,onChange:O=>g("notifications","emailNotifications",O.target.checked),className:"sr-only peer"}),e.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]}),e.jsxs("div",{className:"flex items-center justify-between p-4 bg-purple-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(kn,{className:"w-5 h-5 text-purple-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-purple-800",children:"Slack連携"}),e.jsx("p",{className:"text-xs text-purple-600",children:"Slackチャンネルに通知送信"})]})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:o.notifications.slackIntegration,onChange:O=>g("notifications","slackIntegration",O.target.checked),className:"sr-only peer"}),e.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]})]})]}),L=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"バックアップ頻度"}),e.jsxs("select",{value:o.database.backupFrequency,onChange:O=>g("database","backupFrequency",O.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"hourly",children:"毎時"}),e.jsx("option",{value:"daily",children:"毎日"}),e.jsx("option",{value:"weekly",children:"毎週"}),e.jsx("option",{value:"monthly",children:"毎月"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"データ保持期間（日）"}),e.jsx("input",{type:"number",value:o.database.retentionDays,onChange:O=>g("database","retentionDays",parseInt(O.target.value)),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500",min:"1",max:"365"})]}),e.jsxs("div",{className:"flex items-center justify-between p-4 bg-green-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(Vt,{className:"w-5 h-5 text-green-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-green-800",children:"自動クリーンアップ"}),e.jsx("p",{className:"text-xs text-green-600",children:"期限切れデータの自動削除"})]})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:o.database.autoCleanup,onChange:O=>g("database","autoCleanup",O.target.checked),className:"sr-only peer"}),e.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("button",{className:"flex items-center justify-center space-x-2 px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:[e.jsx(Gt,{className:"w-4 h-4"}),e.jsx("span",{children:"手動バックアップ"})]}),e.jsxs("button",{className:"flex items-center justify-center space-x-2 px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700",children:[e.jsx(ls,{className:"w-4 h-4"}),e.jsx("span",{children:"復元"})]})]})]}),$=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[e.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-3",children:"システム情報"}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"バージョン:"}),e.jsx("span",{className:"font-medium",children:"v2.1.0"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"アップタイム:"}),e.jsx("span",{className:"font-medium",children:"7日 12時間"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"メモリ使用量:"}),e.jsx("span",{className:"font-medium",children:"256MB / 1GB"})]})]})]}),e.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[e.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-3",children:"データベース"}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"接続状態:"}),e.jsxs("span",{className:"flex items-center space-x-1",children:[e.jsx("div",{className:"w-2 h-2 bg-green-400 rounded-full"}),e.jsx("span",{className:"font-medium",children:"正常"})]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"レコード数:"}),e.jsx("span",{className:"font-medium",children:"1,247件"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"最終バックアップ:"}),e.jsx("span",{className:"font-medium",children:"2時間前"})]})]})]})]}),e.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-3",children:[e.jsx(Ln,{className:"w-5 h-5 text-blue-600"}),e.jsx("h4",{className:"text-sm font-medium text-blue-800",children:"ライセンス情報"})]}),e.jsxs("div",{className:"text-sm text-blue-700",children:[e.jsx("p",{children:"LINE管理ダッシュボード Pro License"}),e.jsx("p",{children:"有効期限: 2024年12月31日"}),e.jsx("p",{children:"ライセンスタイプ: 商用利用可"})]})]})]});return e.jsxs("div",{className:"p-6 space-y-6 bg-gray-50 min-h-screen",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"🖥️ システム設定"}),e.jsx("p",{className:"text-gray-600 mt-1",children:"システム全体の設定と管理"})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[u&&e.jsxs("div",{className:`flex items-center space-x-2 px-3 py-2 rounded-lg ${u==="saving"?"bg-blue-100 text-blue-800":u==="success"?"bg-green-100 text-green-800":""}`,children:[u==="saving"?e.jsx(Vt,{className:"w-4 h-4 animate-spin"}):e.jsx(rt,{className:"w-4 h-4"}),e.jsx("span",{className:"text-sm font-medium",children:u==="saving"?"保存中...":"保存完了"})]}),e.jsxs("button",{onClick:b,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 flex items-center space-x-2",children:[e.jsx(Ts,{className:"w-4 h-4"}),e.jsx("span",{children:"設定を保存"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[e.jsx("div",{className:"lg:col-span-1",children:e.jsx("nav",{className:"space-y-1",children:f.map(O=>{const _=O.icon;return e.jsxs("button",{onClick:()=>c(O.id),className:`w-full flex items-center space-x-3 px-4 py-3 text-left rounded-lg transition-colors ${i===O.id?"bg-blue-100 text-blue-700 border border-blue-200":"text-gray-600 hover:bg-gray-100"}`,children:[e.jsx(_,{className:"w-5 h-5"}),e.jsx("span",{className:"font-medium",children:O.name})]},O.id)})})}),e.jsx("div",{className:"lg:col-span-3",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[i==="general"&&h(),i==="security"&&j(),i==="notifications"&&C(),i==="database"&&L(),i==="system"&&$()]})})]})]})},Ev=()=>{const[i,c]=y.useState("quickReplies"),[o,d]=y.useState("grid"),[u,m]=y.useState(""),[f,b]=y.useState("all"),[g,h]=y.useState([{id:"1",title:"営業時間のお知らせ",text:`営業時間は平日9:00-18:00です。
お気軽にお問い合わせください！`,category:"info",buttons:[{type:"text",title:"お問い合わせ",text:"お問い合わせ"},{type:"phone",title:"電話する",phoneNumber:"03-1234-5678"},{type:"url",title:"ホームページ",url:"https://example.com"}],usage:234,lastUsed:"2024-01-15T10:30:00Z"},{id:"2",title:"アクセス案内",text:`📍 店舗へのアクセス

東京都渋谷区...
最寄り駅：JR渋谷駅より徒歩5分`,category:"location",buttons:[{type:"location",title:"地図を見る",latitude:35.658581,longitude:139.701637},{type:"phone",title:"電話で確認",phoneNumber:"03-1234-5678"}],usage:156,lastUsed:"2024-01-14T15:20:00Z"},{id:"3",title:"サービス紹介",text:`🎉 当店のサービスをご紹介します！

✅ サービスA
✅ サービスB
✅ サービスC`,category:"promotion",buttons:[{type:"url",title:"詳細を見る",url:"https://example.com/services"},{type:"text",title:"予約する",text:"予約希望"},{type:"text",title:"資料請求",text:"資料請求"}],usage:89,lastUsed:"2024-01-12T09:15:00Z"}]),[j,C]=y.useState([{id:"1",title:"商品カタログ",type:"carousel",items:[{imageUrl:"/images/product1.jpg",title:"商品A",text:`高品質な商品A
特別価格：¥9,800`,actions:[{type:"url",label:"詳細",uri:"https://example.com/product1"},{type:"postback",label:"購入",data:"buy_product_1"}]},{imageUrl:"/images/product2.jpg",title:"商品B",text:`人気の商品B
限定販売中：¥12,800`,actions:[{type:"url",label:"詳細",uri:"https://example.com/product2"},{type:"postback",label:"購入",data:"buy_product_2"}]}],category:"product",usage:67,lastUsed:"2024-01-13T14:45:00Z"}]),[L,$]=y.useState([{id:"1",title:"予約確認書",type:"flex",altText:"予約確認書",contents:{type:"bubble",header:{type:"box",layout:"vertical",contents:[{type:"text",text:"予約確認書",weight:"bold",size:"xl",color:"#ffffff"}],backgroundColor:"#27ACB2"},body:{type:"box",layout:"vertical",contents:[{type:"text",text:"ご予約ありがとうございます",wrap:!0},{type:"separator",margin:"md"},{type:"box",layout:"vertical",margin:"md",contents:[{type:"text",text:"予約日時",size:"sm",color:"#666666"},{type:"text",text:"2024年1月20日 14:00",weight:"bold"}]}]},footer:{type:"box",layout:"vertical",contents:[{type:"button",action:{type:"phone",uri:"tel:03-1234-5678"},style:"primary",color:"#27ACB2",text:"店舗に電話"}]}},category:"business",usage:45,lastUsed:"2024-01-11T16:30:00Z"}]),O=T=>T.filter(S=>{const M=S.title.toLowerCase().includes(u.toLowerCase())||S.text?.toLowerCase().includes(u.toLowerCase()),H=f==="all"||S.category===f;return M&&H}),_=[{value:"all",label:"すべて",count:g.length+j.length+L.length},{value:"info",label:"案内・情報",count:5},{value:"promotion",label:"プロモーション",count:3},{value:"location",label:"場所・アクセス",count:2},{value:"business",label:"ビジネス",count:4},{value:"product",label:"商品",count:2}],N=T=>e.jsx("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden hover:shadow-md transition-shadow",children:e.jsxs("div",{className:"p-4",children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-sm font-medium text-gray-900 mb-1",children:T.title}),e.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${T.category==="info"?"bg-blue-100 text-blue-800":T.category==="promotion"?"bg-green-100 text-green-800":T.category==="location"?"bg-purple-100 text-purple-800":"bg-gray-100 text-gray-800"}`,children:_.find(S=>S.value===T.category)?.label})]}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx("button",{className:"p-1 text-gray-400 hover:text-blue-600",children:e.jsx(Ue,{className:"h-4 w-4"})}),e.jsx("button",{className:"p-1 text-gray-400 hover:text-green-600",children:e.jsx(ws,{className:"h-4 w-4"})}),e.jsx("button",{className:"p-1 text-gray-400 hover:text-yellow-600",children:e.jsx(Ca,{className:"h-4 w-4"})})]})]}),e.jsx("div",{className:"bg-gray-50 rounded-lg p-3 mb-3",children:e.jsx("p",{className:"text-sm text-gray-700 whitespace-pre-line",children:T.text})}),e.jsx("div",{className:"space-y-2 mb-3",children:T.buttons.map((S,M)=>e.jsxs("div",{className:`flex items-center justify-center py-2 px-3 rounded border text-sm font-medium ${S.type==="phone"?"bg-green-50 border-green-200 text-green-700":S.type==="url"?"bg-blue-50 border-blue-200 text-blue-700":S.type==="location"?"bg-purple-50 border-purple-200 text-purple-700":"bg-gray-50 border-gray-200 text-gray-700"}`,children:[S.type==="phone"&&e.jsx(aa,{className:"h-4 w-4 mr-2"}),S.type==="url"&&e.jsx(li,{className:"h-4 w-4 mr-2"}),S.type==="location"&&e.jsx(Xd,{className:"h-4 w-4 mr-2"}),S.type==="text"&&e.jsx(Oe,{className:"h-4 w-4 mr-2"}),S.title]},M))}),e.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500",children:[e.jsxs("span",{children:["使用回数: ",T.usage]}),e.jsxs("span",{children:["最終使用: ",new Date(T.lastUsed).toLocaleDateString("ja-JP")]})]})]})},T.id),w=T=>e.jsx("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden hover:shadow-md transition-shadow",children:e.jsxs("div",{className:"p-4",children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-sm font-medium text-gray-900 mb-1",children:T.title}),e.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-orange-100 text-orange-800",children:["カルーセル (",T.items.length,"枚)"]})]}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx("button",{className:"p-1 text-gray-400 hover:text-blue-600",children:e.jsx(Ue,{className:"h-4 w-4"})}),e.jsx("button",{className:"p-1 text-gray-400 hover:text-green-600",children:e.jsx(ws,{className:"h-4 w-4"})}),e.jsx("button",{className:"p-1 text-gray-400 hover:text-yellow-600",children:e.jsx(Ca,{className:"h-4 w-4"})})]})]}),e.jsx("div",{className:"flex space-x-2 overflow-x-auto pb-2 mb-3",children:T.items.map((S,M)=>e.jsxs("div",{className:"flex-shrink-0 w-40 bg-gray-50 rounded border",children:[e.jsx("div",{className:"h-20 bg-gray-200 rounded-t flex items-center justify-center",children:e.jsx(An,{className:"h-8 w-8 text-gray-400"})}),e.jsxs("div",{className:"p-2",children:[e.jsx("p",{className:"text-xs font-medium text-gray-900 truncate",children:S.title}),e.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[S.actions.length,"個のアクション"]})]})]},M))}),e.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500",children:[e.jsxs("span",{children:["使用回数: ",T.usage]}),e.jsxs("span",{children:["最終使用: ",new Date(T.lastUsed).toLocaleDateString("ja-JP")]})]})]})},T.id),E=T=>e.jsx("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden hover:shadow-md transition-shadow",children:e.jsxs("div",{className:"p-4",children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-sm font-medium text-gray-900 mb-1",children:T.title}),e.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-indigo-100 text-indigo-800",children:"Flexメッセージ"})]}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx("button",{className:"p-1 text-gray-400 hover:text-blue-600",children:e.jsx(Ue,{className:"h-4 w-4"})}),e.jsx("button",{className:"p-1 text-gray-400 hover:text-green-600",children:e.jsx(ws,{className:"h-4 w-4"})}),e.jsx("button",{className:"p-1 text-gray-400 hover:text-yellow-600",children:e.jsx(Ca,{className:"h-4 w-4"})})]})]}),e.jsx("div",{className:"bg-gray-50 rounded-lg p-3 mb-3",children:e.jsxs("div",{className:"bg-white rounded border shadow-sm",children:[e.jsx("div",{className:"bg-teal-500 text-white p-3 rounded-t",children:e.jsx("p",{className:"font-bold text-center",children:T.contents.header?.contents[0]?.text})}),e.jsx("div",{className:"p-3",children:e.jsx("p",{className:"text-sm text-gray-700",children:"予約内容の詳細..."})}),e.jsx("div",{className:"p-3 border-t",children:e.jsxs("button",{className:"w-full bg-teal-500 text-white py-2 rounded text-sm font-medium flex items-center justify-center",children:[e.jsx(aa,{className:"h-4 w-4 mr-1"}),"店舗に電話"]})})]})}),e.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500",children:[e.jsxs("span",{children:["使用回数: ",T.usage]}),e.jsxs("span",{children:["最終使用: ",new Date(T.lastUsed).toLocaleDateString("ja-JP")]})]})]})},T.id);return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"md:flex md:items-center md:justify-between",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h2",{className:"text-2xl font-bold leading-7 text-gray-900 sm:text-3xl sm:truncate",children:"メッセージテンプレート"}),e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"クイック返信、カルーセル、Flexメッセージのテンプレートを管理します"})]}),e.jsxs("div",{className:"mt-4 flex space-x-3 md:mt-0 md:ml-4",children:[e.jsxs("button",{className:"inline-flex items-center px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50",children:[e.jsx(ws,{className:"-ml-1 mr-2 h-4 w-4"}),"テンプレート複製"]}),e.jsxs("button",{className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700",children:[e.jsx(it,{className:"-ml-1 mr-2 h-4 w-4"}),"新規作成"]})]})]}),e.jsx("div",{className:"border-b border-gray-200",children:e.jsxs("nav",{className:"-mb-px flex space-x-8",children:[e.jsxs("button",{onClick:()=>c("quickReplies"),className:`py-2 px-1 border-b-2 font-medium text-sm ${i==="quickReplies"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:["クイック返信 (",g.length,")"]}),e.jsxs("button",{onClick:()=>c("carousels"),className:`py-2 px-1 border-b-2 font-medium text-sm ${i==="carousels"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:["カルーセル (",j.length,")"]}),e.jsxs("button",{onClick:()=>c("flexMessages"),className:`py-2 px-1 border-b-2 font-medium text-sm ${i==="flexMessages"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:["Flexメッセージ (",L.length,")"]})]})}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[e.jsxs("div",{className:"flex-1 relative",children:[e.jsx(mt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),e.jsx("input",{type:"text",placeholder:"テンプレートを検索...",value:u,onChange:T=>m(T.target.value),className:"pl-9 w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("select",{value:f,onChange:T=>b(T.target.value),className:"border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",children:_.map(T=>e.jsxs("option",{value:T.value,children:[T.label," (",T.count,")"]},T.value))}),e.jsxs("div",{className:"flex border border-gray-300 rounded-lg",children:[e.jsx("button",{onClick:()=>d("grid"),className:`p-2 ${o==="grid"?"bg-blue-50 text-blue-600":"text-gray-400"}`,children:e.jsx(B0,{className:"h-4 w-4"})}),e.jsx("button",{onClick:()=>d("list"),className:`p-2 border-l border-gray-300 ${o==="list"?"bg-blue-50 text-blue-600":"text-gray-400"}`,children:e.jsx(G0,{className:"h-4 w-4"})})]})]})]}),e.jsxs("div",{className:o==="grid"?"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6":"space-y-4",children:[i==="quickReplies"&&O(g).map(N),i==="carousels"&&O(j).map(w),i==="flexMessages"&&O(L).map(E)]}),(i==="quickReplies"&&O(g).length===0||i==="carousels"&&O(j).length===0||i==="flexMessages"&&O(L).length===0)&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx(Oe,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"テンプレートが見つかりません"}),e.jsx("p",{className:"text-gray-500 mb-6",children:"検索条件を変更するか、新しいテンプレートを作成してください。"}),e.jsxs("button",{className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700",children:[e.jsx(it,{className:"-ml-1 mr-2 h-4 w-4"}),"テンプレートを作成"]})]})]})},Av=()=>{const[i,c]=y.useState("overview"),[o,d]=y.useState(null),u={total:12847,thisMonth:1234,growthRate:25,sources:[{name:"QRコード",count:456,percentage:37},{name:"Webサイト",count:234,percentage:19},{name:"口コミ・紹介",count:189,percentage:15},{name:"SNS",count:156,percentage:13},{name:"キャンペーン",count:123,percentage:10},{name:"その他",count:76,percentage:6}]},[m,f]=y.useState([{id:"1",type:"qrcode",title:"基本QRコード",description:"店舗での友だち追加用",url:"https://line.me/R/ti/p/@example",qrCodeUrl:"/images/qr-basic.png",downloads:456,createdAt:"2024-01-10T09:00:00Z"},{id:"2",type:"banner",title:"Webバナー（大）",description:"ホームページ掲載用",imageUrl:"/images/banner-large.png",size:"728x90",downloads:234,createdAt:"2024-01-08T14:30:00Z"},{id:"3",type:"banner",title:"Webバナー（小）",description:"サイドバー掲載用",imageUrl:"/images/banner-small.png",size:"300x250",downloads:189,createdAt:"2024-01-05T11:15:00Z"}]),[b,g]=y.useState([{id:"1",title:"新春友だち追加キャンペーン",description:"友だち追加で500円クーポンプレゼント",type:"coupon",status:"active",startDate:"2024-01-01T00:00:00Z",endDate:"2024-01-31T23:59:59Z",targetCount:1e3,currentCount:456,reward:"500円割引クーポン",landingPage:"https://example.com/campaign/2024newyear",qrCode:"/images/qr-campaign1.png"},{id:"2",title:"レビュー投稿キャンペーン",description:"友だち追加＋レビュー投稿でポイントゲット",type:"points",status:"scheduled",startDate:"2024-02-01T00:00:00Z",endDate:"2024-02-29T23:59:59Z",targetCount:500,currentCount:0,reward:"100ポイントプレゼント",landingPage:"https://example.com/campaign/review2024",qrCode:"/images/qr-campaign2.png"}]),[h,j]=y.useState({buttonText:"友だち追加",buttonColor:"#06C755",showIcon:!0,buttonStyle:"normal",redirectUrl:"",utm:{source:"website",medium:"button",campaign:"friend_add"}}),C=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[e.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx(_e,{className:"h-8 w-8 text-blue-600"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:"総友だち数"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:u.total.toLocaleString()})]})]})}),e.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx(Jt,{className:"h-8 w-8 text-green-600"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:"今月の追加"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:u.thisMonth.toLocaleString()})]})]})}),e.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx(ka,{className:"h-8 w-8 text-purple-600"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:"成長率"}),e.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:["+",u.growthRate,"%"]})]})]})}),e.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx(sa,{className:"h-8 w-8 text-orange-600"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:"月間目標"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:"1,500"})]})]})})]}),e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"友だち追加の流入元"}),e.jsx("div",{className:"space-y-4",children:u.sources.map((_,N)=>e.jsx("div",{className:"flex items-center",children:e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex justify-between mb-1",children:[e.jsx("span",{className:"text-sm font-medium text-gray-700",children:_.name}),e.jsxs("span",{className:"text-sm text-gray-500",children:[_.count,"人 (",_.percentage,"%)"]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${_.percentage}%`}})})]})},N))})]})]}),L=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"プロモーション素材"}),e.jsxs("button",{className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700",children:[e.jsx(Sn,{className:"-ml-1 mr-2 h-4 w-4"}),"新規作成"]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:m.map(_=>e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 overflow-hidden hover:shadow-md transition-shadow",children:[e.jsx("div",{className:"h-32 bg-gray-100 flex items-center justify-center",children:_.type==="qrcode"?e.jsx(Sn,{className:"h-16 w-16 text-gray-400"}):e.jsxs("div",{className:"text-center",children:[e.jsx(Ue,{className:"h-8 w-8 text-gray-400 mx-auto mb-2"}),e.jsx("span",{className:"text-xs text-gray-500",children:_.size})]})}),e.jsxs("div",{className:"p-4",children:[e.jsx("h4",{className:"text-sm font-medium text-gray-900 mb-1",children:_.title}),e.jsx("p",{className:"text-sm text-gray-500 mb-3",children:_.description}),e.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500 mb-3",children:[e.jsxs("span",{children:["DL: ",_.downloads,"回"]}),e.jsx("span",{children:new Date(_.createdAt).toLocaleDateString("ja-JP")})]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsxs("button",{className:"flex-1 inline-flex items-center justify-center px-3 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 bg-white hover:bg-gray-50",children:[e.jsx(Ue,{className:"h-4 w-4 mr-1"}),"プレビュー"]}),e.jsxs("button",{className:"flex-1 inline-flex items-center justify-center px-3 py-2 border border-transparent rounded-md text-sm font-medium text-white bg-blue-600 hover:bg-blue-700",children:[e.jsx(Gt,{className:"h-4 w-4 mr-1"}),"ダウンロード"]})]})]})]},_.id))})]}),$=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"友だち追加キャンペーン"}),e.jsxs("button",{className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-green-600 hover:bg-green-700",children:[e.jsx(xl,{className:"-ml-1 mr-2 h-4 w-4"}),"キャンペーン作成"]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:b.map(_=>e.jsx("div",{className:"bg-white rounded-lg border border-gray-200 overflow-hidden",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"text-lg font-medium text-gray-900 mb-1",children:_.title}),e.jsx("p",{className:"text-sm text-gray-600",children:_.description})]}),e.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${_.status==="active"?"bg-green-100 text-green-800":_.status==="scheduled"?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"}`,children:_.status==="active"?"実施中":_.status==="scheduled"?"予定":"終了"})]}),e.jsxs("div",{className:"space-y-3 mb-4",children:[e.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[e.jsx(ci,{className:"h-4 w-4 mr-2"}),new Date(_.startDate).toLocaleDateString("ja-JP")," - ",new Date(_.endDate).toLocaleDateString("ja-JP")]}),e.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[e.jsx(xl,{className:"h-4 w-4 mr-2"}),_.reward]})]}),e.jsxs("div",{className:"mb-4",children:[e.jsxs("div",{className:"flex justify-between text-sm text-gray-600 mb-1",children:[e.jsx("span",{children:"進捗状況"}),e.jsxs("span",{children:[_.currentCount," / ",_.targetCount,"人"]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-green-600 h-2 rounded-full transition-all duration-300",style:{width:`${_.currentCount/_.targetCount*100}%`}})})]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsxs("button",{className:"flex-1 inline-flex items-center justify-center px-3 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 bg-white hover:bg-gray-50",children:[e.jsx(li,{className:"h-4 w-4 mr-1"}),"ランディングページ"]}),e.jsxs("button",{className:"flex-1 inline-flex items-center justify-center px-3 py-2 border border-transparent rounded-md text-sm font-medium text-white bg-blue-600 hover:bg-blue-700",children:[e.jsx(Sn,{className:"h-4 w-4 mr-1"}),"QRコード"]})]})]})},_.id))})]}),O=()=>e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"友だち追加ボタン設定"}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"ボタンテキスト"}),e.jsx("input",{type:"text",value:h.buttonText,onChange:_=>j({...h,buttonText:_.target.value}),className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"ボタンカラー"}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("input",{type:"color",value:h.buttonColor,onChange:_=>j({...h,buttonColor:_.target.value}),className:"w-16 h-10 border border-gray-300 rounded-md"}),e.jsx("input",{type:"text",value:h.buttonColor,onChange:_=>j({...h,buttonColor:_.target.value}),className:"flex-1 border border-gray-300 rounded-md px-3 py-2"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"ボタンスタイル"}),e.jsxs("select",{value:h.buttonStyle,onChange:_=>j({...h,buttonStyle:_.target.value}),className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"normal",children:"ノーマル"}),e.jsx("option",{value:"large",children:"大きめ"}),e.jsx("option",{value:"small",children:"小さめ"})]})]}),e.jsx("div",{children:e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",checked:h.showIcon,onChange:_=>j({...h,showIcon:_.target.checked}),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),e.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"LINEアイコンを表示"})]})}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"リダイレクトURL（オプション）"}),e.jsx("input",{type:"url",value:h.redirectUrl,onChange:_=>j({...h,redirectUrl:_.target.value}),placeholder:"https://example.com/thankyou",className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h4",{className:"text-sm font-medium text-gray-900",children:"プレビュー"}),e.jsx("div",{className:"bg-gray-50 rounded-lg p-6",children:e.jsxs("div",{className:"text-center space-y-4",children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Webサイトでの表示イメージ"}),e.jsxs("button",{className:`inline-flex items-center justify-center px-6 py-3 rounded-lg font-medium text-white shadow-sm hover:shadow-md transition-all ${h.buttonStyle==="large"?"px-8 py-4 text-lg":h.buttonStyle==="small"?"px-4 py-2 text-sm":"px-6 py-3"}`,style:{backgroundColor:h.buttonColor},children:[h.showIcon&&e.jsx(Zt,{className:"mr-2 h-5 w-5"}),h.buttonText]}),e.jsxs("div",{className:"pt-4 border-t border-gray-200",children:[e.jsx("p",{className:"text-xs text-gray-500 mb-2",children:"HTMLコード"}),e.jsx("div",{className:"bg-gray-800 text-green-400 p-3 rounded text-xs font-mono",children:`<a href="https://line.me/R/ti/p/@example${h.redirectUrl?`?redirect=${encodeURIComponent(h.redirectUrl)}`:""}" 
   style="background-color: ${h.buttonColor}; color: white; padding: 12px 24px; border-radius: 8px; text-decoration: none;">
  ${h.buttonText}
</a>`}),e.jsxs("button",{className:"mt-2 inline-flex items-center px-3 py-1 border border-gray-300 rounded text-xs font-medium text-gray-700 bg-white hover:bg-gray-50",children:[e.jsx(ws,{className:"h-3 w-3 mr-1"}),"コピー"]})]})]})})]})]})]})});return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"md:flex md:items-center md:justify-between",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h2",{className:"text-2xl font-bold leading-7 text-gray-900 sm:text-3xl sm:truncate",children:"友だち増加促進"}),e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"友だち追加を促進するための各種機能とキャンペーン管理"})]}),e.jsxs("div",{className:"mt-4 flex space-x-3 md:mt-0 md:ml-4",children:[e.jsxs("button",{className:"inline-flex items-center px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50",children:[e.jsx(dj,{className:"-ml-1 mr-2 h-4 w-4"}),"シェア"]}),e.jsxs("button",{className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-green-600 hover:bg-green-700",children:[e.jsx(Vt,{className:"-ml-1 mr-2 h-4 w-4"}),"統計を更新"]})]})]}),e.jsx("div",{className:"border-b border-gray-200",children:e.jsx("nav",{className:"-mb-px flex space-x-8",children:[{id:"overview",label:"概要",icon:ka},{id:"materials",label:"プロモーション素材",icon:Sn},{id:"campaigns",label:"キャンペーン",icon:xl},{id:"settings",label:"友だち追加ボタン",icon:Qd}].map(_=>e.jsxs("button",{onClick:()=>c(_.id),className:`py-2 px-1 border-b-2 font-medium text-sm flex items-center ${i===_.id?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[e.jsx(_.icon,{className:"h-4 w-4 mr-2"}),_.label]},_.id))})}),i==="overview"&&C(),i==="materials"&&L(),i==="campaigns"&&$(),i==="settings"&&O()]})},Mv=({isOpen:i,onClose:c,availableUsers:o=[],onSend:d})=>{const[u,m]=y.useState(o.map(C=>C.id)),[f,b]=y.useState("お時間になりましたらこちらより発信ください"),g=C=>{m(L=>L.includes(C)?L.filter($=>$!==C):[...L,C])},h=()=>{u.length===o.length?m([]):m(o.map(C=>C.id))},j=()=>{if(u.length===0){alert("送信対象を選択してください。");return}if(!f.trim()){alert("メッセージを入力してください。");return}const C=o.filter(L=>u.includes(L.id));d(C,f)};return i?e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-2xl max-h-[80vh] overflow-hidden",children:[e.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[e.jsxs("h2",{className:"text-xl font-semibold text-gray-900 flex items-center",children:[e.jsx(hl,{className:"h-5 w-5 mr-2"}),"一括LINE通話要請"]}),e.jsx("button",{onClick:c,className:"text-gray-400 hover:text-gray-600",children:e.jsx(ot,{className:"h-6 w-6"})})]}),e.jsxs("div",{className:"p-6 space-y-6 overflow-y-auto max-h-[60vh]",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"通話要請メッセージ"}),e.jsx("textarea",{value:f,onChange:C=>b(C.target.value),rows:4,className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"お時間になりましたらこちらより発信ください"})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("label",{className:"text-sm font-medium text-gray-700",children:["送信対象 (",u.length,"名選択中)"]}),e.jsxs("button",{onClick:h,className:"flex items-center space-x-1 text-sm text-blue-600 hover:text-blue-800",children:[u.length===o.length?e.jsx(X0,{className:"h-4 w-4"}):e.jsx(J0,{className:"h-4 w-4"}),e.jsx("span",{children:u.length===o.length?"全て解除":"全て選択"})]})]}),e.jsx("div",{className:"max-h-64 overflow-y-auto border border-gray-200 rounded-lg",children:o.map(C=>e.jsxs("label",{className:"flex items-center space-x-3 p-3 hover:bg-gray-50 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:u.includes(C.id),onChange:()=>g(C.id),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),e.jsxs("div",{className:"flex items-center space-x-3 flex-1",children:[e.jsx("div",{className:"w-8 h-8 bg-gray-300 rounded-full flex items-center justify-center",children:e.jsx("span",{className:"text-sm font-medium text-gray-600",children:C.name?.charAt(0).toUpperCase()})}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:C.name}),e.jsx("div",{className:"text-xs text-gray-500",children:"最終活動: 今日 14:30"})]})]})]},C.id))})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"LINEメッセージプレビュー"}),e.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 border",children:[e.jsxs("div",{className:"bg-white rounded-lg p-3 shadow-sm max-w-xs",children:[e.jsx("p",{className:"text-sm text-gray-800 whitespace-pre-line mb-3",children:f}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("button",{className:"w-full bg-green-500 text-white py-2 px-3 rounded-lg text-sm font-medium flex items-center justify-center",children:[e.jsx(hl,{className:"h-4 w-4 mr-1"}),"📞 LINE通話をかける"]}),e.jsx("button",{className:"w-full bg-gray-200 text-gray-800 py-2 px-3 rounded-lg text-sm",children:"後で連絡します"})]})]}),e.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"※「LINE通話をかける」をタップするとLINE通話が開始されます"})]})]})]}),e.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-t border-gray-200 bg-gray-50",children:[e.jsxs("div",{className:"text-sm text-gray-600",children:[e.jsx(_e,{className:"h-4 w-4 inline mr-1"}),u.length,"名に送信"]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("button",{onClick:c,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50",children:"キャンセル"}),e.jsxs("button",{onClick:j,disabled:u.length===0,className:"flex items-center space-x-2 px-4 py-2 text-sm font-medium text-white bg-green-600 border border-transparent rounded-lg hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed",children:[e.jsx(We,{className:"h-4 w-4"}),e.jsx("span",{children:"通話要請を送信"})]})]})]})]})}):null},Rv=({isOpen:i,onClose:c,officialLine:o})=>{const[d,u]=y.useState("qr"),[m,f]=y.useState("");if(!i||!o)return null;const b=`https://line.me/R/ti/p/@${o.displayName.replace("@","")}`,g=`https://qr-server.com/api/v1/create-qr-code/?size=300x300&data=${encodeURIComponent(b)}`,h=async(L,$)=>{try{await navigator.clipboard.writeText(L),f(`${$}をコピーしました！`),setTimeout(()=>f(""),3e3)}catch(O){console.error("コピーに失敗しました:",O),f("コピーに失敗しました"),setTimeout(()=>f(""),3e3)}},j=()=>{const L=document.createElement("a");L.href=g,L.download=`${o.name}_友達追加QR.png`,document.body.appendChild(L),L.click(),document.body.removeChild(L)},C=L=>{const $=`${o.name}の公式LINEアカウントに友だち追加してね！`,O=b;let _="";switch(L){case"twitter":_=`https://twitter.com/intent/tweet?text=${encodeURIComponent($)}&url=${encodeURIComponent(O)}`;break;case"facebook":_=`https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(O)}`;break;case"line":_=`https://social-plugins.line.me/lineit/share?url=${encodeURIComponent(O)}`;break}_&&window.open(_,"_blank","width=600,height=400")};return e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-2xl w-full mx-4 max-h-[90vh] overflow-auto",children:[e.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-green-500 to-emerald-500 rounded-2xl flex items-center justify-center",children:e.jsx(_e,{className:"h-5 w-5 text-white"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"友だち獲得"}),e.jsx("p",{className:"text-sm text-gray-600",children:o.name})]})]}),e.jsx("button",{onClick:c,className:"p-2 hover:bg-gray-100 rounded-xl transition-colors",children:e.jsx(ot,{className:"h-5 w-5 text-gray-500"})})]}),e.jsxs("div",{className:"flex border-b border-gray-200",children:[e.jsxs("button",{onClick:()=>u("qr"),className:`flex-1 px-6 py-3 text-sm font-medium transition-colors ${d==="qr"?"text-green-600 border-b-2 border-green-600":"text-gray-500 hover:text-gray-700"}`,children:[e.jsx(Sn,{className:"h-4 w-4 inline mr-2"}),"QRコード"]}),e.jsxs("button",{onClick:()=>u("link"),className:`flex-1 px-6 py-3 text-sm font-medium transition-colors ${d==="link"?"text-green-600 border-b-2 border-green-600":"text-gray-500 hover:text-gray-700"}`,children:[e.jsx(Qd,{className:"h-4 w-4 inline mr-2"}),"リンク共有"]})]}),e.jsxs("div",{className:"p-6",children:[d==="qr"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"inline-block p-4 bg-white border-2 border-gray-200 rounded-2xl shadow-sm",children:e.jsx("img",{src:g,alt:"友だち追加QRコード",className:"w-64 h-64 mx-auto"})}),e.jsx("p",{className:"mt-3 text-sm text-gray-600",children:"上記のQRコードをスマートフォンで読み取ると友だち追加できます"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("button",{onClick:j,className:"flex items-center justify-center px-4 py-3 bg-blue-50 text-blue-700 rounded-xl hover:bg-blue-100 transition-colors",children:[e.jsx(Gt,{className:"h-4 w-4 mr-2"}),"QRコードをダウンロード"]}),e.jsxs("button",{onClick:()=>h(b,"リンク"),className:"flex items-center justify-center px-4 py-3 bg-gray-50 text-gray-700 rounded-xl hover:bg-gray-100 transition-colors",children:[e.jsx(ws,{className:"h-4 w-4 mr-2"}),"リンクをコピー"]})]})]}),d==="link"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"友だち追加リンク"}),e.jsxs("div",{className:"flex",children:[e.jsx("input",{type:"text",value:b,readOnly:!0,className:"flex-1 px-3 py-2 border border-gray-300 rounded-l-xl bg-gray-50 text-sm"}),e.jsx("button",{onClick:()=>h(b,"リンク"),className:"px-4 py-2 bg-green-600 text-white rounded-r-xl hover:bg-green-700 transition-colors",children:e.jsx(ws,{className:"h-4 w-4"})})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-3",children:"ソーシャルメディアで共有"}),e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsxs("button",{onClick:()=>C("line"),className:"flex flex-col items-center p-4 bg-green-50 text-green-700 rounded-xl hover:bg-green-100 transition-colors",children:[e.jsx("div",{className:"w-8 h-8 bg-green-500 rounded-full flex items-center justify-center mb-2",children:e.jsx("span",{className:"text-white font-bold text-sm",children:"L"})}),e.jsx("span",{className:"text-xs font-medium",children:"LINE"})]}),e.jsxs("button",{onClick:()=>C("twitter"),className:"flex flex-col items-center p-4 bg-blue-50 text-blue-700 rounded-xl hover:bg-blue-100 transition-colors",children:[e.jsx("div",{className:"w-8 h-8 bg-blue-500 rounded-full flex items-center justify-center mb-2",children:e.jsx("span",{className:"text-white font-bold text-sm",children:"T"})}),e.jsx("span",{className:"text-xs font-medium",children:"Twitter"})]}),e.jsxs("button",{onClick:()=>C("facebook"),className:"flex flex-col items-center p-4 bg-indigo-50 text-indigo-700 rounded-xl hover:bg-indigo-100 transition-colors",children:[e.jsx("div",{className:"w-8 h-8 bg-indigo-600 rounded-full flex items-center justify-center mb-2",children:e.jsx("span",{className:"text-white font-bold text-sm",children:"F"})}),e.jsx("span",{className:"text-xs font-medium",children:"Facebook"})]})]})]}),e.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-xl p-4",children:[e.jsx("h4",{className:"text-sm font-semibold text-yellow-800 mb-2",children:"💡 活用例"}),e.jsxs("ul",{className:"text-sm text-yellow-700 space-y-1",children:[e.jsx("li",{children:"• ウェブサイトやブログに埋め込み"}),e.jsx("li",{children:"• メールマーケティングに活用"}),e.jsx("li",{children:"• SNSでのプロモーション"}),e.jsx("li",{children:"• 印刷物（チラシ、ポスター）に掲載"})]})]})]}),m&&e.jsx("div",{className:"mt-4 p-3 bg-green-50 border border-green-200 rounded-xl",children:e.jsx("p",{className:"text-sm text-green-700 text-center",children:m})})]})]})})},_v=({officialLine:i,isOpen:c,onClose:o})=>{const[d,u]=y.useState("greeting"),[m,f]=y.useState({enabled:!0,message:`${i?.name||"LINE公式アカウント"}へようこそ！

友だち追加していただき、ありがとうございます。
ご質問やお問い合わせがございましたら、お気軽にメッセージをお送りください。

営業時間: 平日 9:00-18:00
※営業時間外は翌営業日にお返事いたします。`,includeRichMenu:!0,sendDelay:0}),[b,g]=y.useState([{id:1,name:"営業時間外の自動返信",trigger:"outside_hours",enabled:!0,message:`お問い合わせありがとうございます。

現在は営業時間外のため、翌営業日にお返事いたします。
営業時間: 平日 9:00-18:00`,conditions:{timeRange:{start:"18:00",end:"09:00"},weekends:!0}},{id:2,name:"予約関連キーワード",trigger:"keyword",enabled:!0,message:`ご予約のお問い合わせありがとうございます。

以下の情報をお聞かせください：
• ご希望日時
• 人数
• お名前
• 連絡先

担当者より確認のご連絡をいたします。`,conditions:{keywords:["予約","空き","取りたい","予約したい","よやく"]}},{id:3,name:"よくある質問",trigger:"keyword",enabled:!0,message:`よくあるご質問はこちらをご確認ください。

• 営業時間・定休日
• アクセス・駐車場
• 料金・支払方法
• キャンセルポリシー

詳細はリッチメニューの「よくある質問」からご覧いただけます。`,conditions:{keywords:["質問","聞きたい","FAQ","教えて","知りたい"]}}]),[h,j]=y.useState(null),[C,L]=y.useState(!1);if(!c||!i)return null;const $=(E,T)=>{f(S=>({...S,[E]:T}))},O=()=>{const E={id:Date.now(),name:"新しい自動応答",trigger:"keyword",enabled:!0,message:"",conditions:{keywords:[]}};g(T=>[...T,E]),j(E.id)},_=(E,T)=>{g(S=>S.map(M=>M.id===E?{...M,...T}:M))},N=E=>{window.confirm("この自動応答を削除しますか？")&&g(T=>T.filter(S=>S.id!==E))},w=async()=>{try{alert("設定を保存しました！"),o()}catch(E){console.error("保存エラー:",E),alert("保存に失敗しました。")}};return e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-4xl w-full mx-4 max-h-[90vh] overflow-auto",children:[e.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-blue-500 to-purple-500 rounded-2xl flex items-center justify-center",children:e.jsx(Oe,{className:"h-5 w-5 text-white"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"挨拶・応答メッセージ設定"}),e.jsx("p",{className:"text-sm text-gray-600",children:i.name})]})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs("button",{onClick:w,className:"px-4 py-2 bg-green-600 text-white rounded-xl hover:bg-green-700 transition-colors flex items-center space-x-2",children:[e.jsx(Ts,{className:"h-4 w-4"}),e.jsx("span",{children:"保存"})]}),e.jsx("button",{onClick:o,className:"p-2 hover:bg-gray-100 rounded-xl transition-colors",children:e.jsx(ot,{className:"h-5 w-5 text-gray-500"})})]})]}),e.jsxs("div",{className:"flex border-b border-gray-200",children:[e.jsxs("button",{onClick:()=>u("greeting"),className:`flex-1 px-6 py-3 text-sm font-medium transition-colors ${d==="greeting"?"text-blue-600 border-b-2 border-blue-600":"text-gray-500 hover:text-gray-700"}`,children:[e.jsx(W0,{className:"h-4 w-4 inline mr-2"}),"挨拶メッセージ"]}),e.jsxs("button",{onClick:()=>u("auto-response"),className:`flex-1 px-6 py-3 text-sm font-medium transition-colors ${d==="auto-response"?"text-blue-600 border-b-2 border-blue-600":"text-gray-500 hover:text-gray-700"}`,children:[e.jsx(Zt,{className:"h-4 w-4 inline mr-2"}),"自動応答設定"]})]}),e.jsxs("div",{className:"p-6",children:[d==="greeting"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 bg-blue-50 rounded-xl",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-blue-900",children:"挨拶メッセージ"}),e.jsx("p",{className:"text-sm text-blue-700",children:"友だち追加時に自動で送信されるメッセージです"})]}),e.jsx("button",{onClick:()=>$("enabled",!m.enabled),className:"flex items-center space-x-2",children:m.enabled?e.jsx(m0,{className:"h-8 w-8 text-green-600"}):e.jsx(u0,{className:"h-8 w-8 text-gray-400"})})]}),m.enabled&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"挨拶メッセージ内容"}),e.jsx("textarea",{value:m.message,onChange:E=>$("message",E.target.value),rows:6,className:"w-full p-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none",placeholder:"友だち追加時の挨拶メッセージを入力してください..."}),e.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[m.message.length,"/1000文字"]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx("div",{className:"space-y-3",children:e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",checked:m.includeRichMenu,onChange:E=>$("includeRichMenu",E.target.checked),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),e.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"リッチメニューを同時表示"})]})}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"送信遅延時間"}),e.jsxs("select",{value:m.sendDelay,onChange:E=>$("sendDelay",parseInt(E.target.value)),className:"w-full p-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:0,children:"即座に送信"}),e.jsx("option",{value:5,children:"5秒後"}),e.jsx("option",{value:10,children:"10秒後"}),e.jsx("option",{value:30,children:"30秒後"})]})]})]}),e.jsxs("button",{onClick:()=>L(!0),className:"flex items-center space-x-2 px-4 py-2 border border-gray-300 rounded-xl hover:bg-gray-50 transition-colors",children:[e.jsx(Ue,{className:"h-4 w-4"}),e.jsx("span",{children:"プレビュー表示"})]})]})]}),d==="auto-response"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"自動応答設定"}),e.jsx("p",{className:"text-sm text-gray-600",children:"キーワードや条件に基づいて自動でメッセージを送信します"})]}),e.jsxs("button",{onClick:O,className:"flex items-center space-x-2 px-4 py-2 bg-blue-600 text-white rounded-xl hover:bg-blue-700 transition-colors",children:[e.jsx(it,{className:"h-4 w-4"}),e.jsx("span",{children:"新規追加"})]})]}),e.jsx("div",{className:"space-y-4",children:b.map(E=>e.jsx("div",{className:`border rounded-xl p-4 transition-colors ${E.enabled?"border-green-200 bg-green-50":"border-gray-200 bg-gray-50"}`,children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[e.jsx("h4",{className:"font-medium text-gray-900",children:E.name}),e.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${E.enabled?"bg-green-100 text-green-800":"bg-gray-100 text-gray-600"}`,children:E.enabled?"有効":"無効"})]}),e.jsxs("p",{className:"text-sm text-gray-600 mb-3",children:[E.message.substring(0,100),E.message.length>100?"...":""]}),E.conditions.keywords&&e.jsx("div",{className:"flex flex-wrap gap-2",children:E.conditions.keywords.map((T,S)=>e.jsx("span",{className:"px-2 py-1 bg-blue-100 text-blue-800 rounded-lg text-xs",children:T},S))})]}),e.jsxs("div",{className:"flex items-center space-x-2 ml-4",children:[e.jsx("button",{onClick:()=>_(E.id,{enabled:!E.enabled}),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",title:E.enabled?"無効にする":"有効にする",children:E.enabled?e.jsx(m0,{className:"h-5 w-5 text-green-600"}):e.jsx(u0,{className:"h-5 w-5 text-gray-400"})}),e.jsx("button",{onClick:()=>j(E.id),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",title:"編集",children:e.jsx(K0,{className:"h-4 w-4 text-gray-600"})}),e.jsx("button",{onClick:()=>N(E.id),className:"p-2 hover:bg-red-100 rounded-lg transition-colors",title:"削除",children:e.jsx(vt,{className:"h-4 w-4 text-red-600"})})]})]})},E.id))})]})]})]})})},Dv=({onSendMessage:i})=>{const[c]=y.useState([{id:1,category:"挨拶",title:"お疲れ様でした",message:`お疲れ様でした。
本日もありがとうございました。`,useCount:45,isFavorite:!0},{id:2,category:"確認",title:"内容確認",message:`ご連絡ありがとうございます。
内容を確認いたします。
少々お待ちください。`,useCount:32,isFavorite:!0},{id:3,category:"予約",title:"予約確認",message:`ご予約の件、承知いたしました。

以下の内容で間違いございませんでしょうか？

日時：
人数：

ご確認をお願いいたします。`,useCount:28,isFavorite:!1},{id:4,category:"案内",title:"営業時間案内",message:`営業時間のご案内

平日：9:00-18:00
土日：10:00-17:00
定休日：水曜日

お気軽にお越しください。`,useCount:15,isFavorite:!1},{id:5,category:"謝罪",title:"お詫び",message:`この度は、ご不便をおかけして申し訳ございません。

改善に努めさせていただきます。
今後ともよろしくお願いいたします。`,useCount:8,isFavorite:!1},{id:6,category:"感謝",title:"お礼",message:`いつもご利用いただき、誠にありがとうございます。

今後ともどうぞよろしくお願いいたします。`,useCount:22,isFavorite:!0}]),[o,d]=y.useState("all"),[u,m]=y.useState(""),f=["all",...new Set(c.map(j=>j.category))],b={all:"すべて",挨拶:"挨拶",確認:"確認",予約:"予約",案内:"案内",謝罪:"謝罪",感謝:"感謝"},g=c.filter(j=>{const C=o==="all"||j.category===o,L=u===""||j.title.toLowerCase().includes(u.toLowerCase())||j.message.toLowerCase().includes(u.toLowerCase());return C&&L}).sort((j,C)=>j.isFavorite!==C.isFavorite?C.isFavorite-j.isFavorite:C.useCount-j.useCount),h=j=>{i&&i(j.message)};return e.jsxs("div",{className:"bg-white border border-gray-200 rounded-2xl shadow-lg p-4 max-h-96 overflow-hidden flex flex-col",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("h3",{className:"font-semibold text-gray-900 flex items-center",children:[e.jsx(Oe,{className:"h-4 w-4 mr-2 text-blue-600"}),"定型文"]}),e.jsx("button",{className:"p-1.5 hover:bg-gray-100 rounded-lg transition-colors",children:e.jsx(it,{className:"h-4 w-4 text-gray-600"})})]}),e.jsxs("div",{className:"space-y-3 mb-4",children:[e.jsx("input",{type:"text",placeholder:"定型文を検索...",value:u,onChange:j=>m(j.target.value),className:"w-full px-3 py-2 border border-gray-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"}),e.jsx("div",{className:"flex flex-wrap gap-1",children:f.map(j=>e.jsx("button",{onClick:()=>d(j),className:`px-3 py-1 text-xs font-medium rounded-full transition-colors ${o===j?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:b[j]},j))})]}),e.jsxs("div",{className:"flex-1 overflow-y-auto space-y-2",children:[g.map(j=>e.jsx("div",{className:"p-3 border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors cursor-pointer group",onClick:()=>h(j),children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[e.jsx("h4",{className:"text-sm font-medium text-gray-900 truncate",children:j.title}),j.isFavorite&&e.jsx(rs,{className:"h-3 w-3 text-yellow-500 fill-current"}),e.jsx("span",{className:"px-1.5 py-0.5 bg-gray-100 text-gray-600 rounded text-xs",children:j.category})]}),e.jsx("p",{className:"text-xs text-gray-600 line-clamp-2 mb-2",children:j.message}),e.jsx("div",{className:"flex items-center space-x-2 text-xs text-gray-500",children:e.jsxs("span",{className:"flex items-center",children:[e.jsx(ut,{className:"h-3 w-3 mr-1"}),j.useCount,"回使用"]})})]}),e.jsx("button",{className:"opacity-0 group-hover:opacity-100 p-1.5 hover:bg-blue-100 rounded-lg transition-all",children:e.jsx(We,{className:"h-3 w-3 text-blue-600"})})]})},j.id)),g.length===0&&e.jsxs("div",{className:"text-center py-8 text-gray-500",children:[e.jsx(Oe,{className:"h-8 w-8 mx-auto mb-2 text-gray-400"}),e.jsx("p",{className:"text-sm",children:"該当する定型文が見つかりません"})]})]}),e.jsx("div",{className:"mt-4 pt-3 border-t border-gray-200 text-center",children:e.jsx("button",{className:"text-xs text-blue-600 hover:text-blue-800 transition-colors",children:"定型文を管理"})})]})},Uv=()=>{const{user:i}=xt(),[c,o]=y.useState(null),[d,u]=y.useState(null),[m,f]=y.useState(""),[b,g]=y.useState(""),[h,j]=y.useState("all"),[C,L]=y.useState(!1),[$,O]=y.useState([]),[_,N]=y.useState(!1),[w,E]=y.useState(!1),[T,S]=y.useState(!1),[M,H]=y.useState("lines"),ee=y.useRef(null),[Y,le]=y.useState([{id:"line_1",name:"本店公式アカウント",displayName:"@honten-official",avatar:null,description:"本店メインアカウント",userCount:1250,unreadCount:15,isActive:!0,lastActivity:"2024-01-15T14:30:00Z",tags:["メイン","本店"],stats:{totalUsers:1250,activeUsers:890,messages24h:45}},{id:"line_2",name:"支店公式アカウント",displayName:"@shiten-official",avatar:null,description:"支店サービスアカウント",userCount:678,unreadCount:8,isActive:!0,lastActivity:"2024-01-15T13:45:00Z",tags:["支店","サービス"],stats:{totalUsers:678,activeUsers:456,messages24h:22}},{id:"line_3",name:"ECサイト連動",displayName:"@ec-support",avatar:null,description:"ECサイト顧客サポート",userCount:2100,unreadCount:32,isActive:!0,lastActivity:"2024-01-15T14:15:00Z",tags:["EC","サポート"],stats:{totalUsers:2100,activeUsers:1340,messages24h:78}},{id:"line_4",name:"イベント告知専用",displayName:"@event-info",avatar:null,description:"イベント・キャンペーン情報配信",userCount:890,unreadCount:3,isActive:!1,lastActivity:"2024-01-14T16:20:00Z",tags:["イベント","告知"],stats:{totalUsers:890,activeUsers:234,messages24h:5}}]),[F,ce]=y.useState([{id:"1",type:"individual",user:{id:"user1",name:"田中 太郎",avatar:null,phone:"090-1234-5678",isOnline:!0,lastSeen:"2024-01-15T14:30:00Z"},lastMessage:{text:"ありがとうございました！",timestamp:"2024-01-15T14:30:00Z",senderId:"user1",type:"text",status:"read"},unreadCount:0,isImportant:!1,isMuted:!1,tags:["VIP顧客"],updatedAt:"2024-01-15T14:30:00Z"},{id:"2",type:"individual",user:{id:"user2",name:"佐藤 花子",avatar:null,phone:"090-2345-6789",isOnline:!1,lastSeen:"2024-01-15T12:15:00Z"},lastMessage:{text:"予約の件でご連絡しました",timestamp:"2024-01-15T13:45:00Z",senderId:"user2",type:"text",status:"delivered"},unreadCount:2,isImportant:!0,isMuted:!1,tags:["予約"],updatedAt:"2024-01-15T13:45:00Z"},{id:"3",type:"individual",user:{id:"user3",name:"鈴木 一郎",avatar:null,phone:"090-3456-7890",isOnline:!1,lastSeen:"2024-01-15T09:30:00Z"},lastMessage:{text:"商品について質問があります",timestamp:"2024-01-15T11:20:00Z",senderId:"user3",type:"text",status:"sent"},unreadCount:1,isImportant:!1,isMuted:!1,tags:["商品問い合わせ"],updatedAt:"2024-01-15T11:20:00Z"},{id:"4",type:"group",group:{id:"group1",name:"VIP顧客グループ",memberCount:12,avatar:null},lastMessage:{text:"新商品の案内です",timestamp:"2024-01-15T10:00:00Z",senderId:"admin",senderName:"管理者",type:"text",status:"read"},unreadCount:0,isImportant:!1,isMuted:!0,tags:["グループ配信"],updatedAt:"2024-01-15T10:00:00Z"}]),[J,de]=y.useState({1:[{id:"m1",senderId:"user1",senderName:"田中 太郎",text:"お疲れ様です。商品の件でお聞きしたいことがあります。",timestamp:"2024-01-15T14:00:00Z",type:"text",status:"read"},{id:"m2",senderId:"admin",senderName:"管理者",text:"いつもお世話になっております。どのようなご質問でしょうか？",timestamp:"2024-01-15T14:05:00Z",type:"text",status:"read"},{id:"m3",senderId:"user1",senderName:"田中 太郎",text:"配送日程について確認したいのですが、お電話でお話しできますでしょうか？",timestamp:"2024-01-15T14:10:00Z",type:"text",status:"read"},{id:"m4",senderId:"admin",senderName:"管理者",text:"もちろんです。今すぐお電話いたします。",timestamp:"2024-01-15T14:25:00Z",type:"text",status:"read"},{id:"m5",senderId:"user1",senderName:"田中 太郎",text:"ありがとうございました！",timestamp:"2024-01-15T14:30:00Z",type:"text",status:"read"}],2:[{id:"m6",senderId:"user2",senderName:"佐藤 花子",text:"お世話になっております。来週の予約の件でご連絡しました。",timestamp:"2024-01-15T13:40:00Z",type:"text",status:"delivered"},{id:"m7",senderId:"user2",senderName:"佐藤 花子",text:"時間変更は可能でしょうか？",timestamp:"2024-01-15T13:45:00Z",type:"text",status:"delivered"}]}),[pe,Ce]=y.useState([{id:"recent1",chatId:"1",chatName:"田中 太郎",message:"もちろんです。今すぐお電話いたします。",timestamp:"2024-01-15T14:25:00Z",type:"text",status:"read"},{id:"recent2",chatId:"4",chatName:"VIP顧客グループ",message:"新商品の案内です",timestamp:"2024-01-15T10:00:00Z",type:"text",status:"read"},{id:"recent3",chatId:"2",chatName:"佐藤 花子",message:"承知いたしました。確認してご連絡します。",timestamp:"2024-01-15T09:30:00Z",type:"text",status:"delivered"}]),A=F.filter(U=>{const re=b===""||U.user?.name.toLowerCase().includes(b.toLowerCase())||U.group?.name.toLowerCase().includes(b.toLowerCase()),ne=h==="all"||h==="unread"&&U.unreadCount>0||h==="important"&&U.isImportant||h==="pinned"&&U.isPinned;return re&&ne}).sort((U,re)=>U.isPinned!==re.isPinned?re.isPinned-U.isPinned:new Date(re.updatedAt)-new Date(U.updatedAt)),Q=()=>{if(!m.trim()||!c)return;const U={id:`m${Date.now()}`,senderId:"admin",senderName:i?.name||"管理者",text:m,timestamp:new Date().toISOString(),type:"text",status:"sent"};de(re=>({...re,[c.id]:[...re[c.id]||[],U]})),ce(re=>re.map(ne=>ne.id===c.id?{...ne,lastMessage:U,updatedAt:U.timestamp,unreadCount:0}:ne)),Ce(re=>[{id:`recent${Date.now()}`,chatId:c.id,chatName:c.user?.name||c.group?.name,message:m,timestamp:U.timestamp,type:"text",status:"sent"},...re.slice(0,9)]),f("")},te=U=>{const re={id:`m${Date.now()}`,senderId:"admin",senderName:i?.name||"管理者",text:"お時間になりましたらこちらより発信ください",timestamp:new Date().toISOString(),type:"call_request",status:"sent",callData:{type:"line_call",buttons:[{label:"📞 LINE通話をかける",action:"call"},{label:"後で連絡します",action:"later"}]}};de(ne=>({...ne,[c.id]:[...ne[c.id]||[],re]})),ce(ne=>ne.map(fe=>fe.id===c.id?{...fe,lastMessage:{text:"LINE通話要請を送信しました",timestamp:re.timestamp,type:"system"},updatedAt:re.timestamp}:fe)),Ce(ne=>[{id:`recent${Date.now()}`,chatId:c.id,chatName:U.name,message:"LINE通話要請を送信",timestamp:re.timestamp,type:"call_request",status:"sent"},...ne.slice(0,9)]),alert(`${U.name}さんにLINE通話要請を送信しました。`)},R=()=>{O(A.map(U=>({id:U.user.id,name:U.user.name,chatId:U.id}))),L(!0)},v=(U,re)=>{U.forEach(ne=>{const fe={id:`m${Date.now()}_${ne.id}`,senderId:"admin",senderName:i?.name||"管理者",text:re,timestamp:new Date().toISOString(),type:"call_request",status:"sent",callData:{type:"line_call",buttons:[{label:"📞 LINE通話をかける",action:"call"},{label:"後で連絡します",action:"later"}]}};de(ht=>({...ht,[ne.chatId]:[...ht[ne.chatId]||[],fe]})),ce(ht=>ht.map(Nt=>Nt.id===ne.chatId?{...Nt,lastMessage:{text:"LINE通話要請を送信しました",timestamp:fe.timestamp,type:"system"},updatedAt:fe.timestamp}:Nt))}),alert(`${U.length}名にLINE通話要請を送信しました。`),L(!1)},G=async U=>{u(U),o(null),H("chats");try{const re=X(U.id);ce(re),le(ne=>ne.map(fe=>fe.id===U.id?{...fe,unreadCount:0}:fe))}catch(re){console.error("ユーザー一覧取得エラー:",re),alert("ユーザー一覧の取得に失敗しました。")}},X=U=>[{name:"田中 太郎",phone:"090-1234-5678",tags:["VIP顧客"]},{name:"佐藤 花子",phone:"090-2345-6789",tags:["予約"]},{name:"鈴木 一郎",phone:"090-3456-7890",tags:["商品問い合わせ"]},{name:"高橋 美咲",phone:"090-4567-8901",tags:["サポート"]},{name:"伊藤 健太",phone:"090-5678-9012",tags:["定期購入"]}].map((ne,fe)=>({id:`${U}_user_${fe+1}`,type:"individual",lineId:U,user:{id:`user${fe+1}_${U}`,name:ne.name,avatar:null,phone:ne.phone,isOnline:Math.random()>.5,lastSeen:new Date(Date.now()-Math.random()*864e5).toISOString()},lastMessage:{text:`${ne.name}さんからのメッセージ`,timestamp:new Date(Date.now()-Math.random()*36e5).toISOString(),senderId:`user${fe+1}_${U}`,type:"text",status:["sent","delivered","read"][Math.floor(Math.random()*3)]},unreadCount:Math.floor(Math.random()*3),isImportant:Math.random()>.7,isMuted:!1,isPinned:Math.random()>.8,tags:ne.tags,updatedAt:new Date(Date.now()-Math.random()*36e5).toISOString()})),se=U=>{o(U),U.unreadCount>0&&ce(re=>re.map(ne=>ne.id===U.id?{...ne,unreadCount:0}:ne))},ae=()=>{H("lines"),u(null),o(null),ce([])},ue=(U,re)=>{re.stopPropagation(),ce(ne=>ne.map(fe=>fe.id===U?{...fe,isPinned:!fe.isPinned}:fe))};return y.useEffect(()=>{ee.current?.scrollIntoView({behavior:"smooth"})},[J,c]),e.jsxs("div",{className:"h-screen bg-gray-50 flex",children:[e.jsxs("div",{className:"w-80 bg-white border-r border-gray-200 flex flex-col",children:[e.jsxs("div",{className:"p-4 border-b border-gray-200",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:M==="lines"?"公式LINEアカウント":"チャット"}),M==="chats"&&d&&e.jsx("button",{onClick:ae,className:"text-sm text-blue-600 hover:text-blue-800 font-medium",children:"← 戻る"})]}),M==="chats"&&d&&e.jsxs("div",{className:"mb-3 p-3 bg-blue-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-8 h-8 bg-green-500 rounded-full flex items-center justify-center",children:e.jsx("span",{className:"text-white text-xs font-bold",children:"L"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-semibold text-gray-900",children:d.name}),e.jsx("p",{className:"text-xs text-gray-600",children:d.displayName})]})]}),e.jsxs("div",{className:"mt-2 flex items-center space-x-4 text-xs text-gray-600",children:[e.jsxs("span",{children:["👥 ",d.userCount,"名"]}),e.jsxs("span",{children:["💬 ",d.stats.messages24h,"通"]}),e.jsx("span",{className:`px-2 py-0.5 rounded-full ${d.isActive?"bg-green-100 text-green-800":"bg-gray-100 text-gray-600"}`,children:d.isActive?"アクティブ":"非アクティブ"})]})]}),e.jsxs("div",{className:"relative mb-3",children:[e.jsx(mt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),e.jsx("input",{type:"text",placeholder:"チャットを検索...",value:b,onChange:U=>g(U.target.value),className:"pl-9 w-full border border-gray-300 rounded-lg px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex space-x-1",children:[e.jsx("button",{onClick:()=>j("all"),className:`px-3 py-1 text-xs font-medium rounded-full ${h==="all"?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:"すべて"}),e.jsxs("button",{onClick:()=>j("unread"),className:`px-3 py-1 text-xs font-medium rounded-full ${h==="unread"?"bg-red-100 text-red-800":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:["未読 (",F.filter(U=>U.unreadCount>0).length,")"]}),e.jsx("button",{onClick:()=>j("important"),className:`px-3 py-1 text-xs font-medium rounded-full ${h==="important"?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:"重要"}),e.jsxs("button",{onClick:()=>j("pinned"),className:`px-3 py-1 text-xs font-medium rounded-full ${h==="pinned"?"bg-purple-100 text-purple-800":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:["📌 ピン留め (",F.filter(U=>U.isPinned).length,")"]})]}),e.jsxs("button",{onClick:R,className:"flex items-center space-x-1 px-3 py-1 bg-green-100 text-green-800 rounded-lg hover:bg-green-200 transition-colors text-xs font-medium",title:`${A.length}名にLINE通話要請`,children:[e.jsx(hl,{className:"h-3 w-3"}),e.jsx("span",{children:"一括通話要請"})]})]})]}),e.jsx("div",{className:"flex-1 overflow-y-auto",children:M==="lines"?e.jsx(e.Fragment,{children:Y.map(U=>e.jsx("div",{onClick:()=>G(U),className:"p-4 border-b border-gray-100 cursor-pointer hover:bg-gray-50 transition-colors",children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"w-12 h-12 bg-green-500 rounded-full flex items-center justify-center",children:e.jsx("span",{className:"text-white text-lg font-bold",children:"L"})}),U.isActive&&e.jsx("div",{className:"absolute -bottom-0.5 -right-0.5 w-3 h-3 bg-green-400 rounded-full border-2 border-white"}),U.unreadCount>0&&e.jsx("div",{className:"absolute -top-1 -right-1 w-5 h-5 bg-red-500 text-white rounded-full flex items-center justify-center text-xs font-medium",children:U.unreadCount>9?"9+":U.unreadCount})]}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center justify-between mb-1",children:[e.jsx("h3",{className:"text-sm font-medium text-gray-900 truncate",children:U.name}),e.jsx("span",{className:"text-xs text-gray-500",children:new Date(U.lastActivity).toLocaleTimeString("ja-JP",{hour:"2-digit",minute:"2-digit"})})]}),e.jsxs("p",{className:"text-sm text-gray-600 truncate mb-1",children:[U.displayName," • ",U.description]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3 text-xs text-gray-500",children:[e.jsxs("span",{children:["👥 ",U.userCount.toLocaleString(),"名"]}),e.jsxs("span",{children:["💬 ",U.stats.messages24h,"通"]}),e.jsxs("span",{children:["🟢 ",U.stats.activeUsers,"名"]})]}),e.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs font-medium ${U.isActive?"bg-green-100 text-green-800":"bg-gray-100 text-gray-600"}`,children:U.isActive?"アクティブ":"停止中"})]}),U.tags&&U.tags.length>0&&e.jsx("div",{className:"mt-2 flex flex-wrap gap-1",children:U.tags.slice(0,2).map((re,ne)=>e.jsx("span",{className:"text-xs bg-blue-100 text-blue-800 px-1.5 py-0.5 rounded-full",children:re},ne))}),e.jsxs("div",{className:"mt-3 flex items-center space-x-2",children:[e.jsx("button",{onClick:re=>{re.stopPropagation(),u(U),N(!0)},className:"flex-1 px-3 py-2 bg-green-50 text-green-700 rounded-lg hover:bg-green-100 transition-colors text-xs font-medium",children:"👥 友達獲得"}),e.jsx("button",{onClick:re=>{re.stopPropagation(),u(U),E(!0)},className:"flex-1 px-3 py-2 bg-blue-50 text-blue-700 rounded-lg hover:bg-blue-100 transition-colors text-xs font-medium",children:"💬 挨拶設定"})]})]})]})},U.id))}):e.jsx(e.Fragment,{children:A.map(U=>e.jsx("div",{onClick:()=>se(U),className:`p-4 border-b border-gray-100 cursor-pointer hover:bg-gray-50 ${c?.id===U.id?"bg-blue-50 border-l-4 border-l-blue-500":""}`,children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"w-12 h-12 bg-gray-300 rounded-full flex items-center justify-center",children:U.type==="group"?e.jsx(_e,{className:"h-6 w-6 text-gray-600"}):U.user?.avatar?e.jsx("img",{src:U.user.avatar,alt:"",className:"w-12 h-12 rounded-full"}):e.jsx("span",{className:"text-sm font-medium text-gray-700",children:(U.user?.name||U.group?.name)?.charAt(0).toUpperCase()})}),U.type==="individual"&&U.user?.isOnline&&e.jsx("div",{className:"absolute -bottom-0.5 -right-0.5 w-3 h-3 bg-green-400 rounded-full border-2 border-white"}),U.unreadCount>0&&e.jsx("div",{className:"absolute -top-1 -right-1 w-5 h-5 bg-red-500 text-white rounded-full flex items-center justify-center text-xs font-medium",children:U.unreadCount>9?"9+":U.unreadCount})]}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center justify-between mb-1",children:[e.jsxs("h3",{className:"text-sm font-medium text-gray-900 truncate",children:[U.user?.name||U.group?.name,U.type==="group"&&e.jsxs("span",{className:"ml-1 text-xs text-gray-500",children:["(",U.group?.memberCount,"名)"]})]}),e.jsxs("div",{className:"flex items-center space-x-1",children:[U.isPinned&&e.jsx(o0,{className:"h-3 w-3 text-purple-500"}),U.isImportant&&e.jsx(rs,{className:"h-3 w-3 text-yellow-500"}),U.isMuted&&e.jsx(qj,{className:"h-3 w-3 text-gray-400"}),e.jsx("button",{onClick:re=>ue(U.id,re),className:`p-1 transition-colors ${U.isPinned?"text-purple-600 hover:text-purple-800":"text-gray-400 hover:text-purple-600"}`,title:U.isPinned?"ピン留め解除":"ピン留め",children:U.isPinned?e.jsx(o0,{className:"h-3 w-3"}):e.jsx(Yb,{className:"h-3 w-3"})}),U.type==="individual"&&e.jsx("button",{onClick:re=>{re.stopPropagation(),o(U),te(U.user)},className:"p-1 text-gray-400 hover:text-green-600 transition-colors",title:"LINE通話要請",children:e.jsx(hl,{className:"h-3 w-3"})})]})]}),e.jsxs("p",{className:"text-sm text-gray-600 truncate mb-1",children:[U.lastMessage?.senderId!=="admin"?"":"自分: ",U.lastMessage?.text]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-xs text-gray-500",children:new Date(U.lastMessage?.timestamp).toLocaleTimeString("ja-JP",{hour:"2-digit",minute:"2-digit"})}),U.lastMessage?.senderId==="admin"&&e.jsxs("div",{className:"text-gray-400",children:[U.lastMessage?.status==="sent"&&e.jsx(n0,{className:"h-3 w-3"}),U.lastMessage?.status==="delivered"&&e.jsx(Fr,{className:"h-3 w-3"}),U.lastMessage?.status==="read"&&e.jsx(Fr,{className:"h-3 w-3 text-blue-500"})]})]}),U.tags&&U.tags.length>0&&e.jsx("div",{className:"mt-1 flex flex-wrap gap-1",children:U.tags.slice(0,2).map((re,ne)=>e.jsx("span",{className:"text-xs bg-blue-100 text-blue-800 px-1.5 py-0.5 rounded-full",children:re},ne))})]})]})},U.id))})}),e.jsxs("div",{className:"border-t border-gray-200 p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("h3",{className:"text-sm font-medium text-gray-900",children:"最新送信履歴"}),e.jsx(Vt,{className:"h-4 w-4 text-gray-400"})]}),e.jsx("div",{className:"space-y-2",children:pe.slice(0,3).map(U=>e.jsxs("div",{className:"flex items-start space-x-2",children:[e.jsx("div",{className:"w-6 h-6 bg-blue-100 rounded-full flex items-center justify-center",children:e.jsx(We,{className:"h-3 w-3 text-blue-600"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-xs font-medium text-gray-900 truncate",children:U.chatName}),e.jsx("p",{className:"text-xs text-gray-600 truncate",children:U.message}),e.jsx("span",{className:"text-xs text-gray-500",children:new Date(U.timestamp).toLocaleTimeString("ja-JP",{hour:"2-digit",minute:"2-digit"})})]})]},U.id))})]})]}),e.jsx("div",{className:"flex-1 flex flex-col",children:c?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"bg-white border-b border-gray-200 px-6 py-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-10 h-10 bg-gray-300 rounded-full flex items-center justify-center",children:c.type==="group"?e.jsx(_e,{className:"h-5 w-5 text-gray-600"}):c.user?.avatar?e.jsx("img",{src:c.user.avatar,alt:"",className:"w-10 h-10 rounded-full"}):e.jsx("span",{className:"text-sm font-medium text-gray-700",children:(c.user?.name||c.group?.name)?.charAt(0).toUpperCase()})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:c.user?.name||c.group?.name}),e.jsxs("p",{className:"text-sm text-gray-500",children:[d&&e.jsxs("span",{className:"inline-flex items-center space-x-1 mr-2",children:[e.jsx("span",{className:"w-2 h-2 bg-green-500 rounded-full"}),e.jsx("span",{children:d.name}),e.jsx("span",{children:"•"})]}),c.type==="group"?`${c.group?.memberCount}名のメンバー`:c.user?.isOnline?"オンライン":`最終接続: ${new Date(c.user?.lastSeen).toLocaleString("ja-JP")}`]})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[c.type==="individual"&&e.jsxs("button",{onClick:()=>te(c.user),className:"inline-flex items-center px-3 py-2 border border-green-300 rounded-md text-sm font-medium text-green-700 bg-green-50 hover:bg-green-100 transition-colors",children:[e.jsx(hl,{className:"h-4 w-4 mr-1"}),"LINE通話要請"]}),e.jsx("button",{className:"p-2 text-gray-400 hover:text-gray-600 rounded-md hover:bg-gray-100",children:e.jsx(Ln,{className:"h-5 w-5"})}),e.jsx("button",{className:"p-2 text-gray-400 hover:text-gray-600 rounded-md hover:bg-gray-100",children:e.jsx(di,{className:"h-5 w-5"})})]})]})}),e.jsxs("div",{className:"flex-1 overflow-y-auto p-6 space-y-4",children:[(J[c.id]||[]).map(U=>e.jsx("div",{className:`flex ${U.senderId==="admin"?"justify-end":"justify-start"}`,children:e.jsxs("div",{className:`max-w-xs lg:max-w-md px-4 py-2 rounded-lg ${U.senderId==="admin"?"bg-blue-500 text-white":"bg-white border border-gray-200"}`,children:[U.senderId!=="admin"&&e.jsx("p",{className:"text-xs text-gray-500 mb-1",children:U.senderName}),e.jsx("p",{className:"text-sm",children:U.text}),U.type==="call_request"&&U.callData&&e.jsx("div",{className:"mt-2 space-y-2",children:U.callData.buttons.map((re,ne)=>e.jsx("button",{className:`w-full px-3 py-2 rounded-lg text-sm font-medium transition-colors ${re.action==="call"?"bg-green-500 text-white hover:bg-green-600":"bg-gray-200 text-gray-800 hover:bg-gray-300"}`,onClick:()=>{re.action==="call"?alert("LINE通話を開始します"):alert("後で連絡する旨を記録しました")},children:re.label},ne))}),e.jsxs("div",{className:`flex items-center justify-between mt-1 ${U.senderId==="admin"?"text-blue-100":"text-gray-500"}`,children:[e.jsx("span",{className:"text-xs",children:new Date(U.timestamp).toLocaleTimeString("ja-JP",{hour:"2-digit",minute:"2-digit"})}),U.senderId==="admin"&&e.jsxs("div",{className:"ml-2",children:[U.status==="sent"&&e.jsx(n0,{className:"h-3 w-3"}),U.status==="delivered"&&e.jsx(Fr,{className:"h-3 w-3"}),U.status==="read"&&e.jsx(Fr,{className:"h-3 w-3 text-blue-300"})]})]})]})},U.id)),e.jsx("div",{ref:ee})]}),e.jsxs("div",{className:"bg-white border-t border-gray-200 p-4",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("button",{className:"p-2 text-gray-400 hover:text-gray-600 rounded-md hover:bg-gray-100",children:e.jsx(Q0,{className:"h-5 w-5"})}),e.jsx("div",{className:"flex-1 relative",children:e.jsx("input",{type:"text",value:m,onChange:U=>f(U.target.value),onKeyPress:U=>U.key==="Enter"&&Q(),placeholder:"メッセージを入力...",className:"w-full border border-gray-300 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"})}),e.jsx("button",{onClick:()=>S(!T),className:`p-2 rounded-md hover:bg-gray-100 transition-colors ${T?"text-blue-600 bg-blue-50":"text-gray-400 hover:text-gray-600"}`,title:"定型文",children:e.jsx(MessageSquare,{className:"h-5 w-5"})}),e.jsx("button",{className:"p-2 text-gray-400 hover:text-gray-600 rounded-md hover:bg-gray-100",children:e.jsx(Es,{className:"h-5 w-5"})}),e.jsx("button",{onClick:Q,disabled:!m.trim(),className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed",children:e.jsx(We,{className:"h-4 w-4"})})]}),T&&e.jsx("div",{className:"mt-3 relative",children:e.jsx(Dv,{onSendMessage:U=>{f(U),S(!1)}})})]})]}):e.jsx("div",{className:"flex-1 flex items-center justify-center bg-gray-50",children:e.jsxs("div",{className:"text-center",children:[e.jsx(Zt,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:M==="lines"?"公式LINEアカウントを選択してください":"チャットを選択してください"}),e.jsx("p",{className:"text-gray-500",children:M==="lines"?"左側の公式LINE一覧からアカウントを選択すると、ユーザー一覧が表示されます":"左側のチャット一覧からチャットを選択すると、メッセージが表示されます"}),d&&M==="chats"&&e.jsxs("div",{className:"mt-4 p-4 bg-blue-50 rounded-lg inline-block",children:[e.jsxs("p",{className:"text-sm font-medium text-blue-900",children:["現在選択中: ",d.name]}),e.jsx("p",{className:"text-xs text-blue-700",children:d.displayName})]})]})})}),e.jsx(Mv,{isOpen:C,onClose:()=>L(!1),availableUsers:$,onSend:v}),e.jsx(Rv,{isOpen:_,onClose:()=>N(!1),officialLine:d}),e.jsx(_v,{isOpen:w,onClose:()=>E(!1),officialLine:d})]})},Lv=()=>{const[i,c]=y.useState([]),[o,d]=y.useState("お時間になりましたらこちらより発信ください"),[u,m]=y.useState(!0),[f,b]=y.useState(!1),[g,h]=y.useState([{id:"1",userId:"user1",userName:"田中 太郎",phoneNumber:"090-1234-5678",requestedAt:"2024-01-15T14:20:00Z",status:"called",callReceivedAt:"2024-01-15T14:25:00Z",message:"お時間になりましたらこちらより発信ください"},{id:"2",userId:"user2",userName:"佐藤 花子",phoneNumber:"090-2345-6789",requestedAt:"2024-01-15T13:45:00Z",status:"read",callReceivedAt:null,message:"お時間になりましたらこちらより発信ください"},{id:"3",userId:"user3",userName:"鈴木 一郎",phoneNumber:"090-3456-7890",requestedAt:"2024-01-15T11:30:00Z",status:"delivered",callReceivedAt:null,message:"お時間になりましたらこちらより発信ください"}]),j=[{id:"user1",name:"田中 太郎",phone:"090-1234-5678",lastActive:"2024-01-15T14:30:00Z",avatar:null,isOnline:!0,lastChatTime:"2024-01-15T14:25:00Z"},{id:"user2",name:"佐藤 花子",phone:"090-2345-6789",lastActive:"2024-01-15T13:45:00Z",avatar:null,isOnline:!1,lastChatTime:"2024-01-15T13:40:00Z"},{id:"user3",name:"鈴木 一郎",phone:"090-3456-7890",lastActive:"2024-01-15T11:20:00Z",avatar:null,isOnline:!1,lastChatTime:"2024-01-15T11:15:00Z"},{id:"user4",name:"山田 美咲",phone:"090-4567-8901",lastActive:"2024-01-15T10:30:00Z",avatar:null,isOnline:!1,lastChatTime:"2024-01-15T10:25:00Z"},{id:"user5",name:"伊藤 健太",phone:"090-5678-9012",lastActive:"2024-01-15T16:00:00Z",avatar:null,isOnline:!0,lastChatTime:"2024-01-15T15:55:00Z"}],C=[...j].sort((_,N)=>new Date(N.lastChatTime)-new Date(_.lastChatTime)),L=()=>{if(i.length===0){alert("発信要請を送る相手を選択してください。");return}if(!o.trim()){alert("メッセージを入力してください。");return}i.forEach(_=>{const N=j.find(w=>w.id===_);if(N){console.log("LINE通話要請送信:",{userId:_,message:{type:"text",text:o,quickReply:{items:[{type:"action",action:{type:"message",label:"📞 LINE通話をかける",text:"LINE通話を希望します"}},{type:"action",action:{type:"message",label:"後で連絡します",text:"後で連絡します"}}]}}});const E={id:Date.now()+Math.random(),userId:N.id,userName:N.name,phoneNumber:N.phone,requestedAt:new Date().toISOString(),status:"sent",callReceivedAt:null,message:o};h(T=>[E,...T])}}),c([]),alert(`${i.length}名にLINE通話要請を送信しました。`)},$=_=>{const N={sent:{bg:"bg-gray-100",text:"text-gray-800",label:"送信済み"},delivered:{bg:"bg-blue-100",text:"text-blue-800",label:"配信済み"},read:{bg:"bg-yellow-100",text:"text-yellow-800",label:"既読"},called:{bg:"bg-green-100",text:"text-green-800",label:"LINE通話受信"},expired:{bg:"bg-red-100",text:"text-red-800",label:"期限切れ"}},w=N[_]||N.sent;return e.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${w.bg} ${w.text}`,children:w.label})},O=_=>{switch(_){case"called":return e.jsx(rt,{className:"h-4 w-4 text-green-500"});case"read":return e.jsx(Ue,{className:"h-4 w-4 text-yellow-500"});case"expired":return e.jsx(ks,{className:"h-4 w-4 text-red-500"});default:return e.jsx(ut,{className:"h-4 w-4 text-gray-400"})}};return e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"md:flex md:items-center md:justify-between",children:e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h2",{className:"text-2xl font-bold leading-7 text-gray-900 sm:text-3xl sm:truncate",children:"LINE通話要請"}),e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"LINE公式アカウントから顧客にLINE通話をしてもらうよう要請します"})]})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"新規通話要請"}),e.jsxs("div",{className:"mb-4",children:[e.jsxs("label",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"checkbox",checked:u,onChange:_=>m(_.target.checked),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"LINE通話機能を有効にする"})]}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"顧客がボタンをタップしてLINE通話を開始できます"})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"通話要請メッセージ"}),e.jsx("textarea",{value:o,onChange:_=>d(_.target.value),rows:4,className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"お時間になりましたらこちらより発信ください"})]}),e.jsxs("div",{className:"mb-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("label",{className:"text-sm font-medium text-gray-700",children:["送信対象 (",i.length,"名選択中)"]}),e.jsx("div",{className:"flex items-center space-x-2",children:e.jsxs("label",{className:"flex items-center space-x-2 text-sm",children:[e.jsx("input",{type:"checkbox",checked:f,onChange:_=>b(_.target.checked),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),e.jsx("span",{className:"text-gray-700",children:"最近のチャット順"})]})})]}),e.jsx("div",{className:"max-h-48 overflow-y-auto border border-gray-200 rounded-lg",children:(f?C:j).map(_=>e.jsxs("label",{className:"flex items-center space-x-3 p-3 hover:bg-gray-50",children:[e.jsx("input",{type:"checkbox",checked:i.includes(_.id),onChange:N=>{N.target.checked?c(w=>[...w,_.id]):c(w=>w.filter(E=>E!==_.id))},className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),e.jsxs("div",{className:"flex items-center space-x-3 flex-1",children:[e.jsxs("div",{className:"w-8 h-8 bg-gray-300 rounded-full flex items-center justify-center relative",children:[e.jsx(st,{className:"h-4 w-4 text-gray-600"}),_.isOnline&&e.jsx("div",{className:"absolute -bottom-0.5 -right-0.5 w-2.5 h-2.5 bg-green-400 rounded-full border border-white"})]}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:_.name}),f&&e.jsxs("div",{className:"text-xs text-blue-600",children:["最終チャット: ",new Date(_.lastChatTime).toLocaleString("ja-JP",{month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"})]})]}),e.jsx("div",{className:"text-xs text-gray-500",children:_.phone})]})]})]},_.id))})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"LINEメッセージプレビュー"}),e.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 border",children:[e.jsxs("div",{className:"bg-white rounded-lg p-3 shadow-sm max-w-xs",children:[e.jsx("p",{className:"text-sm text-gray-800 whitespace-pre-line mb-3",children:o}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("button",{className:"w-full bg-green-500 text-white py-2 px-3 rounded-lg text-sm font-medium flex items-center justify-center",children:[e.jsx(aa,{className:"h-4 w-4 mr-1"}),"📞 LINE通話をかける"]}),e.jsx("button",{className:"w-full bg-gray-200 text-gray-800 py-2 px-3 rounded-lg text-sm",children:"後で連絡します"})]})]}),e.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"※「LINE通話をかける」をタップするとLINE通話が開始されます"})]})]}),e.jsxs("button",{onClick:L,disabled:i.length===0,className:"w-full inline-flex items-center justify-center px-4 py-2 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed",children:[e.jsx(We,{className:"h-4 w-4 mr-2"}),i.length>0?`${i.length}名に通話要請を送信`:"送信対象を選択してください"]})]})}),e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200",children:[e.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"通話要請履歴"}),e.jsxs("button",{className:"text-blue-600 hover:text-blue-800 text-sm font-medium",children:[e.jsx(Vt,{className:"h-4 w-4 inline mr-1"}),"更新"]})]})}),e.jsx("div",{className:"divide-y divide-gray-200",children:g.map(_=>e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx("div",{className:"w-10 h-10 bg-gray-300 rounded-full flex items-center justify-center",children:e.jsx(st,{className:"h-5 w-5 text-gray-600"})}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[e.jsx("h4",{className:"text-sm font-medium text-gray-900",children:_.userName}),$(_.status)]}),e.jsx("p",{className:"text-xs text-gray-500 mb-2",children:_.phoneNumber}),e.jsx("p",{className:"text-sm text-gray-700 line-clamp-2",children:_.message})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[O(_.status),e.jsx("button",{className:"text-gray-400 hover:text-gray-600",children:e.jsx(Ca,{className:"h-4 w-4"})})]})]}),e.jsxs("div",{className:"mt-4 flex items-center justify-between text-xs text-gray-500",children:[e.jsxs("span",{children:["要請日時: ",new Date(_.requestedAt).toLocaleString("ja-JP")]}),_.callReceivedAt&&e.jsxs("span",{className:"text-green-600",children:["通話受信: ",new Date(_.callReceivedAt).toLocaleString("ja-JP")]})]})]},_.id))}),g.length===0&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx(aa,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"通話要請履歴はありません"}),e.jsx("p",{className:"text-gray-500",children:"左側のフォームからLINE通話要請を送信してください。"})]})]})})]})]})},Ov=()=>{const[i,c]=y.useState([]),[o,d]=y.useState(""),[u,m]=y.useState("today"),[f,b]=y.useState("all"),[g,h]=y.useState([]),j=[{id:"1",phoneNumber:"090-1234-5678",userName:"田中 太郎",userId:"user1",type:"outgoing",duration:324,timestamp:"2024-01-15T14:25:00Z",initiatedBy:"管理者",status:"completed",recordingUrl:null,notes:"商品配送について相談"},{id:"2",phoneNumber:"090-2345-6789",userName:"佐藤 花子",userId:"user2",type:"incoming",duration:256,timestamp:"2024-01-15T13:10:00Z",initiatedBy:null,status:"completed",recordingUrl:null,notes:"予約変更の依頼"},{id:"3",phoneNumber:"090-3456-7890",userName:"鈴木 一郎",userId:"user3",type:"missed",duration:0,timestamp:"2024-01-15T11:45:00Z",initiatedBy:null,status:"missed",recordingUrl:null,notes:null},{id:"4",phoneNumber:"090-4567-8901",userName:"高橋 美咲",userId:"user4",type:"outgoing",duration:189,timestamp:"2024-01-15T09:30:00Z",initiatedBy:"管理者",status:"completed",recordingUrl:"/recordings/call-4.mp3",notes:"サービス説明"},{id:"5",phoneNumber:"090-5678-9012",userName:"山田 次郎",userId:"user5",type:"outgoing",duration:0,timestamp:"2024-01-14T16:20:00Z",initiatedBy:"管理者",status:"no_answer",recordingUrl:null,notes:"フォローアップコール（応答なし）"}];y.useEffect(()=>{const w=JSON.parse(localStorage.getItem("callLogs")||"[]");c([...w,...j])},[]);const C=i.filter(w=>{const E=o===""||w.userName.toLowerCase().includes(o.toLowerCase())||w.phoneNumber.includes(o)||w.notes?.toLowerCase().includes(o.toLowerCase()),T=f==="all"||w.type===f,S=new Date(w.timestamp),M=new Date,H=new Date(M);H.setDate(M.getDate()-1);const ee=new Date(M);ee.setDate(M.getDate()-7);let Y=!0;return u==="today"?Y=S.toDateString()===M.toDateString():u==="yesterday"?Y=S.toDateString()===H.toDateString():u==="week"&&(Y=S>=ee),E&&T&&Y}),L=w=>{if(w===0)return"0:00";const E=Math.floor(w/60),T=w%60;return`${E}:${T.toString().padStart(2,"0")}`},$=(w,E)=>w==="missed"||E==="missed"?e.jsx(c0,{className:"h-4 w-4 text-red-500"}):w==="incoming"?e.jsx(i0,{className:"h-4 w-4 text-blue-500"}):e.jsx(d0,{className:"h-4 w-4 text-green-500"}),O=(w,E)=>w==="missed"||E==="missed"?"不在着信":w==="incoming"?"着信":E==="no_answer"?"発信（応答なし）":"発信",_=(w,E)=>{if(window.confirm(`${E}さん（${w}）に電話をかけますか？`)){window.location.href=`tel:${w}`;const S={id:Date.now().toString(),phoneNumber:w,userName:E,userId:`user${Date.now()}`,type:"outgoing",duration:0,timestamp:new Date().toISOString(),initiatedBy:"管理者",status:"dialing",recordingUrl:null,notes:"かけ直し"};c(M=>[S,...M])}},N={total:C.length,outgoing:C.filter(w=>w.type==="outgoing").length,incoming:C.filter(w=>w.type==="incoming").length,missed:C.filter(w=>w.type==="missed"||w.status==="missed").length,totalDuration:C.reduce((w,E)=>w+E.duration,0),avgDuration:C.length>0?Math.round(C.reduce((w,E)=>w+E.duration,0)/C.length):0};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"md:flex md:items-center md:justify-between",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h2",{className:"text-2xl font-bold leading-7 text-gray-900 sm:text-3xl sm:truncate",children:"通話履歴"}),e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"顧客との通話記録を管理します"})]}),e.jsxs("div",{className:"mt-4 flex space-x-3 md:mt-0 md:ml-4",children:[e.jsxs("button",{className:"inline-flex items-center px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50",children:[e.jsx(Gt,{className:"-ml-1 mr-2 h-4 w-4"}),"エクスポート"]}),e.jsxs("button",{className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700",children:[e.jsx(Vt,{className:"-ml-1 mr-2 h-4 w-4"}),"更新"]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4",children:[e.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-4",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(aa,{className:"h-8 w-8 text-blue-600"}),e.jsxs("div",{className:"ml-3",children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:"総通話数"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:N.total})]})]})}),e.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-4",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(d0,{className:"h-8 w-8 text-green-600"}),e.jsxs("div",{className:"ml-3",children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:"発信"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:N.outgoing})]})]})}),e.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-4",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(i0,{className:"h-8 w-8 text-blue-600"}),e.jsxs("div",{className:"ml-3",children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:"着信"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:N.incoming})]})]})}),e.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-4",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(c0,{className:"h-8 w-8 text-red-600"}),e.jsxs("div",{className:"ml-3",children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:"不在着信"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:N.missed})]})]})}),e.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-4",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(ut,{className:"h-8 w-8 text-purple-600"}),e.jsxs("div",{className:"ml-3",children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:"平均通話時間"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:L(N.avgDuration)})]})]})})]}),e.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-4",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx(mt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),e.jsx("input",{type:"text",placeholder:"名前、電話番号、メモで検索...",value:o,onChange:w=>d(w.target.value),className:"pl-9 w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("select",{value:u,onChange:w=>m(w.target.value),className:"border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"today",children:"今日"}),e.jsx("option",{value:"yesterday",children:"昨日"}),e.jsx("option",{value:"week",children:"1週間"}),e.jsx("option",{value:"month",children:"1ヶ月"}),e.jsx("option",{value:"all",children:"すべて"})]}),e.jsxs("select",{value:f,onChange:w=>b(w.target.value),className:"border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"all",children:"すべての通話"}),e.jsx("option",{value:"outgoing",children:"発信のみ"}),e.jsx("option",{value:"incoming",children:"着信のみ"}),e.jsx("option",{value:"missed",children:"不在着信のみ"})]}),e.jsx("div",{className:"flex space-x-2",children:e.jsxs("button",{className:"flex-1 inline-flex items-center justify-center px-3 py-2 border border-gray-300 rounded-lg text-sm font-medium text-gray-700 bg-white hover:bg-gray-50",children:[e.jsx(H0,{className:"h-4 w-4 mr-1"}),"詳細フィルター"]})})]})}),e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 overflow-hidden",children:[e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"w-12 px-6 py-3",children:e.jsx("input",{type:"checkbox",className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"})}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"通話情報"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"タイプ"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"時間"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"通話時間"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"メモ"}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"操作"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:C.map(w=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-4",children:e.jsx("input",{type:"checkbox",className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0 h-10 w-10",children:e.jsx("div",{className:"h-10 w-10 rounded-full bg-gray-300 flex items-center justify-center",children:e.jsx(st,{className:"h-5 w-5 text-gray-600"})})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:w.userName}),e.jsx("div",{className:"text-sm text-gray-500",children:w.phoneNumber})]})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center",children:[$(w.type,w.status),e.jsx("span",{className:"ml-2 text-sm text-gray-900",children:O(w.type,w.status)})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:e.jsxs("div",{children:[e.jsx("div",{children:new Date(w.timestamp).toLocaleDateString("ja-JP")}),e.jsx("div",{className:"text-xs text-gray-500",children:new Date(w.timestamp).toLocaleTimeString("ja-JP")})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`text-sm font-medium ${w.duration>0?"text-gray-900":"text-gray-400"}`,children:L(w.duration)})}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("div",{className:"text-sm text-gray-900 max-w-xs truncate",children:w.notes||"-"})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:e.jsxs("div",{className:"flex items-center justify-end space-x-2",children:[w.recordingUrl&&e.jsx("button",{className:"text-blue-600 hover:text-blue-900 p-1",title:"録音を再生",children:e.jsx(Kb,{className:"h-4 w-4"})}),e.jsx("button",{onClick:()=>_(w.phoneNumber,w.userName),className:"text-green-600 hover:text-green-900 p-1",title:"かけ直し",children:e.jsx(hl,{className:"h-4 w-4"})}),e.jsx("button",{className:"text-gray-400 hover:text-gray-600 p-1",children:e.jsx(di,{className:"h-4 w-4"})})]})})]},w.id))})]})}),C.length===0&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx(aa,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"通話履歴が見つかりません"}),e.jsx("p",{className:"text-gray-500",children:"フィルター条件を変更してください。"})]})]})]})},zv=({isOpen:i,onClose:c,onSave:o,rule:d=null,isEdit:u=!1})=>{const[m,f]=y.useState({name:"",description:"",triggerType:"keyword",isActive:!0,priority:5,keywords:[""],matchType:"partial",caseSensitive:!1,scheduleType:"specific",triggerTime:"",triggerDate:"",recurringDays:[],intervalMinutes:60,behaviorType:"friend_added",behaviorConditions:{},responseType:"text",responseContent:"",responses:[{type:"text",content:""}],userConditions:{enabled:!1,tags:[],groups:[],excludeTags:[],excludeGroups:[]},limits:{enabled:!1,maxPerUser:1,maxPerDay:100,cooldownMinutes:30},abTest:{enabled:!1,variants:[{name:"A",weight:50,content:""},{name:"B",weight:50,content:""}]}}),[b,g]=y.useState("basic"),[h,j]=y.useState({});y.useEffect(()=>{u&&d&&f(d)},[u,d]);const C=()=>{const w={};return m.name.trim()||(w.name="ルール名は必須です"),m.triggerType==="keyword"&&m.keywords.filter(T=>T.trim()).length===0&&(w.keywords="キーワードを少なくとも1つ入力してください"),m.triggerType==="time"&&m.scheduleType==="specific"&&!m.triggerTime&&(w.triggerTime="時刻を指定してください"),m.responseType==="text"&&!m.responseContent.trim()&&(w.responseContent="返信内容を入力してください"),j(w),Object.keys(w).length===0},L=()=>{if(C()){const w={...m,id:u?d.id:Date.now().toString(),createdAt:u?d.createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),statistics:u?d.statistics:{triggered:0,successful:0,failed:0,lastTriggered:null}};o(w),c()}},$=()=>{f(w=>({...w,keywords:[...w.keywords,""]}))},O=(w,E)=>{f(T=>({...T,keywords:T.keywords.map((S,M)=>M===w?E:S)}))},_=w=>{f(E=>({...E,keywords:E.keywords.filter((T,S)=>S!==w)}))};if(!i)return null;const N=[{id:"basic",name:"基本設定",icon:_t},{id:"trigger",name:"トリガー",icon:P0},{id:"response",name:"応答内容",icon:Zt},{id:"conditions",name:"条件設定",icon:_e},{id:"limits",name:"制限設定",icon:ut},{id:"advanced",name:"高度な設定",icon:fl}];return e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-4xl max-h-[90vh] overflow-hidden",children:[e.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:u?"ルール編集":"新規ルール作成"}),e.jsx("button",{onClick:c,className:"text-gray-400 hover:text-gray-600",children:e.jsx(ot,{className:"h-6 w-6"})})]}),e.jsxs("div",{className:"flex",children:[e.jsx("div",{className:"w-48 bg-gray-50 border-r border-gray-200",children:e.jsx("nav",{className:"p-4 space-y-2",children:N.map(w=>{const E=w.icon;return e.jsxs("button",{onClick:()=>g(w.id),className:`w-full flex items-center space-x-3 px-3 py-2 rounded-lg text-sm font-medium transition-colors ${b===w.id?"bg-blue-100 text-blue-700":"text-gray-600 hover:text-gray-900 hover:bg-gray-100"}`,children:[e.jsx(E,{className:"h-4 w-4"}),e.jsx("span",{children:w.name})]},w.id)})})}),e.jsx("div",{className:"flex-1 overflow-y-auto max-h-[calc(90vh-120px)]",children:e.jsxs("div",{className:"p-6",children:[b==="basic"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"ルール名 *"}),e.jsx("input",{type:"text",value:m.name,onChange:w=>f(E=>({...E,name:w.target.value})),className:`w-full border rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 ${h.name?"border-red-500":"border-gray-300"}`,placeholder:"例: 営業時間外自動返信"}),h.name&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:h.name})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"説明"}),e.jsx("textarea",{value:m.description,onChange:w=>f(E=>({...E,description:w.target.value})),rows:3,className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"このルールの目的や動作について説明してください"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"優先度"}),e.jsxs("select",{value:m.priority,onChange:w=>f(E=>({...E,priority:parseInt(w.target.value)})),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:1,children:"1 (最高)"}),e.jsx("option",{value:2,children:"2 (高)"}),e.jsx("option",{value:3,children:"3 (中高)"}),e.jsx("option",{value:4,children:"4 (中)"}),e.jsx("option",{value:5,children:"5 (標準)"}),e.jsx("option",{value:6,children:"6 (中低)"}),e.jsx("option",{value:7,children:"7 (低)"}),e.jsx("option",{value:8,children:"8 (最低)"})]})]}),e.jsx("div",{children:e.jsxs("label",{className:"flex items-center space-x-2 mt-8",children:[e.jsx("input",{type:"checkbox",checked:m.isActive,onChange:w=>f(E=>({...E,isActive:w.target.checked})),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"ルールを有効にする"})]})})]})]}),b==="trigger"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"トリガー種別"}),e.jsx("div",{className:"grid grid-cols-3 gap-4",children:[{value:"keyword",label:"キーワード",icon:mb,desc:"メッセージ内のキーワードで発動"},{value:"time",label:"時間",icon:ut,desc:"指定時刻や定期的に発動"},{value:"behavior",label:"行動",icon:st,desc:"ユーザーの行動で発動"}].map(w=>{const E=w.icon;return e.jsxs("label",{className:`cursor-pointer border-2 rounded-lg p-4 transition-colors ${m.triggerType===w.value?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300"}`,children:[e.jsx("input",{type:"radio",name:"triggerType",value:w.value,checked:m.triggerType===w.value,onChange:T=>f(S=>({...S,triggerType:T.target.value})),className:"sr-only"}),e.jsx(E,{className:"h-8 w-8 text-blue-600 mb-2"}),e.jsx("h3",{className:"font-medium text-gray-900",children:w.label}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:w.desc})]},w.value)})})]}),m.triggerType==="keyword"&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"キーワード *"}),e.jsxs("div",{className:"space-y-2",children:[m.keywords.map((w,E)=>e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"text",value:w,onChange:T=>O(E,T.target.value),className:"flex-1 border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"キーワードを入力"}),m.keywords.length>1&&e.jsx("button",{onClick:()=>_(E),className:"text-red-500 hover:text-red-700",children:e.jsx(vt,{className:"h-4 w-4"})})]},E)),e.jsxs("button",{onClick:$,className:"flex items-center space-x-2 text-blue-600 hover:text-blue-800 text-sm",children:[e.jsx(it,{className:"h-4 w-4"}),e.jsx("span",{children:"キーワードを追加"})]})]}),h.keywords&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:h.keywords})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"マッチング方式"}),e.jsxs("select",{value:m.matchType,onChange:w=>f(E=>({...E,matchType:w.target.value})),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"partial",children:"部分一致"}),e.jsx("option",{value:"exact",children:"完全一致"}),e.jsx("option",{value:"regex",children:"正規表現"})]})]}),e.jsx("div",{children:e.jsxs("label",{className:"flex items-center space-x-2 mt-8",children:[e.jsx("input",{type:"checkbox",checked:m.caseSensitive,onChange:w=>f(E=>({...E,caseSensitive:w.target.checked})),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),e.jsx("span",{className:"text-sm text-gray-700",children:"大文字小文字を区別"})]})})]})]}),m.triggerType==="time"&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"スケジュール種別"}),e.jsx("div",{className:"space-y-2",children:[{value:"specific",label:"特定の日時"},{value:"recurring",label:"定期実行"},{value:"interval",label:"間隔実行"}].map(w=>e.jsxs("label",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"radio",name:"scheduleType",value:w.value,checked:m.scheduleType===w.value,onChange:E=>f(T=>({...T,scheduleType:E.target.value})),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300"}),e.jsx("span",{className:"text-sm text-gray-700",children:w.label})]},w.value))})]}),m.scheduleType==="specific"&&e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"日付"}),e.jsx("input",{type:"date",value:m.triggerDate,onChange:w=>f(E=>({...E,triggerDate:w.target.value})),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"時刻 *"}),e.jsx("input",{type:"time",value:m.triggerTime,onChange:w=>f(E=>({...E,triggerTime:w.target.value})),className:`w-full border rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 ${h.triggerTime?"border-red-500":"border-gray-300"}`}),h.triggerTime&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:h.triggerTime})]})]})]})]}),b==="response"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"応答タイプ"}),e.jsxs("select",{value:m.responseType,onChange:w=>f(E=>({...E,responseType:w.target.value})),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"text",children:"テキストメッセージ"}),e.jsx("option",{value:"template",children:"テンプレートメッセージ"}),e.jsx("option",{value:"carousel",children:"カルーセルメッセージ"}),e.jsx("option",{value:"flex",children:"Flexメッセージ"})]})]}),m.responseType==="text"&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"返信内容 *"}),e.jsx("textarea",{value:m.responseContent,onChange:w=>f(E=>({...E,responseContent:w.target.value})),rows:6,className:`w-full border rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 ${h.responseContent?"border-red-500":"border-gray-300"}`,placeholder:"自動返信するメッセージを入力してください"}),h.responseContent&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:h.responseContent}),e.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["変数: ","{username}",", ","{time}",", ","{date}","が使用できます"]})]})]})]})})]}),e.jsxs("div",{className:"flex items-center justify-end space-x-3 px-6 py-4 border-t border-gray-200 bg-gray-50",children:[e.jsx("button",{onClick:c,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50",children:"キャンセル"}),e.jsx("button",{onClick:L,className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 border border-transparent rounded-lg hover:bg-blue-700",children:u?"更新":"作成"})]})]})})};class qv{constructor(){this.rules=[],this.statistics={},this.messageQueue=[],this.isProcessing=!1}loadRules(){try{const c=localStorage.getItem("autoReplyRules");this.rules=c?JSON.parse(c):[];const o=localStorage.getItem("autoReplyStats");return this.statistics=o?JSON.parse(o):{},this.rules}catch(c){return console.error("ルール読み込みエラー:",c),[]}}saveRules(){try{localStorage.setItem("autoReplyRules",JSON.stringify(this.rules)),localStorage.setItem("autoReplyStats",JSON.stringify(this.statistics))}catch(c){console.error("ルール保存エラー:",c)}}addRule(c){const o=this.rules.findIndex(d=>d.id===c.id);o>=0?this.rules[o]=c:this.rules.push(c),this.rules.sort((d,u)=>d.priority-u.priority),this.saveRules()}removeRule(c){this.rules=this.rules.filter(o=>o.id!==c),delete this.statistics[c],this.saveRules()}toggleRule(c){const o=this.rules.find(d=>d.id===c);o&&(o.isActive=!o.isActive,this.saveRules())}async processMessage(c,o){if(this.isProcessing){this.messageQueue.push({message:c,user:o});return}this.isProcessing=!0;try{const d=await this.findMatchingRules(c,o);for(const u of d)await this.canTriggerRule(u,o,c)&&await this.executeRule(u,o,c)}catch(d){console.error("メッセージ処理エラー:",d)}finally{if(this.isProcessing=!1,this.messageQueue.length>0){const d=this.messageQueue.shift();setTimeout(()=>this.processMessage(d.message,d.user),100)}}}async findMatchingRules(c,o){const d=[];for(const u of this.rules)if(u.isActive)try{let m=!1;switch(u.triggerType){case"keyword":m=await this.matchKeyword(u,c);break;case"time":m=await this.matchTime(u);break;case"behavior":m=await this.matchBehavior(u,c,o);break}m&&d.push(u)}catch(m){console.error(`ルール ${u.id} のマッチング処理でエラー:`,m),this.updateRuleStatistics(u.id,"failed")}return d}async matchKeyword(c,o){if(!o.text)return!1;const d=c.caseSensitive?o.text:o.text.toLowerCase();return c.keywords.some(u=>{if(!u.trim())return!1;const m=c.caseSensitive?u:u.toLowerCase();switch(c.matchType){case"exact":return d===m;case"partial":return d.includes(m);case"regex":try{return new RegExp(m,c.caseSensitive?"g":"gi").test(d)}catch(f){return console.error("正規表現エラー:",f),!1}default:return d.includes(m)}})}async matchTime(c){const o=new Date;switch(c.scheduleType){case"specific":if(c.triggerDate){const f=new Date(c.triggerDate+"T"+c.triggerTime);return Math.abs(o.getTime()-f.getTime())<6e4}else{const f=o.getHours()*60+o.getMinutes(),[b,g]=c.triggerTime.split(":").map(Number),h=b*60+g;return Math.abs(f-h)<1}case"recurring":const d=o.getDay();return c.recurringDays.includes(d);case"interval":const u=c.statistics?.lastTriggered;return u?o.getTime()-new Date(u).getTime()>=c.intervalMinutes*60*1e3:!0;default:return!1}}async matchBehavior(c,o,d){switch(c.behaviorType){case"friend_added":return o.type==="follow";case"message_sent":return o.type==="message";case"sticker_sent":return o.type==="message"&&o.message?.type==="sticker";case"location_shared":return o.type==="message"&&o.message?.type==="location";default:return!1}}async canTriggerRule(c,o,d){return!(c.userConditions?.enabled&&!this.checkUserConditions(c.userConditions,o)||c.limits?.enabled&&!this.checkLimits(c,o,d))}checkUserConditions(c,o){if(c.tags?.length>0){const d=o.tags||[];if(!c.tags.some(m=>d.includes(m)))return!1}if(c.excludeTags?.length>0){const d=o.tags||[];if(c.excludeTags.some(m=>d.includes(m)))return!1}if(c.groups?.length>0){const d=o.groups||[];if(!c.groups.some(m=>d.includes(m)))return!1}return!0}checkLimits(c,o,d){const u=this.getRuleStatistics(c.id),m=new Date;if(c.limits.maxPerDay){const f=m.toDateString();if((u.dailyTriggers?.[f]||0)>=c.limits.maxPerDay)return!1}if(c.limits.maxPerUser&&(u.userTriggers?.[o.id]||0)>=c.limits.maxPerUser)return!1;if(c.limits.cooldownMinutes&&u.lastTriggered){const f=m.getTime()-new Date(u.lastTriggered).getTime(),b=c.limits.cooldownMinutes*60*1e3;if(f<b)return!1}return!0}async executeRule(c,o,d){try{const u=this.selectResponse(c,o),m=this.processVariables(u,o,d),f=await this.sendMessage(m,c,o);f?this.updateRuleStatistics(c.id,"successful",o):this.updateRuleStatistics(c.id,"failed",o),this.logActivity(c,o,d,f)}catch(u){console.error(`ルール ${c.id} の実行でエラー:`,u),this.updateRuleStatistics(c.id,"failed",o)}}selectResponse(c,o){if(c.abTest?.enabled&&c.abTest.variants?.length>0){const d=this.hashString(o.id),u=c.abTest.variants.reduce((b,g)=>b+g.weight,0),m=d%100/100*u;let f=0;for(const b of c.abTest.variants)if(f+=b.weight,m<=f)return b.content}return c.responseContent}processVariables(c,o,d){const u=new Date,m={"{username}":o.name||"お客様","{time}":u.toLocaleTimeString("ja-JP"),"{date}":u.toLocaleDateString("ja-JP"),"{datetime}":u.toLocaleString("ja-JP")};let f=c;for(const[b,g]of Object.entries(m))f=f.replace(new RegExp(b,"g"),g);return f}async sendMessage(c,o,d){try{return console.log("自動返信送信:",{userId:d.id,ruleId:o.id,content:c,responseType:o.responseType}),!0}catch(u){return console.error("メッセージ送信エラー:",u),!1}}updateRuleStatistics(c,o,d=null){this.statistics[c]||(this.statistics[c]={triggered:0,successful:0,failed:0,lastTriggered:null,dailyTriggers:{},userTriggers:{}});const u=this.statistics[c],m=new Date,f=m.toDateString();u.triggered++,u.lastTriggered=m.toISOString(),u.dailyTriggers[f]||(u.dailyTriggers[f]=0),u.dailyTriggers[f]++,d&&(u.userTriggers[d.id]||(u.userTriggers[d.id]=0),u.userTriggers[d.id]++),o==="successful"?u.successful++:o==="failed"&&u.failed++;const b=this.rules.find(g=>g.id===c);b&&(b.statistics=u),this.saveRules()}logActivity(c,o,d,u){try{const m={id:Date.now().toString(),ruleId:c.id,ruleName:c.name,userId:o.id,userName:o.name,messageText:d.text||d.type,success:u,timestamp:new Date().toISOString()};let f=JSON.parse(localStorage.getItem("autoReplyActivities")||"[]");f.unshift(m),f.length>100&&(f=f.slice(0,100)),localStorage.setItem("autoReplyActivities",JSON.stringify(f))}catch(m){console.error("アクティビティログエラー:",m)}}getRuleStatistics(c){return this.statistics[c]||{triggered:0,successful:0,failed:0,lastTriggered:null,dailyTriggers:{},userTriggers:{}}}getOverallStatistics(){const c=this.rules.length,o=this.rules.filter(f=>f.isActive).length;let d=0,u=0,m=0;for(const f of Object.values(this.statistics))d+=f.triggered||0,u+=f.successful||0,m+=f.failed||0;return{totalRules:c,activeRules:o,totalTriggered:d,totalSuccessful:u,totalFailed:m,successRate:d>0?(u/d*100).toFixed(1):0}}getRecentActivities(c=10){try{return JSON.parse(localStorage.getItem("autoReplyActivities")||"[]").slice(0,c)}catch(o){return console.error("アクティビティ取得エラー:",o),[]}}hashString(c){let o=0;for(let d=0;d<c.length;d++){const u=c.charCodeAt(d);o=(o<<5)-o+u,o=o&o}return Math.abs(o)}start(){this.loadRules(),console.log("自動返信エンジンが開始されました")}stop(){this.saveRules(),console.log("自動返信エンジンが停止されました")}}const Kt=new qv,Hv=()=>{const{hasPermission:i,PERMISSIONS:c}=xt(),[o,d]=y.useState("rules"),[u,m]=y.useState(!1),[f,b]=y.useState(null),[g,h]=y.useState(""),[j,C]=y.useState("all"),[L,$]=y.useState(!1),[O,_]=y.useState(null),[N,w]=y.useState([]),[E,T]=y.useState([]);y.useEffect(()=>{Kt.start();const A=Kt.loadRules();return A.length===0?T([{id:"1",name:"営業時間案内",type:"keyword",trigger:{keywords:["営業時間","営業","時間","何時","いつ"],exact:!1},response:{type:"text",content:`営業時間のご案内

📅 平日：9:00 - 18:00
📅 土曜：10:00 - 16:00
📅 日祝：定休日

お気軽にお問い合わせください！`,buttons:[{type:"phone",label:"📞 電話する",uri:"tel:03-1234-5678"},{type:"url",label:"🌐 詳細を見る",uri:"https://example.com/hours"}]},conditions:{timeRange:null,userSegment:"all",maxUsagePerUser:null},isActive:!0,priority:1,stats:{triggered:45,successful:43,lastTriggered:"2024-01-15T14:30:00Z"},createdAt:"2024-01-01T00:00:00Z",updatedAt:"2024-01-10T15:20:00Z"},{id:"2",name:"営業時間外自動応答",type:"time",trigger:{timeCondition:"outside_hours",businessHours:{weekdays:{start:"09:00",end:"18:00"},saturday:{start:"10:00",end:"16:00"},sunday:"closed"}},response:{type:"text",content:`お疲れ様です。
現在、営業時間外です。

⏰ 営業時間
平日：9:00 - 18:00
土曜：10:00 - 16:00
日祝：定休日

緊急のご用件は下記までお電話ください。`,buttons:[{type:"phone",label:"🚨 緊急連絡",uri:"tel:090-1234-5678"},{type:"message",label:"📝 メッセージを残す",text:"メッセージを残したいです"}]},conditions:{timeRange:"outside_hours",userSegment:"all",maxUsagePerUser:1},isActive:!0,priority:5,stats:{triggered:12,successful:12,lastTriggered:"2024-01-15T19:30:00Z"},createdAt:"2024-01-01T00:00:00Z",updatedAt:"2024-01-05T10:15:00Z"},{id:"3",name:"ウェルカムメッセージ",type:"behavior",trigger:{event:"friend_add",condition:"first_time"},response:{type:"template",content:{type:"bubble",body:{type:"box",layout:"vertical",contents:[{type:"text",text:"友だち追加ありがとうございます！🎉",weight:"bold",size:"xl"},{type:"text",text:"お得な情報やサービスをお届けします。",wrap:!0,margin:"md"}]},footer:{type:"box",layout:"vertical",contents:[{type:"button",action:{type:"message",label:"🎁 特典クーポンを受け取る",text:"クーポンが欲しいです"},style:"primary"}]}}},conditions:{timeRange:null,userSegment:"new_users",maxUsagePerUser:1},isActive:!0,priority:10,stats:{triggered:23,successful:23,lastTriggered:"2024-01-15T11:45:00Z"},createdAt:"2024-01-01T00:00:00Z",updatedAt:"2024-01-08T14:30:00Z"},{id:"4",name:"料金・価格問い合わせ",type:"keyword",trigger:{keywords:["料金","価格","値段","金額","いくら","費用"],exact:!1},response:{type:"carousel",content:{type:"carousel",contents:[{type:"bubble",header:{type:"box",layout:"vertical",contents:[{type:"text",text:"ベーシックプラン",weight:"bold",color:"#ffffff"}],backgroundColor:"#3b82f6"},body:{type:"box",layout:"vertical",contents:[{type:"text",text:"¥5,000/月",size:"xl",weight:"bold"},{type:"text",text:"基本機能をご利用いただけます",wrap:!0}]}},{type:"bubble",header:{type:"box",layout:"vertical",contents:[{type:"text",text:"プレミアムプラン",weight:"bold",color:"#ffffff"}],backgroundColor:"#f59e0b"},body:{type:"box",layout:"vertical",contents:[{type:"text",text:"¥10,000/月",size:"xl",weight:"bold"},{type:"text",text:"すべての機能をご利用いただけます",wrap:!0}]}}]}},conditions:{timeRange:null,userSegment:"all",maxUsagePerUser:null},isActive:!1,priority:3,stats:{triggered:18,successful:16,lastTriggered:"2024-01-14T16:20:00Z"},createdAt:"2024-01-02T00:00:00Z",updatedAt:"2024-01-12T09:45:00Z"}]):T(A),S(),()=>{Kt.stop()}},[]);const S=()=>{const A=Kt.getOverallStatistics(),Q=Kt.getRecentActivities(10);_(A),w(Q)},M=E.filter(A=>{const Q=g===""||A.name.toLowerCase().includes(g.toLowerCase())||A.trigger.keywords&&A.trigger.keywords.some(R=>R.toLowerCase().includes(g.toLowerCase())),te=j==="all"||j==="active"&&A.isActive||j==="inactive"&&!A.isActive;return Q&&te}),H=A=>{Kt.toggleRule(A);const Q=Kt.loadRules();T(Q),S()},ee=A=>{if(window.confirm("このルールを削除してもよろしいですか？")){Kt.removeRule(A);const Q=Kt.loadRules();T(Q),S()}},Y=A=>{b(A),$(!0),m(!0)},le=()=>{b(null),$(!1),m(!0)},F=A=>{Kt.addRule(A);const Q=Kt.loadRules();T(Q),S(),m(!1),b(null),$(!1)},ce=()=>{m(!1),b(null),$(!1)},J=A=>{switch(A){case"keyword":return e.jsx(Zt,{className:"h-4 w-4 text-blue-500"});case"time":return e.jsx(ut,{className:"h-4 w-4 text-orange-500"});case"behavior":return e.jsx(sa,{className:"h-4 w-4 text-green-500"});default:return e.jsx(ea,{className:"h-4 w-4 text-gray-500"})}},de=A=>({keyword:"キーワード",time:"時間条件",behavior:"行動トリガー"})[A]||"その他",pe=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[e.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(ea,{className:"h-8 w-8 text-blue-600"}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:"総ルール数"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:O?.totalRules||0})]})]})}),e.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(rt,{className:"h-8 w-8 text-green-600"}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:"有効ルール"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:O?.activeRules||0})]})]})}),e.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(P0,{className:"h-8 w-8 text-purple-600"}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:"総発動回数"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:O?.totalTriggered||0})]})]})}),e.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(ka,{className:"h-8 w-8 text-orange-600"}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:"成功率"}),e.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:[O?.successRate||0,"%"]})]})]})})]}),O&&e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"システム統計"}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:O.totalSuccessful}),e.jsx("p",{className:"text-sm text-gray-500",children:"成功応答"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:O.totalFailed}),e.jsx("p",{className:"text-sm text-gray-500",children:"失敗応答"})]}),e.jsxs("div",{className:"text-center",children:[e.jsxs("p",{className:"text-2xl font-bold text-green-600",children:[O.successRate,"%"]}),e.jsx("p",{className:"text-sm text-gray-500",children:"成功率"})]}),e.jsxs("div",{className:"text-center",children:[e.jsxs("p",{className:"text-2xl font-bold text-blue-600",children:[O.activeRules,"/",O.totalRules]}),e.jsx("p",{className:"text-sm text-gray-500",children:"有効ルール"})]})]})]}),e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"最近のアクティビティ"}),e.jsxs("button",{onClick:S,className:"text-blue-600 hover:text-blue-800 text-sm font-medium",children:[e.jsx(Vt,{className:"h-4 w-4 inline mr-1"}),"更新"]})]}),e.jsx("div",{className:"space-y-4",children:N.length>0?N.map(A=>e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center ${A.success?"bg-green-100 text-green-600":"bg-red-100 text-red-600"}`,children:A.success?e.jsx(rt,{className:"h-4 w-4"}):e.jsx(ks,{className:"h-4 w-4"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:A.ruleName}),e.jsxs("p",{className:"text-sm text-gray-600",children:["ユーザー: ",A.userName]}),e.jsxs("p",{className:"text-sm text-gray-500",children:["メッセージ: ",A.messageText]}),e.jsx("p",{className:"text-xs text-gray-400",children:new Date(A.timestamp).toLocaleString("ja-JP")})]})]},A.id)):e.jsxs("div",{className:"text-center py-8",children:[e.jsx(ea,{className:"h-8 w-8 text-gray-400 mx-auto mb-2"}),e.jsx("p",{className:"text-sm text-gray-500",children:"アクティビティはまだありません"})]})})]})]}),Ce=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[e.jsxs("div",{className:"flex-1 relative",children:[e.jsx(mt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),e.jsx("input",{type:"text",placeholder:"ルール名、キーワードで検索...",value:g,onChange:A=>h(A.target.value),className:"pl-9 w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsxs("select",{value:j,onChange:A=>C(A.target.value),className:"border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"all",children:"すべて"}),e.jsx("option",{value:"active",children:"有効のみ"}),e.jsx("option",{value:"inactive",children:"無効のみ"})]}),i(c.MESSAGE_SEND)&&e.jsxs("button",{onClick:le,className:"inline-flex items-center px-4 py-2 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700",children:[e.jsx(it,{className:"-ml-1 mr-2 h-4 w-4"}),"新規作成"]})]})]}),e.jsx("div",{className:"space-y-4",children:M.map(A=>e.jsx("div",{className:"bg-white rounded-lg border border-gray-200 overflow-hidden",children:e.jsx("div",{className:"p-6",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[J(A.type),e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:A.name}),e.jsx("span",{className:"text-xs bg-gray-100 text-gray-600 px-2 py-1 rounded-full",children:de(A.type)}),e.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${A.isActive?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:A.isActive?"有効":"無効"})]}),e.jsxs("div",{className:"mb-3",children:[A.type==="keyword"&&A.trigger.keywords&&e.jsxs("div",{className:"flex flex-wrap gap-1",children:[e.jsx("span",{className:"text-sm text-gray-600 mr-2",children:"キーワード:"}),A.trigger.keywords.slice(0,3).map((Q,te)=>e.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs bg-blue-100 text-blue-800",children:Q},te)),A.trigger.keywords.length>3&&e.jsxs("span",{className:"text-xs text-gray-500",children:["+",A.trigger.keywords.length-3]})]}),A.type==="time"&&e.jsxs("p",{className:"text-sm text-gray-600",children:["条件: ",A.trigger.timeCondition==="outside_hours"?"営業時間外":"時間指定"]}),A.type==="behavior"&&e.jsxs("p",{className:"text-sm text-gray-600",children:["イベント: ",A.trigger.event==="friend_add"?"友だち追加":"その他"]})]}),e.jsxs("div",{className:"flex items-center space-x-6 text-sm text-gray-500",children:[e.jsxs("span",{children:["発動: ",A.stats.triggered,"回"]}),e.jsxs("span",{children:["成功: ",A.stats.successful,"回"]}),e.jsxs("span",{children:["優先度: ",A.priority]}),A.stats.lastTriggered&&e.jsxs("span",{children:["最終: ",new Date(A.stats.lastTriggered).toLocaleDateString("ja-JP")]})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>H(A.id),className:`p-2 rounded-md ${A.isActive?"text-green-600 hover:bg-green-50":"text-gray-400 hover:bg-gray-50"}`,title:A.isActive?"無効にする":"有効にする",children:A.isActive?e.jsx(Pb,{className:"h-4 w-4"}):e.jsx(Fb,{className:"h-4 w-4"})}),e.jsx("button",{onClick:()=>Y(A),className:"p-2 text-blue-600 hover:bg-blue-50 rounded-md",title:"編集",children:e.jsx(Ca,{className:"h-4 w-4"})}),e.jsx("button",{onClick:()=>navigator.clipboard.writeText(JSON.stringify(A,null,2)),className:"p-2 text-gray-600 hover:bg-gray-50 rounded-md",title:"コピー",children:e.jsx(ws,{className:"h-4 w-4"})}),e.jsx("button",{onClick:()=>ee(A.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-md",title:"削除",children:e.jsx(vt,{className:"h-4 w-4"})})]})]})})},A.id))}),M.length===0&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx(ea,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"自動返信ルールが見つかりません"}),e.jsx("p",{className:"text-gray-500 mb-6",children:"検索条件を変更するか、新しいルールを作成してください。"}),i(c.MESSAGE_SEND)&&e.jsxs("button",{onClick:le,className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700",children:[e.jsx(it,{className:"-ml-1 mr-2 h-4 w-4"}),"最初のルールを作成"]})]})]});return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"md:flex md:items-center md:justify-between",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h2",{className:"text-2xl font-bold leading-7 text-gray-900 sm:text-3xl sm:truncate",children:"自動返信システム"}),e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"キーワード・時間・行動に基づく自動メッセージ返信を管理します"})]}),e.jsxs("div",{className:"mt-4 flex space-x-3 md:mt-0 md:ml-4",children:[e.jsxs("button",{className:"inline-flex items-center px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50",children:[e.jsx(_t,{className:"-ml-1 mr-2 h-4 w-4"}),"設定"]}),e.jsxs("button",{onClick:S,className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-green-600 hover:bg-green-700",children:[e.jsx(Vt,{className:"-ml-1 mr-2 h-4 w-4"}),"統計更新"]})]})]}),e.jsx("div",{className:"border-b border-gray-200",children:e.jsxs("nav",{className:"-mb-px flex space-x-8",children:[e.jsxs("button",{onClick:()=>d("rules"),className:`py-2 px-1 border-b-2 font-medium text-sm ${o==="rules"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:["ルール管理 (",E.length,")"]}),e.jsx("button",{onClick:()=>d("stats"),className:`py-2 px-1 border-b-2 font-medium text-sm ${o==="stats"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"統計・分析"})]})}),o==="rules"&&Ce(),o==="stats"&&pe(),e.jsx(zv,{isOpen:u,onClose:ce,onSave:F,rule:f,isEdit:L})]})},Bv=()=>{const[i,c]=y.useState("overview"),[o,d]=y.useState({}),u=b=>{d(g=>({...g,[b]:!g[b]}))},m=[{id:"overview",title:"システム概要",icon:ai,items:[{id:"about",title:"LINE管理ダッシュボードとは"},{id:"features",title:"主要機能"},{id:"ui-design",title:"モダンUIデザイン"},{id:"mobile-support",title:"モバイル対応"},{id:"requirements",title:"システム要件"}]},{id:"users",title:"ユーザー管理",icon:_e,items:[{id:"user-list",title:"ユーザー一覧・検索"},{id:"user-create",title:"新規ユーザー作成"},{id:"user-groups",title:"グループ管理"},{id:"csv-import-export",title:"CSV一括処理"}]},{id:"messages",title:"メッセージ管理",icon:Oe,items:[{id:"broadcast",title:"一斉配信"},{id:"templates",title:"メッセージテンプレート"},{id:"friend-growth",title:"友だち獲得"}]},{id:"chat",title:"チャット機能",icon:Zt,items:[{id:"official-line-accounts",title:"公式LINEアカウント管理"},{id:"chat-dashboard",title:"チャット管理"},{id:"api-integration",title:"API連携"},{id:"call-request",title:"LINE電話発信要請"},{id:"call-history",title:"通話履歴"}]},{id:"automation",title:"自動化機能",icon:ea,items:[{id:"auto-reply",title:"自動返信システム"},{id:"triggers",title:"トリガー設定"},{id:"ab-testing",title:"A/Bテスト"}]},{id:"analytics",title:"分析・統計",icon:l0,items:[{id:"analytics-overview",title:"統計ダッシュボード"},{id:"user-analytics",title:"ユーザー分析"},{id:"message-analytics",title:"メッセージ分析"}]},{id:"notifications",title:"通知管理",icon:bl,items:[{id:"push-notifications",title:"プッシュ通知"},{id:"scheduled-messages",title:"予約配信"}]},{id:"settings",title:"システム設定",icon:_t,items:[{id:"line-settings",title:"LINE設定"},{id:"webhook",title:"Webhook設定"},{id:"rich-menu",title:"リッチメニュー"}]},{id:"troubleshooting",title:"トラブルシューティング",icon:z0,items:[{id:"common-issues",title:"よくある問題"},{id:"error-codes",title:"エラーコード一覧"},{id:"support",title:"サポート情報"}]}],f={about:{title:"LINE管理ダッシュボードとは",content:e.jsxs("div",{className:"space-y-4",children:[e.jsx("p",{className:"text-gray-700",children:"LINE管理ダッシュボードは、LINE公式アカウントの運用を効率化する包括的な管理システムです。 友だちとのコミュニケーション、マーケティング活動、顧客管理を一元化して行うことができます。"}),e.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[e.jsx("h4",{className:"font-medium text-blue-900 mb-2",children:"主な特徴"}),e.jsxs("ul",{className:"list-disc list-inside space-y-1 text-blue-800",children:[e.jsx("li",{children:"直感的で使いやすいWeb界面"}),e.jsx("li",{children:"リアルタイムでのメッセージ管理"}),e.jsx("li",{children:"高度な自動化機能"}),e.jsx("li",{children:"詳細な分析・統計機能"}),e.jsx("li",{children:"セキュアなユーザー管理"})]})]})]})},"ui-design":{title:"モダンUIデザイン",content:e.jsxs("div",{className:"space-y-4",children:[e.jsx("p",{className:"text-gray-700",children:"LINE管理ダッシュボードは最新のUIデザイントレンドを取り入れた、直感的で美しいインターフェースを提供します。"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-purple-50 p-4 rounded-lg border",children:[e.jsxs("h4",{className:"font-medium text-gray-900 mb-2 flex items-center",children:[e.jsx(Rd,{className:"h-4 w-4 mr-2 text-blue-600"}),"デザイン特徴"]}),e.jsxs("ul",{className:"list-disc list-inside space-y-1 text-gray-700 text-sm",children:[e.jsx("li",{children:"グラデーション背景とガラスモーフィズム効果"}),e.jsx("li",{children:"バックドロップブラーとシャドウ効果"}),e.jsx("li",{children:"スムーズなアニメーションと遷移"}),e.jsx("li",{children:"直感的なマイクロインタラクション"}),e.jsx("li",{children:"レスポンシブ対応のカードレイアウト"})]})]}),e.jsxs("div",{className:"bg-gradient-to-r from-green-50 to-emerald-50 p-4 rounded-lg border",children:[e.jsxs("h4",{className:"font-medium text-gray-900 mb-2 flex items-center",children:[e.jsx(ti,{className:"h-4 w-4 mr-2 text-green-600"}),"UX改善点"]}),e.jsxs("ul",{className:"list-disc list-inside space-y-1 text-gray-700 text-sm",children:[e.jsx("li",{children:"ロールベースUIと権限表示"}),e.jsx("li",{children:"統計情報のビジュアル化"}),e.jsx("li",{children:"ワンクリックアクション"}),e.jsx("li",{children:"高コントラストの視認性"}),e.jsx("li",{children:"アクセシビリティ対応"})]})]})]}),e.jsx("div",{className:"bg-yellow-50 border-l-4 border-yellow-400 p-4",children:e.jsxs("div",{className:"flex items-start space-x-2",children:[e.jsx(rs,{className:"h-5 w-5 text-yellow-600 mt-0.5"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-yellow-900",children:"デザインシステム"}),e.jsx("p",{className:"text-sm text-yellow-800 mt-1",children:"統一されたコンポーネントライブラリにより、一貫性のある操作体験を提供します。 カード、ボタン、フォームなど全ての要素が統合されたデザイン言語で構築されています。"})]})]})})]})},"mobile-support":{title:"モバイル対応",content:e.jsxs("div",{className:"space-y-4",children:[e.jsx("p",{className:"text-gray-700",children:"スマートフォンやタブレットからの操作も完全サポート。外出先でも効率的にLINE管理が可能です。"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg text-center",children:[e.jsx(ti,{className:"h-12 w-12 text-blue-600 mx-auto mb-2"}),e.jsx("h4",{className:"font-medium text-blue-900 mb-2",children:"スマートフォン"}),e.jsxs("ul",{className:"text-sm text-blue-800 space-y-1",children:[e.jsx("li",{children:"固定底部ナビゲーション"}),e.jsx("li",{children:"タッチ操作最適化"}),e.jsx("li",{children:"片手操作対応"})]})]}),e.jsxs("div",{className:"bg-green-50 p-4 rounded-lg text-center",children:[e.jsx(Rd,{className:"h-12 w-12 text-green-600 mx-auto mb-2"}),e.jsx("h4",{className:"font-medium text-green-900 mb-2",children:"タブレット"}),e.jsxs("ul",{className:"text-sm text-green-800 space-y-1",children:[e.jsx("li",{children:"大画面レイアウト"}),e.jsx("li",{children:"2カラム表示"}),e.jsx("li",{children:"マルチタッチ対応"})]})]}),e.jsxs("div",{className:"bg-purple-50 p-4 rounded-lg text-center",children:[e.jsx(kn,{className:"h-12 w-12 text-purple-600 mx-auto mb-2"}),e.jsx("h4",{className:"font-medium text-purple-900 mb-2",children:"PWA対応"}),e.jsxs("ul",{className:"text-sm text-purple-800 space-y-1",children:[e.jsx("li",{children:"アプリ風操作感"}),e.jsx("li",{children:"オフライン対応"}),e.jsx("li",{children:"プッシュ通知"})]})]})]}),e.jsx("div",{className:"bg-green-50 border-l-4 border-green-400 p-4",children:e.jsxs("div",{className:"flex items-start space-x-2",children:[e.jsx(rt,{className:"h-5 w-5 text-green-600 mt-0.5"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-green-900",children:"モバイルファースト設計"}),e.jsx("p",{className:"text-sm text-green-800 mt-1",children:"全ての機能がモバイル環境で快適に利用できるよう設計されており、 デスクトップと同等の機能性を提供します。"})]})]})})]})},features:{title:"主要機能",content:e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[{icon:_e,title:"ユーザー管理",desc:"友だちの情報管理、グループ分類、一括操作"},{icon:Oe,title:"メッセージ配信",desc:"一斉配信、テンプレート管理、予約送信"},{icon:ea,title:"自動返信",desc:"キーワード・時間・行動による自動応答"},{icon:l0,title:"分析機能",desc:"配信効果測定、ユーザー行動分析"},{icon:aa,title:"電話連携",desc:"電話発信要請、通話履歴管理"},{icon:la,title:"セキュリティ",desc:"権限管理、アクセス制御"}].map((b,g)=>{const h=b.icon;return e.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[e.jsx(h,{className:"h-6 w-6 text-blue-600"}),e.jsx("h4",{className:"font-medium text-gray-900",children:b.title})]}),e.jsx("p",{className:"text-sm text-gray-600",children:b.desc})]},g)})})},requirements:{title:"システム要件",content:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-gray-900 mb-3",children:"推奨ブラウザ"}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[{name:"Chrome",version:"90+"},{name:"Firefox",version:"88+"},{name:"Safari",version:"14+"},{name:"Edge",version:"90+"}].map((b,g)=>e.jsxs("div",{className:"text-center p-3 bg-gray-50 rounded-lg",children:[e.jsx(kn,{className:"h-6 w-6 text-blue-600 mx-auto mb-1"}),e.jsx("p",{className:"text-sm font-medium",children:b.name}),e.jsx("p",{className:"text-xs text-gray-500",children:b.version})]},g))})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-gray-900 mb-3",children:"デバイス対応"}),e.jsxs("div",{className:"flex space-x-6",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Rd,{className:"h-5 w-5 text-green-600"}),e.jsx("span",{className:"text-sm text-gray-700",children:"デスクトップ"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ti,{className:"h-5 w-5 text-green-600"}),e.jsx("span",{className:"text-sm text-gray-700",children:"モバイル"})]})]})]})]})},"user-list":{title:"ユーザー一覧・検索",content:e.jsxs("div",{className:"space-y-4",children:[e.jsx("p",{className:"text-gray-700",children:"LINE公式アカウントの友だち一覧を表示し、効率的な管理を行うことができます。"}),e.jsxs("div",{className:"bg-yellow-50 p-4 rounded-lg",children:[e.jsxs("h4",{className:"font-medium text-yellow-900 mb-2 flex items-center",children:[e.jsx(mt,{className:"h-4 w-4 mr-2"}),"検索・フィルター機能"]}),e.jsxs("ul",{className:"list-disc list-inside space-y-1 text-yellow-800 text-sm",children:[e.jsx("li",{children:"名前・ID・電話番号での検索"}),e.jsx("li",{children:"タグ・グループ・ステータスでのフィルタ"}),e.jsx("li",{children:"登録日時・最終アクティブでの並び替え"}),e.jsx("li",{children:"一括選択・一括操作"})]})]}),e.jsx("div",{className:"border-l-4 border-blue-500 pl-4",children:e.jsxs("p",{className:"text-sm text-gray-600",children:[e.jsx("strong",{children:"ヒント:"})," 大量のユーザーを効率的に管理するために、タグ機能を積極的に活用しましょう。"]})})]})},"user-create":{title:"新規ユーザー作成",content:e.jsxs("div",{className:"space-y-4",children:[e.jsx("p",{className:"text-gray-700",children:"手動でユーザー情報を登録し、カスタム属性を設定できます。"}),e.jsxs("div",{className:"bg-green-50 p-4 rounded-lg",children:[e.jsx("h4",{className:"font-medium text-green-900 mb-2",children:"設定可能な項目"}),e.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm text-green-800",children:[e.jsx("div",{children:"• 基本情報（名前、電話、メール）"}),e.jsx("div",{children:"• プロフィール画像"}),e.jsx("div",{children:"• カスタムタグ"}),e.jsx("div",{children:"• グループ分類"}),e.jsx("div",{children:"• 権限レベル"}),e.jsx("div",{children:"• メモ・備考"})]})]})]})},"user-groups":{title:"グループ管理",content:e.jsxs("div",{className:"space-y-4",children:[e.jsx("p",{className:"text-gray-700",children:"ユーザーをグループ化して、効率的なメッセージ配信とターゲティングを行います。"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"border border-gray-200 rounded-lg p-3",children:[e.jsx("h5",{className:"font-medium text-gray-900",children:"動的グループ"}),e.jsx("p",{className:"text-sm text-gray-600",children:"条件に基づいて自動的にメンバーが更新される"})]}),e.jsxs("div",{className:"border border-gray-200 rounded-lg p-3",children:[e.jsx("h5",{className:"font-medium text-gray-900",children:"静的グループ"}),e.jsx("p",{className:"text-sm text-gray-600",children:"手動で管理するメンバー固定のグループ"})]})]})]})},"csv-import-export":{title:"CSV一括処理",content:e.jsxs("div",{className:"space-y-4",children:[e.jsx("p",{className:"text-gray-700",children:"大量のユーザーデータを効率的にインポート・エクスポートできます。"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[e.jsxs("h4",{className:"font-medium text-blue-900 mb-2 flex items-center",children:[e.jsx(ls,{className:"h-4 w-4 mr-2"}),"インポート機能"]}),e.jsxs("ul",{className:"list-disc list-inside space-y-1 text-blue-800 text-sm",children:[e.jsx("li",{children:"CSVファイル形式対応"}),e.jsx("li",{children:"データマッピング機能"}),e.jsx("li",{children:"重複チェック"}),e.jsx("li",{children:"エラー検証"})]})]}),e.jsxs("div",{className:"bg-green-50 p-4 rounded-lg",children:[e.jsxs("h4",{className:"font-medium text-green-900 mb-2 flex items-center",children:[e.jsx(Gt,{className:"h-4 w-4 mr-2"}),"エクスポート機能"]}),e.jsxs("ul",{className:"list-disc list-inside space-y-1 text-green-800 text-sm",children:[e.jsx("li",{children:"カスタム列選択"}),e.jsx("li",{children:"フィルタ条件適用"}),e.jsx("li",{children:"Excel互換形式"}),e.jsx("li",{children:"履歴管理"})]})]})]})]})},broadcast:{title:"一斉配信",content:e.jsxs("div",{className:"space-y-4",children:[e.jsx("p",{className:"text-gray-700",children:"大量のユーザーに対して効率的にメッセージを配信できます。"}),e.jsxs("div",{className:"bg-purple-50 p-4 rounded-lg",children:[e.jsx("h4",{className:"font-medium text-purple-900 mb-2",children:"配信タイプ"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3 text-sm",children:[e.jsxs("div",{className:"bg-white p-3 rounded border",children:[e.jsx("h5",{className:"font-medium text-purple-900",children:"即時配信"}),e.jsx("p",{className:"text-purple-700",children:"すぐにメッセージを送信"})]}),e.jsxs("div",{className:"bg-white p-3 rounded border",children:[e.jsx("h5",{className:"font-medium text-purple-900",children:"予約配信"}),e.jsx("p",{className:"text-purple-700",children:"指定日時に自動送信"})]}),e.jsxs("div",{className:"bg-white p-3 rounded border",children:[e.jsx("h5",{className:"font-medium text-purple-900",children:"テスト配信"}),e.jsx("p",{className:"text-purple-700",children:"少数グループで事前テスト"})]})]})]})]})},templates:{title:"メッセージテンプレート",content:e.jsxs("div",{className:"space-y-4",children:[e.jsx("p",{className:"text-gray-700",children:"よく使用するメッセージをテンプレート化して、配信作業を効率化できます。"}),e.jsx("div",{className:"space-y-3",children:[{type:"テキスト",desc:"基本的な文字メッセージ"},{type:"クイック返信",desc:"返信ボタン付きメッセージ"},{type:"カルーセル",desc:"複数の選択肢を横並び表示"},{type:"Flex",desc:"自由度の高いレイアウト"}].map((b,g)=>e.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-gray-50 rounded-lg",children:[e.jsx(Oe,{className:"h-5 w-5 text-blue-600"}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-gray-900",children:b.type}),e.jsx("p",{className:"text-sm text-gray-600",children:b.desc})]})]},g))})]})},"friend-growth":{title:"友だち獲得",content:e.jsxs("div",{className:"space-y-4",children:[e.jsx("p",{className:"text-gray-700",children:"LINE公式アカウントの友だち数を効率的に増やすための機能群です。"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"bg-orange-50 p-4 rounded-lg",children:[e.jsx("h4",{className:"font-medium text-orange-900 mb-2",children:"QRコード生成"}),e.jsx("p",{className:"text-sm text-orange-800",children:"カスタムパラメータ付きQRコードを生成"})]}),e.jsxs("div",{className:"bg-pink-50 p-4 rounded-lg",children:[e.jsx("h4",{className:"font-medium text-pink-900 mb-2",children:"友だち追加促進"}),e.jsx("p",{className:"text-sm text-pink-800",children:"追加ボタンのカスタマイズと配置"})]})]})]})},"official-line-accounts":{title:"公式LINEアカウント管理",content:e.jsxs("div",{className:"space-y-4",children:[e.jsx("p",{className:"text-gray-700",children:"複数の公式LINEアカウントを一括管理し、各アカウントに登録されているユーザーとの効率的なコミュニケーションを実現します。"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"bg-green-50 p-4 rounded-lg",children:[e.jsxs("h4",{className:"font-medium text-green-900 mb-2 flex items-center",children:[e.jsx(ei,{className:"h-4 w-4 mr-2"}),"アカウント情報"]}),e.jsxs("ul",{className:"list-disc list-inside space-y-1 text-green-800 text-sm",children:[e.jsx("li",{children:"アカウント名・表示名"}),e.jsx("li",{children:"登録ユーザー数の表示"}),e.jsx("li",{children:"アクティブ状態の確認"}),e.jsx("li",{children:"24時間内のメッセージ数"}),e.jsx("li",{children:"カテゴリタグ表示"})]})]}),e.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[e.jsxs("h4",{className:"font-medium text-blue-900 mb-2 flex items-center",children:[e.jsx(sa,{className:"h-4 w-4 mr-2"}),"操作手順"]}),e.jsxs("ol",{className:"list-decimal list-inside space-y-1 text-blue-800 text-sm",children:[e.jsx("li",{children:"公式LINEアカウントを選択"}),e.jsx("li",{children:"ユーザー一覧が自動表示"}),e.jsx("li",{children:"個別チャットを開始"}),e.jsx("li",{children:"メッセージ送信・通話要請"}),e.jsx("li",{children:"戻るボタンで一覧に復帰"})]})]})]}),e.jsx("div",{className:"bg-yellow-50 border-l-4 border-yellow-400 p-4",children:e.jsxs("div",{className:"flex items-start space-x-2",children:[e.jsx(Ld,{className:"h-5 w-5 text-yellow-600 mt-0.5"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-yellow-900",children:"API連携対応"}),e.jsx("p",{className:"text-sm text-yellow-800 mt-1",children:"各公式LINEアカウントの情報は、LINE Messaging APIを通じてリアルタイムで取得・更新されます。 複数店舗や部門での運用にも対応しています。"})]})]})})]})},"chat-dashboard":{title:"チャット管理",content:e.jsxs("div",{className:"space-y-4",children:[e.jsx("p",{className:"text-gray-700",children:"選択した公式LINEアカウントのユーザーとの個別チャットを効率的に管理できます。"}),e.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[e.jsx("h4",{className:"font-medium text-blue-900 mb-2",children:"主な機能"}),e.jsxs("ul",{className:"list-disc list-inside space-y-1 text-blue-800 text-sm",children:[e.jsx("li",{children:"リアルタイムメッセージ送受信"}),e.jsx("li",{children:"未読メッセージの管理"}),e.jsx("li",{children:"チャット履歴の検索・フィルタ"}),e.jsx("li",{children:"定型文の挿入"}),e.jsx("li",{children:"ファイル・画像の送受信"}),e.jsx("li",{children:"LINE通話要請機能"}),e.jsx("li",{children:"一括通話要請対応"})]})]}),e.jsxs("div",{className:"bg-green-50 p-4 rounded-lg",children:[e.jsxs("h4",{className:"font-medium text-green-900 mb-2 flex items-center",children:[e.jsx(Ln,{className:"h-4 w-4 mr-2"}),"新機能追加"]}),e.jsxs("ul",{className:"list-disc list-inside space-y-1 text-green-800 text-sm",children:[e.jsx("li",{children:"選択中の公式LINEアカウント情報表示"}),e.jsx("li",{children:"ユーザー統計情報の表示"}),e.jsx("li",{children:"アカウント切り替え機能"}),e.jsx("li",{children:"権限レベル別の操作制限"})]})]}),e.jsx("div",{className:"border-l-4 border-blue-500 pl-4",children:e.jsxs("p",{className:"text-sm text-gray-600",children:[e.jsx("strong",{children:"ヒント:"})," まず公式LINEアカウントを選択し、そのユーザー一覧から優先度の高い顧客を選んで対応しましょう。"]})})]})},"api-integration":{title:"API連携",content:e.jsxs("div",{className:"space-y-4",children:[e.jsx("p",{className:"text-gray-700",children:"LINE Messaging APIとの完全連携により、リアルタイムでデータの同期と管理を行います。"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[e.jsxs("h4",{className:"font-medium text-blue-900 mb-2 flex items-center",children:[e.jsx(kn,{className:"h-4 w-4 mr-2"}),"対応API"]}),e.jsxs("ul",{className:"list-disc list-inside space-y-1 text-blue-800 text-sm",children:[e.jsx("li",{children:"LINE Messaging API"}),e.jsx("li",{children:"LINE Login API"}),e.jsx("li",{children:"LINE LIFF API"}),e.jsx("li",{children:"Webhook受信処理"}),e.jsx("li",{children:"プッシュメッセージ送信"})]})]}),e.jsxs("div",{className:"bg-purple-50 p-4 rounded-lg",children:[e.jsxs("h4",{className:"font-medium text-purple-900 mb-2 flex items-center",children:[e.jsx(ei,{className:"h-4 w-4 mr-2"}),"データ連携"]}),e.jsxs("ul",{className:"list-disc list-inside space-y-1 text-purple-800 text-sm",children:[e.jsx("li",{children:"ユーザープロフィール情報"}),e.jsx("li",{children:"メッセージ履歴同期"}),e.jsx("li",{children:"友だち追加・ブロック状態"}),e.jsx("li",{children:"リッチメニュー操作"}),e.jsx("li",{children:"統計データ取得"})]})]})]}),e.jsx("div",{className:"bg-red-50 border-l-4 border-red-400 p-4",children:e.jsxs("div",{className:"flex items-start space-x-2",children:[e.jsx(wb,{className:"h-5 w-5 text-red-600 mt-0.5"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-red-900",children:"セキュリティ"}),e.jsx("p",{className:"text-sm text-red-800 mt-1",children:"すべてのAPI通信はHTTPS暗号化により保護され、アクセストークンの適切な管理と 定期的な更新により高いセキュリティレベルを維持しています。"})]})]})})]})},"call-request":{title:"LINE通話要請",content:e.jsxs("div",{className:"space-y-4",children:[e.jsx("p",{className:"text-gray-700",children:"LINE公式アカウントから顧客にLINE通話をしてもらうよう要請する機能です。"}),e.jsxs("div",{className:"bg-green-50 p-4 rounded-lg",children:[e.jsx("h4",{className:"font-medium text-green-900 mb-2",children:"機能の流れ"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx("div",{className:"w-6 h-6 bg-green-600 rounded-full flex items-center justify-center text-white text-xs font-bold",children:"1"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-green-900",children:"メッセージ作成"}),e.jsx("p",{className:"text-xs text-green-700",children:"「お時間になりましたらこちらより発信ください」のメッセージ作成"})]})]}),e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx("div",{className:"w-6 h-6 bg-green-600 rounded-full flex items-center justify-center text-white text-xs font-bold",children:"2"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-green-900",children:"対象ユーザー選択"}),e.jsx("p",{className:"text-xs text-green-700",children:"通話要請を送信するユーザーを選択"})]})]}),e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx("div",{className:"w-6 h-6 bg-green-600 rounded-full flex items-center justify-center text-white text-xs font-bold",children:"3"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-green-900",children:"要請送信"}),e.jsx("p",{className:"text-xs text-green-700",children:"「📞LINE通話をかける」ボタン付きメッセージを送信"})]})]}),e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx("div",{className:"w-6 h-6 bg-green-600 rounded-full flex items-center justify-center text-white text-xs font-bold",children:"4"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-green-900",children:"顧客からのLINE通話"}),e.jsx("p",{className:"text-xs text-green-700",children:"顧客がボタンをタップしてLINE通話を開始"})]})]})]})]}),e.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[e.jsx("h4",{className:"font-medium text-blue-900 mb-2",children:"💬 LINE通話の特徴"}),e.jsxs("ul",{className:"list-disc list-inside space-y-1 text-blue-800 text-sm",children:[e.jsx("li",{children:"無料でのボイス・ビデオ通話が可能"}),e.jsx("li",{children:"LINE公式アカウントとの直接通話"}),e.jsx("li",{children:"通話履歴がLINEアプリ内で管理される"}),e.jsx("li",{children:"スマートフォン・PC両方で利用可能"})]})]})]})},"call-history":{title:"通話履歴",content:e.jsxs("div",{className:"space-y-4",children:[e.jsx("p",{className:"text-gray-700",children:"LINE通話要請とその結果を一元管理できます。"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"bg-orange-50 p-4 rounded-lg",children:[e.jsx("h4",{className:"font-medium text-orange-900 mb-2",children:"📊 統計機能"}),e.jsxs("ul",{className:"list-disc list-inside space-y-1 text-orange-800 text-sm",children:[e.jsx("li",{children:"要請送信数"}),e.jsx("li",{children:"LINE通話受信率"}),e.jsx("li",{children:"時間帯別分析"}),e.jsx("li",{children:"通話応答率"})]})]}),e.jsxs("div",{className:"bg-purple-50 p-4 rounded-lg",children:[e.jsx("h4",{className:"font-medium text-purple-900 mb-2",children:"🔍 フィルタ機能"}),e.jsxs("ul",{className:"list-disc list-inside space-y-1 text-purple-800 text-sm",children:[e.jsx("li",{children:"ステータス別表示"}),e.jsx("li",{children:"日付範囲指定"}),e.jsx("li",{children:"ユーザー別検索"}),e.jsx("li",{children:"成功/失敗での絞り込み"})]})]})]}),e.jsxs("div",{className:"bg-green-50 p-4 rounded-lg",children:[e.jsx("h4",{className:"font-medium text-green-900 mb-2",children:"📱 LINE通話履歴の特徴"}),e.jsxs("ul",{className:"list-disc list-inside space-y-1 text-green-800 text-sm",children:[e.jsx("li",{children:"通話時間・品質の記録"}),e.jsx("li",{children:"音声・ビデオ通話の区別"}),e.jsx("li",{children:"通話中断・再接続の履歴"}),e.jsx("li",{children:"顧客満足度の記録機能"})]})]})]})},"auto-reply":{title:"自動返信システム",content:e.jsxs("div",{className:"space-y-4",children:[e.jsx("p",{className:"text-gray-700",children:"キーワード、時間、ユーザー行動に基づいて自動的にメッセージを返信するシステムです。"}),e.jsxs("div",{className:"bg-indigo-50 p-4 rounded-lg",children:[e.jsx("h4",{className:"font-medium text-indigo-900 mb-2",children:"トリガータイプ"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[{icon:Zt,title:"キーワード",desc:"メッセージ内の特定語句"},{icon:ut,title:"時間",desc:"営業時間外など"},{icon:sa,title:"行動",desc:"友だち追加など"}].map((b,g)=>{const h=b.icon;return e.jsxs("div",{className:"bg-white p-3 rounded border",children:[e.jsx(h,{className:"h-5 w-5 text-indigo-600 mb-1"}),e.jsx("h5",{className:"font-medium text-indigo-900",children:b.title}),e.jsx("p",{className:"text-sm text-indigo-700",children:b.desc})]},g)})})]})]})},triggers:{title:"トリガー設定",content:e.jsxs("div",{className:"space-y-4",children:[e.jsx("p",{className:"text-gray-700",children:"自動返信を発動させるトリガーの詳細設定について説明します。"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[e.jsxs("h4",{className:"font-medium text-gray-900 mb-2 flex items-center",children:[e.jsx(Zt,{className:"h-5 w-5 text-blue-600 mr-2"}),"キーワードトリガー"]}),e.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"メッセージに含まれる特定の語句で自動返信を発動"}),e.jsxs("ul",{className:"list-disc list-inside space-y-1 text-sm text-gray-700 ml-4",children:[e.jsxs("li",{children:[e.jsx("strong",{children:"部分一致"}),": キーワードが含まれていれば発動"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"完全一致"}),": メッセージ全体がキーワードと一致"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"正規表現"}),": 高度なパターンマッチング"]})]})]}),e.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[e.jsxs("h4",{className:"font-medium text-gray-900 mb-2 flex items-center",children:[e.jsx(ut,{className:"h-5 w-5 text-orange-600 mr-2"}),"時間トリガー"]}),e.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"特定の時間条件で自動返信を発動"}),e.jsxs("ul",{className:"list-disc list-inside space-y-1 text-sm text-gray-700 ml-4",children:[e.jsxs("li",{children:[e.jsx("strong",{children:"営業時間外"}),": 設定した営業時間外のメッセージに自動返信"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"特定日時"}),": 指定した日時に自動メッセージ送信"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"定期実行"}),": 毎日/毎週など定期的な送信"]})]})]}),e.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[e.jsxs("h4",{className:"font-medium text-gray-900 mb-2 flex items-center",children:[e.jsx(sa,{className:"h-5 w-5 text-green-600 mr-2"}),"行動トリガー"]}),e.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"ユーザーの特定の行動で自動返信を発動"}),e.jsxs("ul",{className:"list-disc list-inside space-y-1 text-sm text-gray-700 ml-4",children:[e.jsxs("li",{children:[e.jsx("strong",{children:"友だち追加"}),": 新規友だち追加時にウェルカムメッセージ"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"スタンプ送信"}),": スタンプが送信された時"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"位置情報共有"}),": 位置情報が送信された時"]})]})]})]})]})},"ab-testing":{title:"A/Bテスト",content:e.jsxs("div",{className:"space-y-4",children:[e.jsx("p",{className:"text-gray-700",children:"異なる返信内容をテストして、より効果的なメッセージを見つけることができます。"}),e.jsxs("div",{className:"bg-indigo-50 p-4 rounded-lg",children:[e.jsx("h4",{className:"font-medium text-indigo-900 mb-2",children:"A/Bテストの流れ"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx("div",{className:"w-6 h-6 bg-indigo-600 rounded-full flex items-center justify-center text-white text-xs font-bold",children:"1"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-indigo-900",children:"バリアント作成"}),e.jsx("p",{className:"text-xs text-indigo-700",children:"パターンAとパターンBの返信内容を作成"})]})]}),e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx("div",{className:"w-6 h-6 bg-indigo-600 rounded-full flex items-center justify-center text-white text-xs font-bold",children:"2"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-indigo-900",children:"配信比率設定"}),e.jsx("p",{className:"text-xs text-indigo-700",children:"各パターンの配信比率を設定（例：50:50）"})]})]}),e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx("div",{className:"w-6 h-6 bg-indigo-600 rounded-full flex items-center justify-center text-white text-xs font-bold",children:"3"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-indigo-900",children:"自動配信"}),e.jsx("p",{className:"text-xs text-indigo-700",children:"システムが自動的に振り分けて配信"})]})]}),e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx("div",{className:"w-6 h-6 bg-indigo-600 rounded-full flex items-center justify-center text-white text-xs font-bold",children:"4"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-indigo-900",children:"結果分析"}),e.jsx("p",{className:"text-xs text-indigo-700",children:"開封率、クリック率等を比較分析"})]})]})]})]}),e.jsxs("div",{className:"bg-yellow-50 p-4 rounded-lg",children:[e.jsx("h4",{className:"font-medium text-yellow-900 mb-2",children:"⚠️ 注意点"}),e.jsxs("ul",{className:"list-disc list-inside space-y-1 text-yellow-800 text-sm",children:[e.jsx("li",{children:"十分なサンプル数を確保してから判断する"}),e.jsx("li",{children:"テスト期間は最低でも1週間以上設ける"}),e.jsx("li",{children:"1度に複数の要素を変更しない"})]})]})]})},"analytics-overview":{title:"統計ダッシュボード",content:e.jsxs("div",{className:"space-y-4",children:[e.jsx("p",{className:"text-gray-700",children:"LINE公式アカウントの運用状況を包括的に把握できるダッシュボードです。"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[e.jsx("h4",{className:"font-medium text-blue-900 mb-2",children:"📊 主要指標"}),e.jsxs("ul",{className:"list-disc list-inside space-y-1 text-blue-800 text-sm",children:[e.jsx("li",{children:"総友だち数・増減率"}),e.jsx("li",{children:"メッセージ配信数"}),e.jsx("li",{children:"開封率・クリック率"}),e.jsx("li",{children:"アクティブユーザー数"})]})]}),e.jsxs("div",{className:"bg-green-50 p-4 rounded-lg",children:[e.jsx("h4",{className:"font-medium text-green-900 mb-2",children:"📈 期間比較"}),e.jsxs("ul",{className:"list-disc list-inside space-y-1 text-green-800 text-sm",children:[e.jsx("li",{children:"日別・週別・月別比較"}),e.jsx("li",{children:"前年同期比較"}),e.jsx("li",{children:"トレンド分析"}),e.jsx("li",{children:"季節性パターン"})]})]})]})]})},"user-analytics":{title:"ユーザー分析",content:e.jsxs("div",{className:"space-y-4",children:[e.jsx("p",{className:"text-gray-700",children:"友だちの行動パターンと属性を詳細に分析できます。"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[e.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"👥 デモグラフィック分析"}),e.jsxs("ul",{className:"list-disc list-inside space-y-1 text-sm text-gray-700 ml-4",children:[e.jsx("li",{children:"年齢層別分布"}),e.jsx("li",{children:"性別比率"}),e.jsx("li",{children:"地域別分布"}),e.jsx("li",{children:"登録期間別分析"})]})]}),e.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[e.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"📱 行動分析"}),e.jsxs("ul",{className:"list-disc list-inside space-y-1 text-sm text-gray-700 ml-4",children:[e.jsx("li",{children:"メッセージ反応率"}),e.jsx("li",{children:"アクティブ時間帯"}),e.jsx("li",{children:"コンテンツ別エンゲージメント"}),e.jsx("li",{children:"離脱・ブロック分析"})]})]})]})]})},"message-analytics":{title:"メッセージ分析",content:e.jsxs("div",{className:"space-y-4",children:[e.jsx("p",{className:"text-gray-700",children:"送信したメッセージの効果を詳細に分析し、改善点を見つけることができます。"}),e.jsxs("div",{className:"bg-purple-50 p-4 rounded-lg",children:[e.jsx("h4",{className:"font-medium text-purple-900 mb-2",children:"📈 配信効果指標"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-purple-900",children:"到達率"}),e.jsx("p",{className:"text-purple-700",children:"配信成功率"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-purple-900",children:"開封率"}),e.jsx("p",{className:"text-purple-700",children:"メッセージを見た割合"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-purple-900",children:"クリック率"}),e.jsx("p",{className:"text-purple-700",children:"リンク・ボタンクリック率"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-purple-900",children:"コンバージョン率"}),e.jsx("p",{className:"text-purple-700",children:"目標達成率"})]})]})]})]})},"push-notifications":{title:"プッシュ通知",content:e.jsxs("div",{className:"space-y-4",children:[e.jsx("p",{className:"text-gray-700",children:"重要な情報をタイムリーにユーザーに届けるプッシュ通知機能です。"}),e.jsxs("div",{className:"bg-red-50 p-4 rounded-lg",children:[e.jsx("h4",{className:"font-medium text-red-900 mb-2",children:"🚨 通知タイプ"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-3 h-3 bg-red-600 rounded-full"}),e.jsxs("span",{className:"text-sm text-red-800",children:[e.jsx("strong",{children:"緊急通知"}),": システム障害、重要なお知らせ"]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-3 h-3 bg-orange-600 rounded-full"}),e.jsxs("span",{className:"text-sm text-red-800",children:[e.jsx("strong",{children:"マーケティング"}),": キャンペーン、セール情報"]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-3 h-3 bg-blue-600 rounded-full"}),e.jsxs("span",{className:"text-sm text-red-800",children:[e.jsx("strong",{children:"リマインダー"}),": 予約確認、イベント通知"]})]})]})]})]})},"scheduled-messages":{title:"予約配信",content:e.jsxs("div",{className:"space-y-4",children:[e.jsx("p",{className:"text-gray-700",children:"指定した日時に自動的にメッセージを配信する機能です。"}),e.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[e.jsx("h4",{className:"font-medium text-blue-900 mb-2",children:"⏰ 予約配信の用途"}),e.jsxs("ul",{className:"list-disc list-inside space-y-1 text-blue-800 text-sm",children:[e.jsx("li",{children:"営業時間外の自動挨拶"}),e.jsx("li",{children:"定期的なニュースレター"}),e.jsx("li",{children:"誕生日・記念日メッセージ"}),e.jsx("li",{children:"イベント開催前のリマインダー"}),e.jsx("li",{children:"季節のご挨拶メッセージ"})]})]})]})},"line-settings":{title:"LINE設定",content:e.jsxs("div",{className:"space-y-4",children:[e.jsx("p",{className:"text-gray-700",children:"LINE Developers Console と連携するための基本設定を行います。"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[e.jsxs("h4",{className:"font-medium text-gray-900 mb-2 flex items-center",children:[e.jsx(Ld,{className:"h-5 w-5 text-blue-600 mr-2"}),"API設定"]}),e.jsxs("ul",{className:"list-disc list-inside space-y-1 text-sm text-gray-700 ml-4",children:[e.jsx("li",{children:"チャンネルアクセストークン"}),e.jsx("li",{children:"チャンネルシークレット"}),e.jsx("li",{children:"User ID (公式アカウント)"})]})]}),e.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[e.jsxs("h4",{className:"font-medium text-gray-900 mb-2 flex items-center",children:[e.jsx(ei,{className:"h-5 w-5 text-green-600 mr-2"}),"基本情報"]}),e.jsxs("ul",{className:"list-disc list-inside space-y-1 text-sm text-gray-700 ml-4",children:[e.jsx("li",{children:"アカウント名・説明文"}),e.jsx("li",{children:"プロフィール画像"}),e.jsx("li",{children:"業種・カテゴリ"})]})]})]})]})},webhook:{title:"Webhook設定",content:e.jsxs("div",{className:"space-y-4",children:[e.jsx("p",{className:"text-gray-700",children:"LINEからのメッセージを受信するためのWebhook設定について説明します。"}),e.jsxs("div",{className:"bg-orange-50 p-4 rounded-lg",children:[e.jsx("h4",{className:"font-medium text-orange-900 mb-2",children:"⚙️ 設定手順"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx("div",{className:"w-6 h-6 bg-orange-600 rounded-full flex items-center justify-center text-white text-xs font-bold",children:"1"}),e.jsx("p",{className:"text-sm text-orange-800",children:"WebhookURLを取得・設定"})]}),e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx("div",{className:"w-6 h-6 bg-orange-600 rounded-full flex items-center justify-center text-white text-xs font-bold",children:"2"}),e.jsx("p",{className:"text-sm text-orange-800",children:"SSL証明書の確認"})]}),e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx("div",{className:"w-6 h-6 bg-orange-600 rounded-full flex items-center justify-center text-white text-xs font-bold",children:"3"}),e.jsx("p",{className:"text-sm text-orange-800",children:"接続テストの実行"})]})]})]})]})},"rich-menu":{title:"リッチメニュー",content:e.jsxs("div",{className:"space-y-4",children:[e.jsx("p",{className:"text-gray-700",children:"チャット画面下部に表示される便利なメニューを設定できます。"}),e.jsxs("div",{className:"bg-green-50 p-4 rounded-lg",children:[e.jsx("h4",{className:"font-medium text-green-900 mb-2",children:"🎨 設計のポイント"}),e.jsxs("ul",{className:"list-disc list-inside space-y-1 text-green-800 text-sm",children:[e.jsx("li",{children:"よく使われる機能を配置"}),e.jsx("li",{children:"直感的で分かりやすいデザイン"}),e.jsx("li",{children:"適切なサイズ・解像度での画像作成"}),e.jsx("li",{children:"タップ領域の明確な区分け"})]})]})]})},"common-issues":{title:"よくある問題",content:e.jsx("div",{className:"space-y-4",children:e.jsx("div",{className:"space-y-3",children:[{q:"メッセージが送信されない",a:"LINE Webhook設定、アクセストークンの有効性を確認してください。"},{q:"自動返信が動作しない",a:"ルールの有効性、キーワード設定、優先度を確認してください。"},{q:"ユーザー情報が同期されない",a:"Webhook URLの設定とSSL証明書を確認してください。"},{q:"CSVインポートでエラーが発生",a:"ファイル形式、文字コード（UTF-8）、必須項目を確認してください。"}].map((b,g)=>e.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[e.jsxs("button",{onClick:()=>u(`faq-${g}`),className:"w-full text-left flex items-center justify-between",children:[e.jsx("h4",{className:"font-medium text-gray-900",children:b.q}),o[`faq-${g}`]?e.jsx(Cn,{className:"h-4 w-4 text-gray-500"}):e.jsx(qy,{className:"h-4 w-4 text-gray-500"})]}),o[`faq-${g}`]&&e.jsx("div",{className:"mt-3 pt-3 border-t border-gray-100",children:e.jsx("p",{className:"text-sm text-gray-600",children:b.a})})]},g))})})},"error-codes":{title:"エラーコード一覧",content:e.jsx("div",{className:"space-y-4",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"コード"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"説明"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"対処法"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:[{code:"401",desc:"認証エラー",solution:"アクセストークンを確認"},{code:"403",desc:"権限不足",solution:"ユーザー権限を確認"},{code:"429",desc:"レート制限",solution:"送信頻度を調整"},{code:"500",desc:"サーバーエラー",solution:"しばらく待って再試行"}].map((b,g)=>e.jsxs("tr",{children:[e.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm font-mono text-gray-900",children:b.code}),e.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-900",children:b.desc}),e.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-600",children:b.solution})]},g))})]})})})},support:{title:"サポート情報",content:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[e.jsx("h4",{className:"font-medium text-blue-900 mb-3",children:"お問い合わせ前のチェック"}),e.jsxs("ul",{className:"list-disc list-inside space-y-1 text-blue-800 text-sm",children:[e.jsx("li",{children:"よくある問題とエラーコード一覧を確認"}),e.jsx("li",{children:"LINE Developers コンソールの設定を確認"}),e.jsx("li",{children:"ブラウザのコンソールでエラーメッセージを確認"}),e.jsx("li",{children:"システム要件を満たしているかを確認"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[e.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"技術サポート"}),e.jsx("p",{className:"text-sm text-gray-600 mb-3",children:"システムの技術的な問題について"}),e.jsxs("button",{className:"inline-flex items-center text-sm text-blue-600 hover:text-blue-800",children:[e.jsx(li,{className:"h-4 w-4 mr-1"}),"サポートに問い合わせ"]})]}),e.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[e.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"ドキュメント"}),e.jsx("p",{className:"text-sm text-gray-600 mb-3",children:"詳細な設定手順とAPI仕様"}),e.jsxs("button",{className:"inline-flex items-center text-sm text-blue-600 hover:text-blue-800",children:[e.jsx(li,{className:"h-4 w-4 mr-1"}),"開発者ドキュメント"]})]})]})]})}};return e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"LINE管理ダッシュボード 取扱説明書"}),e.jsx("p",{className:"text-gray-600",children:"システムの機能と使い方について詳しく説明します"})]}),e.jsxs("div",{className:"flex flex-col lg:flex-row gap-8",children:[e.jsx("div",{className:"lg:w-80 flex-shrink-0",children:e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6 sticky top-6",children:[e.jsxs("h2",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[e.jsx(Mn,{className:"h-5 w-5 mr-2"}),"目次"]}),e.jsx("nav",{className:"space-y-2",children:m.map(b=>{const g=b.icon;return e.jsxs("div",{children:[e.jsxs("button",{onClick:()=>c(b.id),className:`w-full text-left flex items-center space-x-3 px-3 py-2 rounded-lg text-sm font-medium transition-colors ${i===b.id?"bg-blue-100 text-blue-700":"text-gray-600 hover:text-gray-900 hover:bg-gray-50"}`,children:[e.jsx(g,{className:"h-4 w-4"}),e.jsx("span",{children:b.title})]}),i===b.id&&e.jsx("div",{className:"ml-6 mt-2 space-y-1",children:b.items.map(h=>e.jsx("button",{onClick:()=>c(h.id),className:"w-full text-left px-3 py-1 text-sm text-gray-600 hover:text-blue-600 hover:bg-blue-50 rounded",children:h.title},h.id))})]},b.id)})})]})}),e.jsx("div",{className:"flex-1",children:e.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-8",children:f[i]?e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:f[i].title}),f[i].content]}):e.jsxs("div",{className:"text-center py-12",children:[e.jsx(ai,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"コンテンツが見つかりません"}),e.jsx("p",{className:"text-gray-500",children:"左側の目次から項目を選択してください。"})]})})})]}),e.jsx("div",{className:"mt-12 text-center py-8 border-t border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-center space-x-6 text-sm text-gray-500",children:[e.jsx("span",{children:"© 2024 LINE Management Dashboard"}),e.jsx("span",{children:"•"}),e.jsx("button",{className:"hover:text-gray-700",children:"プライバシーポリシー"}),e.jsx("span",{children:"•"}),e.jsx("button",{className:"hover:text-gray-700",children:"利用規約"}),e.jsx("span",{children:"•"}),e.jsx("button",{className:"hover:text-gray-700",children:"サポート"})]})})]})},$v=()=>e.jsx(Pj,{}),Zv=()=>e.jsxs("div",{className:"p-6",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"💬 メッセージ管理"}),e.jsx(Qj,{})]}),Gv=()=>e.jsx(Xj,{}),Vv=()=>e.jsx(Jj,{}),Yv=()=>e.jsx("div",{className:"p-6",children:e.jsx(vv,{})}),Qv=()=>e.jsx("div",{className:"p-6",children:e.jsx(Sv,{})}),Xv=()=>e.jsx("div",{className:"p-6",children:e.jsx(Cv,{})}),Kv=()=>e.jsx("div",{className:"p-6",children:e.jsx(kv,{})}),Jv=()=>e.jsx(Tv,{}),Iv=()=>e.jsx("div",{className:"p-6",children:e.jsx(Ev,{})}),Fv=()=>e.jsx("div",{className:"p-6",children:e.jsx(Av,{})}),Wv=()=>e.jsx("div",{className:"p-6",children:e.jsx(Uv,{})}),Pv=()=>e.jsx("div",{className:"p-6",children:e.jsx(Lv,{})}),eN=()=>e.jsx("div",{className:"p-6",children:e.jsx(Ov,{})}),tN=()=>e.jsx("div",{className:"p-6",children:e.jsx(Hv,{})}),sN=()=>e.jsx("div",{className:"p-6",children:e.jsx(Bv,{})});function aN(){return e.jsx(dy,{children:e.jsx(Pp,{children:e.jsx("div",{className:"App",children:e.jsxs(Mp,{children:[e.jsxs(qe,{path:"/",element:e.jsx(Yj,{}),children:[e.jsx(qe,{index:!0,element:e.jsx($v,{})}),e.jsx(qe,{path:"messages",element:e.jsx(Zv,{})}),e.jsx(qe,{path:"emoji-manager",element:e.jsx(tv,{})}),e.jsx(qe,{path:"users",element:e.jsx(Yv,{})}),e.jsx(qe,{path:"users/create",element:e.jsx(wv,{})}),e.jsx(qe,{path:"users/:id",element:e.jsx(Nv,{})}),e.jsx(qe,{path:"notifications",element:e.jsx(Qv,{})}),e.jsx(qe,{path:"analytics",element:e.jsx(Xv,{})}),e.jsx(qe,{path:"line-settings",element:e.jsx(Kv,{})}),e.jsx(qe,{path:"system",element:e.jsx(Jv,{})}),e.jsx(qe,{path:"templates",element:e.jsx(Iv,{})}),e.jsx(qe,{path:"friend-growth",element:e.jsx(Fv,{})}),e.jsx(qe,{path:"chat",element:e.jsx(Wv,{})}),e.jsx(qe,{path:"call-request",element:e.jsx(Pv,{})}),e.jsx(qe,{path:"call-history",element:e.jsx(eN,{})}),e.jsx(qe,{path:"automation/auto-reply",element:e.jsx(tN,{})}),e.jsx(qe,{path:"user-guide",element:e.jsx(sN,{})})]}),e.jsx(qe,{path:"/test-simple",element:e.jsx(Gv,{})}),e.jsx(qe,{path:"/test-broadcast",element:e.jsx(Vv,{})}),e.jsx(qe,{path:"/broadcast-history",element:e.jsx(Ij,{})}),e.jsx(qe,{path:"/test-emoji",element:e.jsx(Wj,{})})]})})})})}Og.createRoot(document.getElementById("root")).render(e.jsx(y.StrictMode,{children:e.jsx(aN,{})}));
